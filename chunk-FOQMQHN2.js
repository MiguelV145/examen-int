var kO=Object.defineProperty,OO=Object.defineProperties;var xO=Object.getOwnPropertyDescriptors;var sl=Object.getOwnPropertySymbols;var TD=Object.prototype.hasOwnProperty,DD=Object.prototype.propertyIsEnumerable;var wD=(t,e,n)=>e in t?kO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,x=(t,e)=>{for(var n in e||={})TD.call(e,n)&&wD(t,n,e[n]);if(sl)for(var n of sl(e))DD.call(e,n)&&wD(t,n,e[n]);return t},_e=(t,e)=>OO(t,xO(e));var LO=(t,e)=>{var n={};for(var r in t)TD.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&sl)for(var r of sl(t))e.indexOf(r)<0&&DD.call(t,r)&&(n[r]=t[r]);return n};function al(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function CD(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function c(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function bD(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fi(t){return this instanceof Fi?(this.v=t,this):new Fi(t)}function SD(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(T){return Promise.resolve(T).then(y,p)}}function a(y,T){r[y]&&(i[y]=function(A){return new Promise(function(S,P){o.push([y,A,S,P])>1||c(y,A)})},T&&(i[y]=T(i[y])))}function c(y,T){try{l(r[y](T))}catch(A){g(o[0][3],A)}}function l(y){y.value instanceof Fi?Promise.resolve(y.value.v).then(h,p):g(o[0][2],y)}function h(y){c("next",y)}function p(y){c("throw",y)}function g(y,T){y(T),o.shift(),o.length&&c(o[0][0],o[0][1])}}function AD(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof bD=="function"?bD(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var cl=t=>t&&typeof t.length=="number"&&typeof t!="function";function ne(t){return typeof t=="function"}function ul(t){return ne(t?.then)}function Ko(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ll=Ko(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Vi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ke=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ne(r))try{r()}catch(o){e=o instanceof ll?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{RD(o)}catch(s){e=e??[],s instanceof ll?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ll(e)}}add(e){var n;if(e&&e!==this)if(this.closed)RD(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Vi(n,e)}remove(e){let{_finalizers:n}=this;n&&Vi(n,e),e instanceof t&&e._removeParent(this)}};Ke.EMPTY=(()=>{let t=new Ke;return t.closed=!0,t})();var cg=Ke.EMPTY;function dl(t){return t instanceof Ke||t&&"closed"in t&&ne(t.remove)&&ne(t.add)&&ne(t.unsubscribe)}function RD(t){ne(t)?t():t.unsubscribe()}var an={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Qo={setTimeout(t,e,...n){let{delegate:r}=Qo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Qo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function hl(t){Qo.setTimeout(()=>{let{onUnhandledError:e}=an;if(e)e(t);else throw t})}function $a(){}var ND=ug("C",void 0,void 0);function MD(t){return ug("E",void 0,t)}function PD(t){return ug("N",t,void 0)}function ug(t,e,n){return{kind:t,value:e,error:n}}var ji=null;function Yo(t){if(an.useDeprecatedSynchronousErrorHandling){let e=!ji;if(e&&(ji={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ji;if(ji=null,n)throw r}}else t()}function kD(t){an.useDeprecatedSynchronousErrorHandling&&ji&&(ji.errorThrown=!0,ji.error=t)}var Ui=class extends Ke{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,dl(e)&&e.add(this)):this.destination=jO}static create(e,n,r){return new Jo(e,n,r)}next(e){this.isStopped?dg(PD(e),this):this._next(e)}error(e){this.isStopped?dg(MD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?dg(ND,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},FO=Function.prototype.bind;function lg(t,e){return FO.call(t,e)}var hg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){fl(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){fl(r)}else fl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){fl(n)}}},Jo=class extends Ui{constructor(e,n,r){super();let i;if(ne(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&an.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&lg(e.next,o),error:e.error&&lg(e.error,o),complete:e.complete&&lg(e.complete,o)}):i=e}this.destination=new hg(i)}};function fl(t){an.useDeprecatedSynchronousErrorHandling?kD(t):hl(t)}function VO(t){throw t}function dg(t,e){let{onStoppedNotification:n}=an;n&&Qo.setTimeout(()=>n(t,e))}var jO={closed:!0,next:$a,error:VO,complete:$a};var Zo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ot(t){return t}function pl(...t){return fg(t)}function fg(t){return t.length===0?Ot:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var J=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=BO(n)?n:new Jo(n,r,i);return Yo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=OD(r),new r((i,o)=>{let s=new Jo({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Zo](){return this}pipe(...n){return fg(n)(this)}toPromise(n){return n=OD(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function OD(t){var e;return(e=t??an.Promise)!==null&&e!==void 0?e:Promise}function UO(t){return t&&ne(t.next)&&ne(t.error)&&ne(t.complete)}function BO(t){return t&&t instanceof Ui||UO(t)&&dl(t)}function gl(t){return ne(t[Zo])}function ml(t){return Symbol.asyncIterator&&ne(t?.[Symbol.asyncIterator])}function yl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function $O(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var vl=$O();function _l(t){return ne(t?.[vl])}function El(t){return SD(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Fi(n.read());if(i)return yield Fi(void 0);yield yield Fi(r)}}finally{n.releaseLock()}})}function Il(t){return ne(t?.getReader)}function Be(t){if(t instanceof J)return t;if(t!=null){if(gl(t))return HO(t);if(cl(t))return zO(t);if(ul(t))return qO(t);if(ml(t))return xD(t);if(_l(t))return GO(t);if(Il(t))return WO(t)}throw yl(t)}function HO(t){return new J(e=>{let n=t[Zo]();if(ne(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function zO(t){return new J(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function qO(t){return new J(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,hl)})}function GO(t){return new J(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function xD(t){return new J(e=>{KO(t,e).catch(n=>e.error(n))})}function WO(t){return xD(El(t))}function KO(t,e){var n,r,i,o;return CD(this,void 0,void 0,function*(){try{for(n=AD(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Ct(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function QO(t){return ne(t?.lift)}function ue(t){return e=>{if(QO(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function le(t,e,n,r,i){return new pg(t,e,n,r,i)}var pg=class extends Ui{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Fr(t,e=0){return ue((n,r)=>{n.subscribe(le(r,i=>Ct(r,t,()=>r.next(i),e),()=>Ct(r,t,()=>r.complete(),e),i=>Ct(r,t,()=>r.error(i),e)))})}function Vr(t,e=0){return ue((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function LD(t,e){return Be(t).pipe(Vr(e),Fr(e))}function FD(t,e){return Be(t).pipe(Vr(e),Fr(e))}function VD(t,e){return new J(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function jD(t,e){return new J(n=>{let r;return Ct(n,e,()=>{r=t[vl](),Ct(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>ne(r?.return)&&r.return()})}function wl(t,e){if(!t)throw new Error("Iterable cannot be null");return new J(n=>{Ct(n,e,()=>{let r=t[Symbol.asyncIterator]();Ct(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function UD(t,e){return wl(El(t),e)}function BD(t,e){if(t!=null){if(gl(t))return LD(t,e);if(cl(t))return VD(t,e);if(ul(t))return FD(t,e);if(ml(t))return wl(t,e);if(_l(t))return jD(t,e);if(Il(t))return UD(t,e)}throw yl(t)}function Ee(t,e){return e?BD(t,e):Be(t)}function $D(t){return t&&ne(t.schedule)}function HD(t){return t[t.length-1]}function Tl(t){return ne(HD(t))?t.pop():void 0}function jr(t){return $D(HD(t))?t.pop():void 0}function Y(...t){let e=jr(t);return Ee(t,e)}function de(t,e){return ue((n,r)=>{let i=0;n.subscribe(le(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:YO}=Array,{getPrototypeOf:JO,prototype:ZO,keys:XO}=Object;function Dl(t){if(t.length===1){let e=t[0];if(YO(e))return{args:e,keys:null};if(ex(e)){let n=XO(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function ex(t){return t&&typeof t=="object"&&JO(t)===ZO}var{isArray:tx}=Array;function nx(t,e){return tx(e)?t(...e):t(e)}function bl(t){return de(e=>nx(t,e))}function Cl(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Sl(...t){let e=jr(t),n=Tl(t),{args:r,keys:i}=Dl(t);if(r.length===0)return Ee([],e);let o=new J(rx(r,e,i?s=>Cl(i,s):Ot));return n?o.pipe(bl(n)):o}function rx(t,e,n=Ot){return r=>{zD(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)zD(e,()=>{let l=Ee(t[c],e),h=!1;l.subscribe(le(r,p=>{o[c]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function zD(t,e,n){t?Ct(n,t,e):e()}function Bi(t){return ue((e,n)=>{let r=null,i=!1,o;r=e.subscribe(le(n,void 0,void 0,s=>{o=Be(t(s,Bi(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}var Al=class extends Ke{constructor(e,n){super()}schedule(e,n=0){return this}};var Ha={setInterval(t,e,...n){let{delegate:r}=Ha;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ha;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Xo=class extends Al{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Ha.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ha.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Vi(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var gg={now(){return(gg.delegate||Date).now()},delegate:void 0};var es=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};es.now=gg.now;var ts=class extends es{constructor(e,n=es.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var za=new ts(Xo);function ix(t,e=za){return ue((n,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function c(){let l=s+t,h=e.now();if(h<l){i=this.schedule(void 0,l-h),r.add(i);return}a()}n.subscribe(le(r,l=>{o=l,s=e.now(),i||(i=e.schedule(c,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}var St=new J(t=>t.complete());function Sn(t){return t<=0?()=>St:ue((e,n)=>{let r=0;e.subscribe(le(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function qD(t,e=Ot){return t=t??ox,ue((n,r)=>{let i,o=!0;n.subscribe(le(r,s=>{let a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function ox(t,e){return t===e}function ns(t){return ue((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function $e(t,e){return ue((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(le(r,c=>{i?.unsubscribe();let l=0,h=o++;Be(t(c,h)).subscribe(i=le(r,p=>r.next(e?e(c,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ft(t,e,n){let r=ne(t)||e||n?{next:t,error:e,complete:n}:t;return r?ue((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(le(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ot}var GD=Ko(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Xe=(()=>{class t extends J{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Rl(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new GD}next(n){Yo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Yo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Yo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?cg:(this.currentObservers=null,o.push(n),new Ke(()=>{this.currentObservers=null,Vi(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new J;return n.source=this,n}}return t.create=(e,n)=>new Rl(e,n),t})(),Rl=class extends Xe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:cg}};var st=class extends Xe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Nl=class extends Xo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Ml=class extends ts{};var mg=new Ml(Nl);function yg(t,e){let n=ne(t)?t:()=>t,r=i=>i.error(n());return new J(e?i=>e.schedule(r,0,i):r)}function Pl(t){return!!t&&(t instanceof J||ne(t.lift)&&ne(t.subscribe))}var $i=Ko(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function WD(t,e,n,r,i,o,s,a){let c=[],l=0,h=0,p=!1,g=()=>{p&&!c.length&&!l&&e.complete()},y=A=>l<r?T(A):c.push(A),T=A=>{o&&e.next(A),l++;let S=!1;Be(n(A,h++)).subscribe(le(e,P=>{i?.(P),o?y(P):e.next(P)},()=>{S=!0},void 0,()=>{if(S)try{for(l--;c.length&&l<r;){let P=c.shift();s?Ct(e,s,()=>T(P)):T(P)}g()}catch(P){e.error(P)}}))};return t.subscribe(le(e,y,()=>{p=!0,g()})),()=>{a?.()}}function at(t,e,n=1/0){return ne(e)?at((r,i)=>de((o,s)=>e(r,o,i,s))(Be(t(r,i))),n):(typeof e=="number"&&(n=e),ue((r,i)=>WD(r,i,t,n)))}function Ur(t=1/0){return at(Ot,t)}function KD(){return Ur(1)}function rs(...t){return KD()(Ee(t,jr(t)))}function qa(t){return new J(e=>{Be(t()).subscribe(e)})}function sx(...t){let e=Tl(t),{args:n,keys:r}=Dl(t),i=new J(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let h=0;h<s;h++){let p=!1;Be(n[h]).subscribe(le(o,g=>{p||(p=!0,l--),a[h]=g},()=>c--,void 0,()=>{(!c||!p)&&(l||o.next(r?Cl(r,a):a),o.complete())}))}});return e?i.pipe(bl(e)):i}function Et(t,e){return ue((n,r)=>{let i=0;n.subscribe(le(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Br(t,e){return ne(e)?at(t,e,1):at(t,1)}function vg(t){return ue((e,n)=>{let r=!1;e.subscribe(le(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function QD(t=ax){return ue((e,n)=>{let r=!1;e.subscribe(le(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function ax(){return new $i}function ir(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Et((i,o)=>t(i,o,r)):Ot,Sn(1),n?vg(e):QD(()=>new $i))}function kl(t){return t<=0?()=>St:ue((e,n)=>{let r=[];e.subscribe(le(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Ol(...t){let e=jr(t);return ue((n,r)=>{(e?rs(t,n,e):rs(t,n)).subscribe(r)})}function Ga(t){return ue((e,n)=>{Be(t).subscribe(le(n,()=>n.complete(),$a)),!n.closed&&e.subscribe(n)})}var pt=null,xl=!1,wg=1,cx=null,At=Symbol("SIGNAL");function K(t){let e=pt;return pt=t,e}function Fl(){return pt}var Wa={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ka(t){if(xl)throw new Error("");if(pt===null)return;pt.consumerOnSignalRead(t);let e=pt.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=pt.recomputing;if(r&&(n=e!==void 0?e.nextProducer:pt.producers,n!==void 0&&n.producer===t)){pt.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===pt&&(!r||lx(i,pt)))return;let o=is(pt),s={producer:t,consumer:pt,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};pt.producersTail=s,e!==void 0?e.nextProducer=s:pt.producers=s,o&&XD(t,s)}function YD(){wg++}function Tg(t){if(!(is(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===wg)){if(!t.producerMustRecompute(t)&&!jl(t)){Ig(t);return}t.producerRecomputeValue(t),Ig(t)}}function Dg(t){if(t.consumers===void 0)return;let e=xl;xl=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||ux(r)}}finally{xl=e}}function bg(){return pt?.consumerAllowSignalWrites!==!1}function ux(t){t.dirty=!0,Dg(t),t.consumerMarkedDirty?.(t)}function Ig(t){t.dirty=!1,t.lastCleanEpoch=wg}function Qa(t){return t&&JD(t),K(t)}function JD(t){t.producersTail=void 0,t.recomputing=!0}function Vl(t,e){K(e),t&&ZD(t)}function ZD(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(is(t))do n=Cg(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function jl(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(Tg(n),r!==n.version))return!0}return!1}function Ya(t){if(is(t)){let e=t.producers;for(;e!==void 0;)e=Cg(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function XD(t,e){let n=t.consumersTail,r=is(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)XD(i.producer,i)}function Cg(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!is(e)){let o=e.producers;for(;o!==void 0;)o=Cg(o)}return n}function is(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function Sg(t){cx?.(t)}function lx(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function Ag(t,e){return Object.is(t,e)}function Ul(t,e){let n=Object.create(dx);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(Tg(n),Ka(n),n.value===Ll)throw n.error;return n.value};return r[At]=n,Sg(n),r}var _g=Symbol("UNSET"),Eg=Symbol("COMPUTING"),Ll=Symbol("ERRORED"),dx=_e(x({},Wa),{value:_g,dirty:!0,error:null,equal:Ag,kind:"computed",producerMustRecompute(t){return t.value===_g||t.value===Eg},producerRecomputeValue(t){if(t.value===Eg)throw new Error("");let e=t.value;t.value=Eg;let n=Qa(t),r,i=!1;try{r=t.computation(),K(null),i=e!==_g&&e!==Ll&&r!==Ll&&t.equal(e,r)}catch(o){r=Ll,t.error=o}finally{Vl(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function hx(){throw new Error}var eb=hx;function tb(t){eb(t)}function Rg(t){eb=t}var fx=null;function Ng(t,e){let n=Object.create(Bl);n.value=t,e!==void 0&&(n.equal=e);let r=()=>nb(n);return r[At]=n,Sg(n),[r,s=>Ja(n,s),s=>rb(n,s)]}function nb(t){return Ka(t),t.value}function Ja(t,e){bg()||tb(t),t.equal(t.value,e)||(t.value=e,px(t))}function rb(t,e){bg()||tb(t),Ja(t,e(t.value))}var Bl=_e(x({},Wa),{equal:Ag,value:void 0,kind:"signal"});function px(t){t.version++,YD(),Dg(t),fx?.(t)}function Mg(t){let e=K(null);try{return t()}finally{K(e)}}var Pg;function $l(){return Pg}function An(t){let e=Pg;return Pg=t,e}var ib=Symbol("NotFound");function os(t){return t===ib||t?.name==="\u0275NotFound"}var $r=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Kg=new $r("21.0.3");var Wl="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",V=class extends Error{code;constructor(e,n){super(Nn(e,n)),this.code=e}};function yx(t){return`NG0${Math.abs(t)}`}function Nn(t,e){return`${yx(t)}${e?": "+e:""}`}var Gr=globalThis;function me(t){for(let e in t)if(t[e]===me)return e;throw Error("")}function ub(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function sr(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(sr).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Kl(t,e){return t?e?`${t} ${e}`:t:e||""}var vx=me({__forward_ref__:me});function Ql(t){return t.__forward_ref__=Ql,t.toString=function(){return sr(this())},t}function ct(t){return Qg(t)?t():t}function Qg(t){return typeof t=="function"&&t.hasOwnProperty(vx)&&t.__forward_ref__===Ql}function F(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ar(t){return{providers:t.providers||[],imports:t.imports||[]}}function rc(t){return _x(t,Yl)}function Yg(t){return rc(t)!==null}function _x(t,e){return t.hasOwnProperty(e)&&t[e]||null}function Ex(t){let e=t?.[Yl]??null;return e||null}function Og(t){return t&&t.hasOwnProperty(zl)?t[zl]:null}var Yl=me({\u0275prov:me}),zl=me({\u0275inj:me}),j=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=F({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Jg(t){return t&&!!t.\u0275providers}var Zg=me({\u0275cmp:me}),Xg=me({\u0275dir:me}),em=me({\u0275pipe:me}),tm=me({\u0275mod:me}),Xa=me({\u0275fac:me}),Wi=me({__NG_ELEMENT_ID__:me}),ob=me({__NG_ENV_ID__:me});function Ki(t){return typeof t=="string"?t:t==null?"":String(t)}function lb(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ki(t)}var db=me({ngErrorCode:me}),Ix=me({ngErrorMessage:me}),wx=me({ngTokenPath:me});function nm(t,e){return hb("",-200,e)}function Jl(t,e){throw new V(-201,!1)}function hb(t,e,n){let r=new V(e,t);return r[db]=e,r[Ix]=t,n&&(r[wx]=n),r}function Tx(t){return t[db]}var xg;function fb(){return xg}function It(t){let e=xg;return xg=t,e}function rm(t,e,n){let r=rc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;Jl(t,"Injector")}var Dx={},Hi=Dx,Lg="__NG_DI_FLAG__",Fg=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=zi(n)||0;try{return this.injector.get(e,r&8?null:Hi,r)}catch(i){if(os(i))return i;throw i}}};function bx(t,e=0){let n=$l();if(n===void 0)throw new V(-203,!1);if(n===null)return rm(t,void 0,e);{let r=Cx(e),i=n.retrieve(t,r);if(os(i)){if(r.optional)return null;throw i}return i}}function $(t,e=0){return(fb()||bx)(ct(t),e)}function N(t,e){return $(t,zi(e))}function zi(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Cx(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Vg(t){let e=[];for(let n=0;n<t.length;n++){let r=ct(t[n]);if(Array.isArray(r)){if(r.length===0)throw new V(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=Sx(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push($(i,o))}else e.push($(r))}return e}function pb(t,e){return t[Lg]=e,t.prototype[Lg]=e,t}function Sx(t){return t[Lg]}function Hr(t,e){let n=t.hasOwnProperty(Xa);return n?t[Xa]:null}function gb(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function mb(t){return t.flat(Number.POSITIVE_INFINITY)}function Zl(t,e){t.forEach(n=>Array.isArray(n)?Zl(n,e):e(n))}function im(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ic(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function yb(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function Xl(t,e,n){let r=as(t,e);return r>=0?t[r|1]=n:(r=~r,yb(t,r,e,n)),r}function ed(t,e){let n=as(t,e);if(n>=0)return t[n|1]}function as(t,e){return Ax(t,e,1)}function Ax(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Wr={},wt=[],Kr=new j(""),om=new j("",-1),sm=new j(""),ec=class{get(e,n=Hi){if(n===Hi){let i=hb("",-201);throw i.name="\u0275NotFound",i}return n}};function am(t){return t[tm]||null}function cr(t){return t[Zg]||null}function cm(t){return t[Xg]||null}function vb(t){return t[em]||null}function et(t){return{\u0275providers:t}}function _b(t){return et([{provide:Kr,multi:!0,useValue:t}])}function Eb(...t){return{\u0275providers:um(!0,t),\u0275fromNgModule:!0}}function um(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Zl(e,s=>{let a=s;ql(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Ib(i,o),n}function Ib(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];lm(i,o=>{e(o,r)})}}function ql(t,e,n,r){if(t=ct(t),!t)return!1;let i=null,o=Og(t),s=!o&&cr(t);if(!o&&!s){let c=t.ngModule;if(o=Og(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)ql(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Zl(o.imports,h=>{ql(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&Ib(l,e)}if(!a){let l=Hr(i)||(()=>new i);e({provide:i,useFactory:l,deps:wt},i),e({provide:sm,useValue:i,multi:!0},i),e({provide:Kr,useValue:()=>$(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;lm(c,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function lm(t,e){for(let n of t)Jg(n)&&(n=n.\u0275providers),Array.isArray(n)?lm(n,e):e(n)}var Rx=me({provide:String,useValue:me});function wb(t){return t!==null&&typeof t=="object"&&Rx in t}function Nx(t){return!!(t&&t.useExisting)}function Mx(t){return!!(t&&t.useFactory)}function qi(t){return typeof t=="function"}function Tb(t){return!!t.useClass}var oc=new j(""),Hl={},sb={},kg;function sc(){return kg===void 0&&(kg=new ec),kg}var Se=class{},Gi=class extends Se{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Ug(e,s=>this.processProvider(s)),this.records.set(om,ss(void 0,this)),i.has("environment")&&this.records.set(Se,ss(void 0,this));let o=this.records.get(oc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(sm,wt,{self:!0}))}retrieve(e,n){let r=zi(n)||0;try{return this.get(e,Hi,r)}catch(i){if(os(i))return i;throw i}}destroy(){Za(this),this._destroyed=!0;let e=K(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),K(e)}}onDestroy(e){return Za(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Za(this);let n=An(this),r=It(void 0),i;try{return e()}finally{An(n),It(r)}}get(e,n=Hi,r){if(Za(this),e.hasOwnProperty(ob))return e[ob](this);let i=zi(r),o,s=An(this),a=It(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=Lx(e)&&rc(e);h&&this.injectableDefInScope(h)?l=ss(jg(e),Hl):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let c=i&2?sc():this.parent;return n=i&8&&n===Hi?null:n,c.get(e,n)}catch(c){let l=Tx(c);throw l===-200||l===-201?new V(l,null):c}finally{It(a),An(s)}}resolveInjectorInitializers(){let e=K(null),n=An(this),r=It(void 0),i;try{let o=this.get(Kr,wt,{self:!0});for(let s of o)s()}finally{An(n),It(r),K(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(sr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=ct(e);let n=qi(e)?e:ct(e&&e.provide),r=kx(e);if(!qi(e)&&e.multi===!0){let i=this.records.get(n);i||(i=ss(void 0,Hl,!0),i.factory=()=>Vg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=K(null);try{if(n.value===sb)throw nm(sr(e));return n.value===Hl&&(n.value=sb,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&xx(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{K(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ct(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function jg(t){let e=rc(t),n=e!==null?e.factory:Hr(t);if(n!==null)return n;if(t instanceof j)throw new V(204,!1);if(t instanceof Function)return Px(t);throw new V(204,!1)}function Px(t){if(t.length>0)throw new V(204,!1);let n=Ex(t);return n!==null?()=>n.factory(t):()=>new t}function kx(t){if(wb(t))return ss(void 0,t.useValue);{let e=dm(t);return ss(e,Hl)}}function dm(t,e,n){let r;if(qi(t)){let i=ct(t);return Hr(i)||jg(i)}else if(wb(t))r=()=>ct(t.useValue);else if(Mx(t))r=()=>t.useFactory(...Vg(t.deps||[]));else if(Nx(t))r=(i,o)=>$(ct(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=ct(t&&(t.useClass||t.provide));if(Ox(t))r=()=>new i(...Vg(t.deps));else return Hr(i)||jg(i)}return r}function Za(t){if(t.destroyed)throw new V(205,!1)}function ss(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Ox(t){return!!t.deps}function xx(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Lx(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function Ug(t,e){for(let n of t)Array.isArray(n)?Ug(n,e):n&&Jg(n)?Ug(n.\u0275providers,e):e(n)}function ke(t,e){let n;t instanceof Gi?(Za(t),n=t):n=new Fg(t);let r,i=An(n),o=It(void 0);try{return e()}finally{An(i),It(o)}}function Db(){return fb()!==void 0||$l()!=null}var zt=0,z=1,Z=2,Qe=3,qt=4,Gt=5,cs=6,us=7,Ue=8,ur=9,Mn=10,Te=11,ls=12,hm=13,Qi=14,xt=15,Qr=16,Yi=17,Pn=18,ac=19,fm=20,or=21,td=22,cc=23,Lt=24,Ji=25,Zi=26,Oe=27,pm=1,gm=6,Yr=7,uc=8,Xi=9,xe=10;function kn(t){return Array.isArray(t)&&typeof t[pm]=="object"}function cn(t){return Array.isArray(t)&&t[pm]===!0}function mm(t){return(t.flags&4)!==0}function Jr(t){return t.componentOffset>-1}function ds(t){return(t.flags&1)===1}function un(t){return!!t.template}function hs(t){return(t[Z]&512)!==0}function eo(t){return(t[Z]&256)===256}var ym="svg",bb="math";function Wt(t){for(;Array.isArray(t);)t=t[zt];return t}function vm(t){for(;Array.isArray(t);){if(typeof t[pm]=="object")return t;t=t[zt]}return null}function _m(t,e){return Wt(e[t])}function ln(t,e){return Wt(e[t.index])}function lc(t,e){return t.data[e]}function Em(t,e){return t[e]}function Im(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Kt(t,e){let n=e[t];return kn(n)?n:n[zt]}function Cb(t){return(t[Z]&4)===4}function nd(t){return(t[Z]&128)===128}function Sb(t){return cn(t[Qe])}function Qt(t,e){return e==null?null:t[e]}function wm(t){t[Yi]=0}function Tm(t){t[Z]&1024||(t[Z]|=1024,nd(t)&&fs(t))}function Ab(t,e){for(;t>0;)e=e[Qi],t--;return e}function dc(t){return!!(t[Z]&9216||t[Lt]?.dirty)}function rd(t){t[Mn].changeDetectionScheduler?.notify(8),t[Z]&64&&(t[Z]|=1024),dc(t)&&fs(t)}function fs(t){t[Mn].changeDetectionScheduler?.notify(0);let e=zr(t);for(;e!==null&&!(e[Z]&8192||(e[Z]|=8192,!nd(e)));)e=zr(e)}function Dm(t,e){if(eo(t))throw new V(911,!1);t[or]===null&&(t[or]=[]),t[or].push(e)}function Rb(t,e){if(t[or]===null)return;let n=t[or].indexOf(e);n!==-1&&t[or].splice(n,1)}function zr(t){let e=t[Qe];return cn(e)?e[Qe]:e}function bm(t){return t[us]??=[]}function Cm(t){return t.cleanup??=[]}function Nb(t,e,n,r){let i=bm(e);i.push(n),t.firstCreatePass&&Cm(t).push(r,i.length-1)}var ie={lFrame:zb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Bg=!1;function Mb(){return ie.lFrame.elementDepthCount}function Pb(){ie.lFrame.elementDepthCount++}function Sm(){ie.lFrame.elementDepthCount--}function id(){return ie.bindingsEnabled}function kb(){return ie.skipHydrationRootTNode!==null}function Am(t){return ie.skipHydrationRootTNode===t}function Rm(){ie.skipHydrationRootTNode=null}function X(){return ie.lFrame.lView}function Le(){return ie.lFrame.tView}function Ob(t){return ie.lFrame.contextLView=t,t[Ue]}function xb(t){return ie.lFrame.contextLView=null,t}function tt(){let t=Nm();for(;t!==null&&t.type===64;)t=t.parent;return t}function Nm(){return ie.lFrame.currentTNode}function Lb(){let t=ie.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ps(t,e){let n=ie.lFrame;n.currentTNode=t,n.isParent=e}function Mm(){return ie.lFrame.isParent}function Fb(){ie.lFrame.isParent=!1}function Vb(){return ie.lFrame.contextLView}function Pm(){return Bg}function km(t){let e=Bg;return Bg=t,e}function od(){let t=ie.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function jb(t){return ie.lFrame.bindingIndex=t}function lr(){return ie.lFrame.bindingIndex++}function Om(t){let e=ie.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Ub(){return ie.lFrame.inI18n}function Bb(t,e){let n=ie.lFrame;n.bindingIndex=n.bindingRootIndex=t,sd(e)}function $b(){return ie.lFrame.currentDirectiveIndex}function sd(t){ie.lFrame.currentDirectiveIndex=t}function xm(t){let e=ie.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Lm(){return ie.lFrame.currentQueryIndex}function ad(t){ie.lFrame.currentQueryIndex=t}function Fx(t){let e=t[z];return e.type===2?e.declTNode:e.type===1?t[Gt]:null}function Fm(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=Fx(o),i===null||(o=o[Qi],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ie.lFrame=Hb();return r.currentTNode=e,r.lView=t,!0}function cd(t){let e=Hb(),n=t[z];ie.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Hb(){let t=ie.lFrame,e=t===null?null:t.child;return e===null?zb(t):e}function zb(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function qb(){let t=ie.lFrame;return ie.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Vm=qb;function ud(){let t=qb();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Gb(t){return(ie.lFrame.contextLView=Ab(t,ie.lFrame.contextLView))[Ue]}function dr(){return ie.lFrame.selectedIndex}function Zr(t){ie.lFrame.selectedIndex=t}function hc(){let t=ie.lFrame;return lc(t.tView,t.selectedIndex)}function Wb(){ie.lFrame.currentNamespace=ym}function Kb(){Vx()}function Vx(){ie.lFrame.currentNamespace=null}function Qb(){return ie.lFrame.currentNamespace}var Yb=!0;function ld(){return Yb}function fc(t){Yb=t}function $g(t,e=null,n=null,r){let i=jm(t,e,n,r);return i.resolveInjectorInitializers(),i}function jm(t,e=null,n=null,r,i=new Set){let o=[n||wt,Eb(t)];return r=r||(typeof t=="object"?void 0:sr(t)),new Gi(o,e||sc(),r||null,i)}var Pe=class t{static THROW_IF_NOT_FOUND=Hi;static NULL=new ec;static create(e,n){if(Array.isArray(e))return $g({name:""},n,e,"");{let r=e.name??"";return $g({name:r},e.parent,e.providers,r)}}static \u0275prov=F({token:t,providedIn:"any",factory:()=>$(om)});static __NG_ELEMENT_ID__=-1},be=new j(""),Yt=(()=>{class t{static __NG_ELEMENT_ID__=jx;static __NG_ENV_ID__=n=>n}return t})(),Hg=class extends Yt{_lView;constructor(e){super(),this._lView=e}get destroyed(){return eo(this._lView)}onDestroy(e){let n=this._lView;return Dm(n,e),()=>Rb(n,e)}};function jx(){return new Hg(X())}var Jb=!1,hr=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new st(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new J(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=F({token:t,providedIn:"root",factory:()=>new t})}return t})(),zg=class extends Xe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Db()&&(this.destroyRef=N(Yt,{optional:!0})??void 0,this.pendingTasks=N(hr,{optional:!0})??void 0)}emit(e){let n=K(null);try{super.next(e)}finally{K(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ke&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},gt=zg;function Gl(...t){}function Um(t){let e,n;function r(){t=Gl;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Bm(t){return queueMicrotask(()=>t()),()=>{t=Gl}}var $m="isAngularZone",tc=$m+"_ID",Ux=0,Ie=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new gt(!1);onMicrotaskEmpty=new gt(!1);onStable=new gt(!1);onError=new gt(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Jb}=e;if(typeof Zone>"u")throw new V(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Hx(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get($m)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new V(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new V(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Bx,Gl,Gl);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Bx={};function Hm(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function $x(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){Um(()=>{t.callbackScheduled=!1,qg(t),t.isCheckStableRunning=!0,Hm(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),qg(t)}function Hx(t){let e=()=>{$x(t)},n=Ux++;t._inner=t._inner.fork({name:"angular",properties:{[$m]:!0,[tc]:n,[tc+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(zx(c))return r.invokeTask(o,s,a,c);try{return ab(t),r.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),cb(t)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return ab(t),r.invoke(o,s,a,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!qx(c)&&e(),cb(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,qg(t),Hm(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function qg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function ab(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function cb(t){t._nesting--,Hm(t)}var nc=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new gt;onMicrotaskEmpty=new gt;onStable=new gt;onError=new gt;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function zx(t){return Zb(t,"__ignore_ng_zone__")}function qx(t){return Zb(t,"__scheduler_tick__")}function Zb(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Rn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Rt=new j("",{factory:()=>{let t=N(Ie),e=N(Se),n;return r=>{t.runOutsideAngular(()=>{e.destroyed&&!n?setTimeout(()=>{throw r}):(n??=e.get(Rn),n.handleError(r))})}}}),Xb={provide:Kr,useValue:()=>{let t=N(Rn,{optional:!0})},multi:!0},Gx=new j("",{factory:()=>{let t=N(be).defaultView;if(!t)return;let e=N(Rt),n=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{t.addEventListener("unhandledrejection",n),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),N(Yt).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",n)})}});function Wx(){return et([_b(()=>void N(Gx))])}function Jt(t,e){let[n,r,i]=Ng(t,e?.equal),o=n,s=o[At];return o.set=r,o.update=i,o.asReadonly=eC.bind(o),o}function eC(){let t=this[At];if(t.readonlyFn===void 0){let e=()=>this();e[At]=t,t.readonlyFn=e}return t.readonlyFn}var dd=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=Kx}return t})();function Kx(){return new dd(X(),tt())}var qr=class{},pc=new j("",{factory:()=>!0});var zm=new j(""),Xr=(()=>{class t{internalPendingTasks=N(hr);scheduler=N(qr);errorHandler=N(Rt);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=F({token:t,providedIn:"root",factory:()=>new t})}return t})(),qm=(()=>{class t{static \u0275prov=F({token:t,providedIn:"root",factory:()=>new Gg})}return t})(),Gg=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}},Wg=class{[At];constructor(e){this[At]=e}destroy(){this[At].destroy()}};function Nt(t){return Mg(t)}function Es(t){return{toString:t}.toString()}var hd="__parameters__";function Xx(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function e1(t,e,n){return Es(()=>{let r=Xx(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,h){let p=c.hasOwnProperty(hd)?c[hd]:Object.defineProperty(c,hd,{value:[]})[hd];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),c}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Mt=pb(e1("Optional"),8);function t1(t){return typeof t=="function"}function kC(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var wd=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}},uo=(()=>{let t=()=>OC;return t.ngInherit=!0,t})();function OC(t){return t.type.prototype.ngOnChanges&&(t.setInput=r1),n1}function n1(){let t=LC(this),e=t?.current;if(e){let n=t.previous;if(n===Wr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function r1(t,e,n,r,i){let o=this.declaredInputs[r],s=LC(t)||i1(t,{previous:Wr,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new wd(l&&l.currentValue,n,c===Wr),kC(t,e,i,n)}var xC="__ngSimpleChanges__";function LC(t){return t[xC]||null}function i1(t,e){return t[xC]=e}var tC=[];var ye=function(t,e=null,n){for(let r=0;r<tC.length;r++){let i=tC[r];i(t,e,n)}},fe=(function(t){return t[t.TemplateCreateStart=0]="TemplateCreateStart",t[t.TemplateCreateEnd=1]="TemplateCreateEnd",t[t.TemplateUpdateStart=2]="TemplateUpdateStart",t[t.TemplateUpdateEnd=3]="TemplateUpdateEnd",t[t.LifecycleHookStart=4]="LifecycleHookStart",t[t.LifecycleHookEnd=5]="LifecycleHookEnd",t[t.OutputStart=6]="OutputStart",t[t.OutputEnd=7]="OutputEnd",t[t.BootstrapApplicationStart=8]="BootstrapApplicationStart",t[t.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",t[t.BootstrapComponentStart=10]="BootstrapComponentStart",t[t.BootstrapComponentEnd=11]="BootstrapComponentEnd",t[t.ChangeDetectionStart=12]="ChangeDetectionStart",t[t.ChangeDetectionEnd=13]="ChangeDetectionEnd",t[t.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",t[t.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",t[t.AfterRenderHooksStart=16]="AfterRenderHooksStart",t[t.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",t[t.ComponentStart=18]="ComponentStart",t[t.ComponentEnd=19]="ComponentEnd",t[t.DeferBlockStateStart=20]="DeferBlockStateStart",t[t.DeferBlockStateEnd=21]="DeferBlockStateEnd",t[t.DynamicComponentStart=22]="DynamicComponentStart",t[t.DynamicComponentEnd=23]="DynamicComponentEnd",t[t.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",t[t.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",t})(fe||{});function o1(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=OC(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function FC(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function yd(t,e,n){VC(t,e,3,n)}function vd(t,e,n,r){(t[Z]&3)===n&&VC(t,e,n,r)}function Gm(t,e){let n=t[Z];(n&3)===e&&(n&=16383,n+=1,t[Z]=n)}function VC(t,e,n,r){let i=r!==void 0?t[Yi]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Yi]+=65536),(a<o||o==-1)&&(s1(t,n,e,c),t[Yi]=(t[Yi]&4294901760)+c+2),c++}function nC(t,e){ye(fe.LifecycleHookStart,t,e);let n=K(null);try{e.call(t)}finally{K(n),ye(fe.LifecycleHookEnd,t,e)}}function s1(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[Z]>>14<t[Yi]>>16&&(t[Z]&3)===e&&(t[Z]+=16384,nC(a,o)):nC(a,o)}var ms=-1,no=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function a1(t){return(t.flags&8)!==0}function c1(t){return(t.flags&16)!==0}function u1(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];l1(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function jC(t){return t===3||t===4||t===6}function l1(t){return t.charCodeAt(0)===64}function ys(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?rC(t,n,i,null,e[++r]):rC(t,n,i,null,null))}}return t}function rC(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function UC(t){return t!==ms}function Td(t){return t&32767}function d1(t){return t>>16}function Dd(t,e){let n=d1(t),r=e;for(;n>0;)r=r[Qi],n--;return r}var ny=!0;function bd(t){let e=ny;return ny=t,e}var h1=256,BC=h1-1,$C=5,f1=0,On={};function p1(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Wi)&&(r=n[Wi]),r==null&&(r=n[Wi]=f1++);let i=r&BC,o=1<<i;e.data[t+(i>>$C)]|=o}function Cd(t,e){let n=HC(t,e);if(n!==-1)return n;let r=e[z];r.firstCreatePass&&(t.injectorIndex=e.length,Wm(r.data,t),Wm(e,null),Wm(r.blueprint,null));let i=jy(t,e),o=t.injectorIndex;if(UC(i)){let s=Td(i),a=Dd(i,e),c=a[z].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Wm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function HC(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function jy(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=KC(i),r===null)return ms;if(n++,i=i[Qi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ms}function ry(t,e,n){p1(t,e,n)}function g1(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(jC(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function zC(t,e,n){if(n&8||t!==void 0)return t;Jl(e,"NodeInjector")}function qC(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[ur],o=It(void 0);try{return i?i.get(e,r,n&8):rm(e,r,n&8)}finally{It(o)}}return zC(r,e,n)}function GC(t,e,n,r=0,i){if(t!==null){if(e[Z]&2048&&!(r&2)){let s=_1(t,e,n,r,On);if(s!==On)return s}let o=WC(t,e,n,r,On);if(o!==On)return o}return qC(e,n,r,i)}function WC(t,e,n,r,i){let o=y1(n);if(typeof o=="function"){if(!Fm(e,t,r))return r&1?zC(i,n,r):qC(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Jl(n);else return s}finally{Vm()}}else if(typeof o=="number"){let s=null,a=HC(t,e),c=ms,l=r&1?e[xt][Gt]:null;for((a===-1||r&4)&&(c=a===-1?jy(t,e):e[a+8],c===ms||!oC(r,!1)?a=-1:(s=e[z],a=Td(c),e=Dd(c,e)));a!==-1;){let h=e[z];if(iC(o,a,h.data)){let p=m1(a,e,n,s,r,l);if(p!==On)return p}c=e[a+8],c!==ms&&oC(r,e[z].data[a+8]===l)&&iC(o,a,e)?(s=h,a=Td(c),e=Dd(c,e)):a=-1}}return i}function m1(t,e,n,r,i,o){let s=e[z],a=s.data[t+8],c=r==null?Jr(a)&&ny:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=_d(a,s,n,c,l);return h!==null?yc(e,s,h,a,i):On}function _d(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let y=p;y<g;y++){let T=s[y];if(y<c&&n===T||y>=c&&T.type===n)return y}if(i){let y=s[c];if(y&&un(y)&&y.type===n)return c}return null}function yc(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof no){let a=o;if(a.resolving){let y=lb(s[n]);throw nm(y)}let c=bd(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],h,p=a.injectImpl?It(a.injectImpl):null,g=Fm(t,r,0);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&o1(n,s[n],e)}finally{p!==null&&It(p),bd(c),a.resolving=!1,Vm()}}return o}function y1(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Wi)?t[Wi]:void 0;return typeof e=="number"?e>=0?e&BC:v1:e}function iC(t,e,n){let r=1<<t;return!!(n[e+(t>>$C)]&r)}function oC(t,e){return!(t&2)&&!(t&1&&e)}var to=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return GC(this._tNode,this._lView,e,zi(r),n)}};function v1(){return new to(tt(),X())}function Tc(t){return Es(()=>{let e=t.prototype.constructor,n=e[Xa]||iy(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Xa]||iy(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function iy(t){return Qg(t)?()=>{let e=iy(ct(t));return e&&e()}:Hr(t)}function _1(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[Z]&2048&&!hs(s);){let a=WC(o,s,n,r|2,On);if(a!==On)return a;let c=o.parent;if(!c){let l=s[fm];if(l){let h=l.get(n,On,r);if(h!==On)return h}c=KC(s),s=s[Qi]}o=c}return i}function KC(t){let e=t[z],n=e.type;return n===2?e.declTNode:n===1?t[Gt]:null}function Dc(t){return g1(tt(),t)}function E1(){return Is(tt(),X())}function Is(t,e){return new Ln(ln(t,e))}var Ln=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=E1}return t})();function I1(t){return t instanceof Ln?t.nativeElement:t}function w1(){return this._results[Symbol.iterator]()}var Sd=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Xe}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=mb(e);(this._changesDetected=!gb(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=w1};function QC(t){return(t.flags&128)===128}var Uy=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(Uy||{}),YC=new Map,T1=0;function D1(){return T1++}function b1(t){YC.set(t[ac],t)}function oy(t){YC.delete(t[ac])}var sC="__ngContext__";function vs(t,e){kn(e)?(t[sC]=e[ac],b1(e)):t[sC]=e}function JC(t){return XC(t[ls])}function ZC(t){return XC(t[qt])}function XC(t){for(;t!==null&&!cn(t);)t=t[qt];return t}var sy;function By(t){sy=t}function eS(){if(sy!==void 0)return sy;if(typeof document<"u")return document;throw new V(210,!1)}var Ud=new j("",{factory:()=>C1}),C1="ng";var Bd=new j(""),lo=new j("",{providedIn:"platform",factory:()=>"unknown"}),S1=new j(""),$d=new j("",{factory:()=>N(be).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var tS="r";var nS="di";var rS=!1,iS=new j("",{factory:()=>rS});var Hd=new j("");var A1=(t,e,n,r)=>{};function R1(t,e,n,r){A1(t,e,n,r)}function $y(t){return(t.flags&32)===32}var N1=()=>null;function oS(t,e,n=!1){return N1(t,e,n)}function sS(t,e){let n=t.contentQueries;if(n!==null){let r=K(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];ad(o),a.contentQueries(2,e[s],s)}}}finally{K(r)}}}function ay(t,e,n){ad(0);let r=K(null);try{e(t,n)}finally{K(r)}}function Hy(t,e,n){if(mm(e)){let r=K(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{K(r)}}}var fn=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t[t.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",t})(fn||{});var fd;function M1(){if(fd===void 0&&(fd=null,Gr.trustedTypes))try{fd=Gr.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return fd}function zd(t){return M1()?.createHTML(t)||t}var pd;function aS(){if(pd===void 0&&(pd=null,Gr.trustedTypes))try{pd=Gr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return pd}function aC(t){return aS()?.createHTML(t)||t}function cC(t){return aS()?.createScriptURL(t)||t}var fr=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Wl})`}},cy=class extends fr{getTypeName(){return"HTML"}},uy=class extends fr{getTypeName(){return"Style"}},ly=class extends fr{getTypeName(){return"Script"}},dy=class extends fr{getTypeName(){return"URL"}},hy=class extends fr{getTypeName(){return"ResourceURL"}};function Ft(t){return t instanceof fr?t.changingThisBreaksApplicationSecurity:t}function Fn(t,e){let n=cS(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Wl})`)}return n===e}function cS(t){return t instanceof fr&&t.getTypeName()||null}function zy(t){return new cy(t)}function qy(t){return new uy(t)}function Gy(t){return new ly(t)}function Wy(t){return new dy(t)}function Ky(t){return new hy(t)}function P1(t){let e=new py(t);return k1()?new fy(e):e}var fy=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(zd(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.firstChild?.remove(),n)}catch{return null}}},py=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=zd(e),n}};function k1(){try{return!!new window.DOMParser().parseFromString(zd(""),"text/html")}catch{return!1}}var O1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function bc(t){return t=String(t),t.match(O1)?t:"unsafe:"+t}function pr(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function Cc(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var uS=pr("area,br,col,hr,img,wbr"),lS=pr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),dS=pr("rp,rt"),x1=Cc(dS,lS),L1=Cc(lS,pr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),F1=Cc(dS,pr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),uC=Cc(uS,L1,F1,x1),hS=pr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),V1=pr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),j1=pr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),U1=Cc(hS,V1,j1),B1=pr("script,style,template"),gy=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=z1(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=H1(n);if(o){n=o;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=lC(e).toLowerCase();if(!uC.hasOwnProperty(n))return this.sanitizedSomething=!0,!B1.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!U1.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;hS[a]&&(c=bc(c)),this.buf.push(" ",s,'="',dC(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=lC(e).toLowerCase();uC.hasOwnProperty(n)&&!uS.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(dC(e))}};function $1(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function H1(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw fS(e);return e}function z1(t){let e=t.firstChild;if(e&&$1(t,e))throw fS(e);return e}function lC(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function fS(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var q1=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,G1=/([^\#-~ |!])/g;function dC(t){return t.replace(/&/g,"&amp;").replace(q1,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(G1,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var gd;function qd(t,e){let n=null;try{gd=gd||P1(t);let r=e?String(e):"";n=gd.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=gd.getInertBodyElement(r)}while(r!==o);let a=new gy().sanitizeChildren(hC(n)||n);return zd(a)}finally{if(n){let r=hC(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function hC(t){return"content"in t&&W1(t)?t.content:null}function W1(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var K1=/^>|^->|<!--|-->|--!>|<!-$/g,Q1=/(<|>)/g,Y1="\u200B$1\u200B";function J1(t){return t.replace(K1,e=>e.replace(Q1,Y1))}function Z1(t,e){return t.createText(e)}function X1(t,e,n){t.setValue(e,n)}function eL(t,e){return t.createComment(J1(e))}function pS(t,e,n){return t.createElement(e,n)}function Ad(t,e,n,r,i){t.insertBefore(e,n,r,i)}function gS(t,e,n){t.appendChild(e,n)}function fC(t,e,n,r,i){r!==null?Ad(t,e,n,r,i):gS(t,e,n)}function mS(t,e,n,r){t.removeChild(null,e,n,r)}function tL(t,e,n){t.setAttribute(e,"style",n)}function nL(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function yS(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&u1(t,e,r),i!==null&&nL(t,e,i),o!==null&&tL(t,e,o)}var Zt=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(Zt||{});function rL(t){let e=Yy();return e?aC(e.sanitize(Zt.HTML,t)||""):Fn(t,"HTML")?aC(Ft(t)):qd(eS(),Ki(t))}function vS(t){let e=Yy();return e?e.sanitize(Zt.URL,t)||"":Fn(t,"URL")?Ft(t):bc(Ki(t))}function _S(t){let e=Yy();if(e)return cC(e.sanitize(Zt.RESOURCE_URL,t)||"");if(Fn(t,"ResourceURL"))return cC(Ft(t));throw new V(904,!1)}function iL(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?_S:vS}function Qy(t,e,n){return iL(e,n)(t)}function Yy(){let t=X();return t&&t[Mn].sanitizer}function oL(t){return t.ownerDocument.defaultView}function ES(t){return t instanceof Function?t():t}function sL(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var IS="ng-template";function aL(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&sL(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Jy(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Jy(t){return t.type===4&&t.value!==IS}function cL(t,e,n){let r=t.type===4&&!n?IS:t.value;return e===r}function uL(t,e,n){let r=4,i=t.attrs,o=i!==null?hL(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!dn(r)&&!dn(c))return!1;if(s&&dn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!cL(t,c,n)||c===""&&e.length===1){if(dn(r))return!1;s=!0}}else if(r&8){if(i===null||!aL(t,i,c,n)){if(dn(r))return!1;s=!0}}else{let l=e[++a],h=lL(c,i,Jy(t),n);if(h===-1){if(dn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(dn(r))return!1;s=!0}}}}return dn(r)||s}function dn(t){return(t&1)===0}function lL(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return fL(e,t)}function dL(t,e,n=!1){for(let r=0;r<e.length;r++)if(uL(t,e[r],n))return!0;return!1}function hL(t){for(let e=0;e<t.length;e++){let n=t[e];if(jC(n))return e}return t.length}function fL(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function pC(t,e){return t?":not("+e.trim()+")":e}function pL(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!dn(s)&&(e+=pC(o,i),i=""),r=s,o=o||!dn(r);n++}return i!==""&&(e+=pC(o,i)),e}function gL(t){return t.map(pL).join(",")}function mL(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!dn(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var Pt={};function Zy(t,e,n,r,i,o,s,a,c,l,h){let p=Oe+r,g=p+i,y=yL(p,g),T=typeof l=="function"?l():l;return y[z]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:T,incompleteFirstPass:!1,ssrId:h}}function yL(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Pt);return n}function vL(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Zy(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Xy(t,e,n,r,i,o,s,a,c,l,h){let p=e.blueprint.slice();return p[zt]=i,p[Z]=r|4|128|8|64|1024,(l!==null||t&&t[Z]&2048)&&(p[Z]|=2048),wm(p),p[Qe]=p[Qi]=t,p[Ue]=n,p[Mn]=s||t&&t[Mn],p[Te]=a||t&&t[Te],p[ur]=c||t&&t[ur]||null,p[Gt]=o,p[ac]=D1(),p[cs]=h,p[fm]=l,p[xt]=e.type==2?t[xt]:p,p}function _L(t,e,n){let r=ln(e,t),i=vL(n),o=t[Mn].rendererFactory,s=ev(t,Xy(t,i,null,wS(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function wS(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function TS(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ev(t,e){return t[ls]?t[hm][qt]=e:t[ls]=e,t[hm]=e,e}function EL(t=1){DS(Le(),X(),dr()+t,!1)}function DS(t,e,n,r){if(!r)if((e[Z]&3)===3){let o=t.preOrderCheckHooks;o!==null&&yd(e,o,n)}else{let o=t.preOrderHooks;o!==null&&vd(e,o,0,n)}Zr(n)}var Gd=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Gd||{});function my(t,e,n,r){let i=K(null);try{let[o,s,a]=t.inputs[n],c=null;(s&Gd.SignalBased)!==0&&(c=e[o][At]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,c,r,n,o):kC(e,c,o,r)}finally{K(i)}}var xn=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(xn||{}),IL;function tv(t,e){return IL(t,e)}var ro=new Set,Wd=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(Wd||{}),gr=new j(""),gC=new Set;function pn(t){gC.has(t)||(gC.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var nv=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=F({token:t,providedIn:"root",factory:()=>new t})}return t})(),bS=[0,1,2,3],CS=(()=>{class t{ngZone=N(Ie);scheduler=N(qr);errorHandler=N(Rn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){N(gr,{optional:!0})}execute(){let n=this.sequences.size>0;n&&ye(fe.AfterRenderHooksStart),this.executing=!0;for(let r of bS)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&ye(fe.AfterRenderHooksEnd)}register(n){let{view:r}=n;r!==void 0?((r[Ji]??=[]).push(n),fs(r),r[Z]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Wd.AFTER_NEXT_RENDER,n):n()}static \u0275prov=F({token:t,providedIn:"root",factory:()=>new t})}return t})(),Rd=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Ji];e&&(this.view[Ji]=e.filter(n=>n!==this))}};function rv(t,e){let n=e?.injector??N(Pe);return pn("NgAfterNextRender"),TL(t,n,e,!0)}function wL(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function TL(t,e,n,r){let i=e.get(nv);i.impl??=e.get(CS);let o=e.get(gr,null,{optional:!0}),s=n?.manualCleanup!==!0?e.get(Yt):null,a=e.get(dd,null,{optional:!0}),c=new Rd(i.impl,wL(t),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}var SS=new j("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:N(Se)})});function AS(t,e,n){let r=t.get(SS);if(Array.isArray(e))for(let i of e)r.queue.add(i),n?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(t)}function DL(t,e){let n=t.get(SS);if(e.detachedLeaveAnimationFns){for(let r of e.detachedLeaveAnimationFns)n.queue.delete(r);e.detachedLeaveAnimationFns=void 0}}function bL(t,e){for(let[n,r]of e)AS(t,r.animateFns)}function mC(t,e,n,r){let i=t?.[Zi]?.enter;e!==null&&i&&i.has(n.index)&&bL(r,i)}function gs(t,e,n,r,i,o,s,a){if(i!=null){let c,l=!1;cn(i)?c=i:kn(i)&&(l=!0,i=i[zt]);let h=Wt(i);t===0&&r!==null?(mC(a,r,o,n),s==null?gS(e,r,h):Ad(e,r,h,s||null,!0)):t===1&&r!==null?(mC(a,r,o,n),Ad(e,r,h,s||null,!0)):t===2?yC(a,o,n,p=>{mS(e,h,l,p)}):t===3&&yC(a,o,n,()=>{e.destroyNode(h)}),c!=null&&VL(e,t,n,c,o,r,s)}}function CL(t,e){RS(t,e),e[zt]=null,e[Gt]=null}function SL(t,e,n,r,i,o){r[zt]=i,r[Gt]=e,Qd(t,r,n,1,i,o)}function RS(t,e){e[Mn].changeDetectionScheduler?.notify(9),Qd(t,e,e[Te],2,null,null)}function AL(t){let e=t[ls];if(!e)return Km(t[z],t);for(;e;){let n=null;if(kn(e))n=e[ls];else{let r=e[xe];r&&(n=r)}if(!n){for(;e&&!e[qt]&&e!==t;)kn(e)&&Km(e[z],e),e=e[Qe];e===null&&(e=t),kn(e)&&Km(e[z],e),n=e&&e[qt]}e=n}}function iv(t,e){let n=t[Xi],r=n.indexOf(e);n.splice(r,1)}function Kd(t,e){if(eo(e))return;let n=e[Te];n.destroyNode&&Qd(t,e,n,3,null,null),AL(e)}function Km(t,e){if(eo(e))return;let n=K(null);try{e[Z]&=-129,e[Z]|=256,e[Lt]&&Ya(e[Lt]),ML(t,e),NL(t,e),e[z].type===1&&e[Te].destroy();let r=e[Qr];if(r!==null&&cn(e[Qe])){r!==e[Qe]&&iv(r,e);let i=e[Pn];i!==null&&i.detachView(t)}oy(e)}finally{K(n)}}function yC(t,e,n,r){let i=t?.[Zi];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);t&&ro.add(t),AS(n,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let c=0;c<s.animateFns.length;c++){let l=s.animateFns[c],{promise:h}=l();a.push(h)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),RL(t,r)}else t&&ro.delete(t),r(!1)},i)}function RL(t,e){let n=t[Zi]?.running;if(n){n.then(()=>{t[Zi].running=void 0,ro.delete(t),e(!0)});return}e(!1)}function NL(t,e){let n=t.cleanup,r=e[us];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[us]=null);let i=e[or];if(i!==null){e[or]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[cc];if(o!==null){e[cc]=null;for(let s of o)s.destroy()}}function ML(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof no)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];ye(fe.LifecycleHookStart,a,c);try{c.call(a)}finally{ye(fe.LifecycleHookEnd,a,c)}}else{ye(fe.LifecycleHookStart,i,o);try{o.call(i)}finally{ye(fe.LifecycleHookEnd,i,o)}}}}}function PL(t,e,n){return kL(t,e.parent,n)}function kL(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[zt];if(Jr(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===fn.None||i===fn.Emulated)return null}return ln(r,n)}function OL(t,e,n){return LL(t,e,n)}function xL(t,e,n){return t.type&40?ln(t,n):null}var LL=xL,vC;function ov(t,e,n,r){let i=PL(t,r,e),o=e[Te],s=r.parent||e[Gt],a=OL(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)fC(o,i,n[c],a,!1);else fC(o,i,n,a,!1);vC!==void 0&&vC(o,r,e,n,i)}function gc(t,e){if(e!==null){let n=e.type;if(n&3)return ln(e,t);if(n&4)return yy(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return gc(t,r);{let i=t[e.index];return cn(i)?yy(-1,i):Wt(i)}}else{if(n&128)return gc(t,e.next);if(n&32)return tv(e,t)()||Wt(t[e.index]);{let r=NS(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=zr(t[xt]);return gc(i,r)}else return gc(t,e.next)}}}return null}function NS(t,e){if(e!==null){let r=t[xt][Gt],i=e.projection;return r.projection[i]}return null}function yy(t,e){let n=xe+t+1;if(n<e.length){let r=e[n],i=r[z].firstChild;if(i!==null)return gc(r,i)}return e[Yr]}function sv(t,e,n,r,i,o,s){for(;n!=null;){let a=r[ur];if(n.type===128){n=n.next;continue}let c=r[n.index],l=n.type;if(s&&e===0&&(c&&vs(Wt(c),r),n.flags|=2),!$y(n))if(l&8)sv(t,e,n.child,r,i,o,!1),gs(e,t,a,i,c,n,o,r);else if(l&32){let h=tv(n,r),p;for(;p=h();)gs(e,t,a,i,p,n,o,r);gs(e,t,a,i,c,n,o,r)}else l&16?FL(t,e,r,n,i,o):gs(e,t,a,i,c,n,o,r);n=s?n.projectionNext:n.next}}function Qd(t,e,n,r,i,o){sv(n,r,t.firstChild,e,i,o,!1)}function FL(t,e,n,r,i,o){let s=n[xt],c=s[Gt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let h=c[l];gs(e,t,n[ur],i,h,r,o,n)}else{let l=c,h=s[Qe];QC(r)&&(l.flags|=128),sv(t,e,l,h,i,o,!0)}}function VL(t,e,n,r,i,o,s){let a=r[Yr],c=Wt(r);a!==c&&gs(e,t,n,o,a,i,s);for(let l=xe;l<r.length;l++){let h=r[l];Qd(h[z],h,t,e,o,a)}}function jL(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:xn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=xn.Important),t.setStyle(n,r,i,o))}}function MS(t,e,n,r,i){let o=dr(),s=r&2;try{Zr(-1),s&&e.length>Oe&&DS(t,e,Oe,!1);let a=s?fe.TemplateUpdateStart:fe.TemplateCreateStart;ye(a,i,n),n(r,i)}finally{Zr(o);let a=s?fe.TemplateUpdateEnd:fe.TemplateCreateEnd;ye(a,i,n)}}function Yd(t,e,n){GL(t,e,n),(n.flags&64)===64&&WL(t,e,n)}function Sc(t,e,n=ln){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function UL(t,e,n,r){let o=r.get(iS,rS)||n===fn.ShadowDom||n===fn.ExperimentalIsolatedShadowDom,s=t.selectRootElement(e,o);return BL(s),s}function BL(t){$L(t)}var $L=()=>null;function HL(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function zL(t,e,n,r,i,o){let s=e[z];if(dv(t,s,e,n,r)){Jr(t)&&qL(e,t.index);return}t.type&3&&(n=HL(n)),av(t,e,n,r,i,o)}function av(t,e,n,r,i,o){if(t.type&3){let s=ln(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function qL(t,e){let n=Kt(e,t);n[Z]&16||(n[Z]|=64)}function GL(t,e,n){let r=n.directiveStart,i=n.directiveEnd;Jr(n)&&_L(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Cd(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],c=yc(e,t,s,n);if(vs(c,e),o!==null&&JL(e,s-r,c,a,n,o),un(a)){let l=Kt(n.index,e);l[Ue]=yc(e,t,s,n)}}}function WL(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=$b();try{Zr(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];sd(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&KL(c,l)}}finally{Zr(-1),sd(s)}}function KL(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function cv(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];dL(e,o.selectors,!1)&&(r??=[],un(o)?r.unshift(o):r.push(o))}return r}function QL(t,e,n,r,i,o){let s=ln(t,e);YL(e[Te],s,o,t.value,n,r,i)}function YL(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Ki(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function JL(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];my(r,n,c,l)}}function uv(t,e,n,r,i){let o=Oe+n,s=e[z],a=i(s,e,t,r,n);e[o]=a,ps(t,!0);let c=t.type===2;return c?(yS(e[Te],a,t),(Mb()===0||ds(t))&&vs(a,e),Pb()):vs(a,e),ld()&&(!c||!$y(t))&&ov(s,e,a,t),t}function lv(t){let e=t;return Mm()?Fb():(e=e.parent,ps(e,!1)),e}function ZL(t,e,n){return(t===null||un(t))&&(n=vm(n[e.index])),n[Te]}function XL(t,e){let n=t[ur];if(!n)return;let r;try{r=n.get(Rt,null)}catch{r=null}r?.(e)}function dv(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],h=s[c+1],p=e.data[l];my(p,n[l],h,i),a=!0}if(o)for(let c of o){let l=n[c],h=e.data[c];my(h,l,r,i),a=!0}return a}function eF(t,e){let n=Kt(e,t),r=n[z];tF(r,n);let i=n[zt];i!==null&&n[cs]===null&&(n[cs]=oS(i,n[ur])),ye(fe.ComponentStart);try{hv(r,n,n[Ue])}finally{ye(fe.ComponentEnd,n[Ue])}}function tF(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function hv(t,e,n){cd(e);try{let r=t.viewQuery;r!==null&&ay(1,r,n);let i=t.template;i!==null&&MS(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Pn]?.finishViewCreation(t),t.staticContentQueries&&sS(t,e),t.staticViewQueries&&ay(2,t.viewQuery,n);let o=t.components;o!==null&&nF(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Z]&=-5,ud()}}function nF(t,e){for(let n=0;n<e.length;n++)eF(t,e[n])}function Jd(t,e,n,r){let i=K(null);try{let o=e.tView,a=t[Z]&4096?4096:16,c=Xy(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[Qr]=l;let h=t[Pn];return h!==null&&(c[Pn]=h.createEmbeddedView(o)),hv(o,c,n),c}finally{K(i)}}function vc(t,e){return!e||e.firstChild===null||QC(t)}function _c(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Wt(o)),cn(o)&&PS(o,r);let s=n.type;if(s&8)_c(t,e,n.child,r);else if(s&32){let a=tv(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=NS(e,n);if(Array.isArray(a))r.push(...a);else{let c=zr(e[xt]);_c(c[z],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function PS(t,e){for(let n=xe;n<t.length;n++){let r=t[n],i=r[z].firstChild;i!==null&&_c(r[z],r,i,e)}t[Yr]!==t[zt]&&e.push(t[Yr])}function kS(t){if(t[Ji]!==null){for(let e of t[Ji])e.impl.addSequence(e);t[Ji].length=0}}var OS=[];function rF(t){return t[Lt]??iF(t)}function iF(t){let e=OS.pop()??Object.create(sF);return e.lView=t,e}function oF(t){t.lView[Lt]!==t&&(t.lView=null,OS.push(t))}var sF=_e(x({},Wa),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{fs(t.lView)},consumerOnSignalRead(){this.lView[Lt]=this}});function aF(t){let e=t[Lt]??Object.create(cF);return e.lView=t,e}var cF=_e(x({},Wa),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=zr(t.lView);for(;e&&!xS(e[z]);)e=zr(e);e&&Tm(e)},consumerOnSignalRead(){this.lView[Lt]=this}});function xS(t){return t.type!==2}function LS(t){if(t[cc]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[cc])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[Z]&8192)}}var uF=100;function FS(t,e=0){let r=t[Mn].rendererFactory,i=!1;i||r.begin?.();try{lF(t,e)}finally{i||r.end?.()}}function lF(t,e){let n=Pm();try{km(!0),vy(t,e);let r=0;for(;dc(t);){if(r===uF)throw new V(103,!1);r++,vy(t,1)}}finally{km(n)}}function dF(t,e,n,r){if(eo(e))return;let i=e[Z],o=!1,s=!1;cd(e);let a=!0,c=null,l=null;o||(xS(t)?(l=rF(e),c=Qa(l)):Fl()===null?(a=!1,l=aF(e),c=Qa(l)):e[Lt]&&(Ya(e[Lt]),e[Lt]=null));try{wm(e),jb(t.bindingStartIndex),n!==null&&MS(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&yd(e,y,null)}else{let y=t.preOrderHooks;y!==null&&vd(e,y,0,null),Gm(e,0)}if(s||hF(e),LS(e),VS(e,0),t.contentQueries!==null&&sS(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&yd(e,y)}else{let y=t.contentHooks;y!==null&&vd(e,y,1),Gm(e,1)}pF(t,e);let p=t.components;p!==null&&US(e,p,0);let g=t.viewQuery;if(g!==null&&ay(2,g,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&yd(e,y)}else{let y=t.viewHooks;y!==null&&vd(e,y,2),Gm(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[td]){for(let y of e[td])y();e[td]=null}o||(kS(e),e[Z]&=-73)}catch(h){throw o||fs(e),h}finally{l!==null&&(Vl(l,c),a&&oF(l)),ud()}}function VS(t,e){for(let n=JC(t);n!==null;n=ZC(n))for(let r=xe;r<n.length;r++){let i=n[r];jS(i,e)}}function hF(t){for(let e=JC(t);e!==null;e=ZC(e)){if(!(e[Z]&2))continue;let n=e[Xi];for(let r=0;r<n.length;r++){let i=n[r];Tm(i)}}}function fF(t,e,n){ye(fe.ComponentStart);let r=Kt(e,t);try{jS(r,n)}finally{ye(fe.ComponentEnd,r[Ue])}}function jS(t,e){nd(t)&&vy(t,e)}function vy(t,e){let r=t[z],i=t[Z],o=t[Lt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&jl(o)),s||=!1,o&&(o.dirty=!1),t[Z]&=-9217,s)dF(r,t,r.template,t[Ue]);else if(i&8192){let a=K(null);try{LS(t),VS(t,1);let c=r.components;c!==null&&US(t,c,1),kS(t)}finally{K(a)}}}function US(t,e,n){for(let r=0;r<e.length;r++)fF(t,e[r],n)}function pF(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Zr(~i);else{let o=i,s=n[++r],a=n[++r];Bb(s,o);let c=e[o];ye(fe.HostBindingsUpdateStart,c);try{a(2,c)}finally{ye(fe.HostBindingsUpdateEnd,c)}}}}finally{Zr(-1)}}function fv(t,e){let n=Pm()?64:1088;for(t[Mn].changeDetectionScheduler?.notify(e);t;){t[Z]|=n;let r=zr(t);if(hs(t)&&!r)return t;t=r}return null}function BS(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function $S(t,e){let n=xe+e;if(n<t.length)return t[n]}function Zd(t,e,n,r=!0){let i=e[z];if(gF(i,e,t,n),r){let s=yy(n,t),a=e[Te],c=a.parentNode(t[Yr]);c!==null&&SL(i,t[Gt],a,e,c,s)}let o=e[cs];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function HS(t,e){let n=Ec(t,e);return n!==void 0&&Kd(n[z],n),n}function Ec(t,e){if(t.length<=xe)return;let n=xe+e,r=t[n];if(r){let i=r[Qr];i!==null&&i!==t&&iv(i,r),e>0&&(t[n-1][qt]=r[qt]);let o=ic(t,xe+e);CL(r[z],r);let s=o[Pn];s!==null&&s.detachView(o[z]),r[Qe]=null,r[qt]=null,r[Z]&=-129}return r}function gF(t,e,n,r){let i=xe+r,o=n.length;r>0&&(n[i-1][qt]=e),r<o-xe?(e[qt]=n[i],im(n,xe+r,e)):(n.push(e),e[qt]=null),e[Qe]=n;let s=e[Qr];s!==null&&n!==s&&zS(s,e);let a=e[Pn];a!==null&&a.insertView(t),rd(e),e[Z]|=128}function zS(t,e){let n=t[Xi],r=e[Qe];if(kn(r))t[Z]|=2;else{let i=r[Qe][xt];e[xt]!==i&&(t[Z]|=2)}n===null?t[Xi]=[e]:n.push(e)}var ei=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[z];return _c(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[Ue]}set context(e){this._lView[Ue]=e}get destroyed(){return eo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Qe];if(cn(e)){let n=e[uc],r=n?n.indexOf(this):-1;r>-1&&(Ec(e,r),ic(n,r))}this._attachedToViewContainer=!1}Kd(this._lView[z],this._lView)}onDestroy(e){Dm(this._lView,e)}markForCheck(){fv(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Z]&=-129}reattach(){rd(this._lView),this._lView[Z]|=128}detectChanges(){this._lView[Z]|=1024,FS(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=hs(this._lView),n=this._lView[Qr];n!==null&&!e&&iv(n,this._lView),RS(this._lView[z],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=e;let n=hs(this._lView),r=this._lView[Qr];r!==null&&!n&&zS(r,this._lView),rd(this._lView)}};var io=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=mF;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=Jd(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new ei(o)}}return t})();function mF(){return pv(tt(),X())}function pv(t,e){return t.type&4?new io(e,t,Is(t,e)):null}function Ac(t,e,n,r,i){let o=t.data[e];if(o===null)o=yF(t,e,n,r,i),Ub()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=Lb();o.injectorIndex=s===null?-1:s.injectorIndex}return ps(o,!0),o}function yF(t,e,n,r,i){let o=Nm(),s=Mm(),a=s?o:o&&o.parent,c=t.data[e]=_F(t,a,n,e,r,i);return vF(t,c,o,s),c}function vF(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function _F(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return kb()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function EF(t){let e=t[gm]??[],r=t[Qe][Te],i=[];for(let o of e)o.data[nS]!==void 0?i.push(o):IF(o,r);t[gm]=i}function IF(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[tS];for(;n<i;){let o=r.nextSibling;mS(e,r,!1),r=o,n++}}}var wF=()=>null,TF=()=>null;function _y(t,e){return wF(t,e)}function qS(t,e,n){return TF(t,e,n)}var GS=class{},Xd=class{},Ey=class{resolveComponentFactory(e){throw new V(917,!1)}},Rc=class{static NULL=new Ey},oo=class{},ws=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>DF()}return t})();function DF(){let t=X(),e=tt(),n=Kt(e.index,t);return(kn(n)?n:t)[Te]}var WS=(()=>{class t{static \u0275prov=F({token:t,providedIn:"root",factory:()=>null})}return t})();var Ed={},Iy=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,Ed,r);return i!==Ed||n===Ed?i:this.parentInjector.get(e,n,r)}};function Nd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Kl(i,a);else if(o==2){let c=a,l=e[++s];r=Kl(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Ye(t,e=0){let n=X();if(n===null)return $(t,e);let r=tt();return GC(r,n,ct(t),e)}function gv(){let t="invalid";throw new Error(t)}function KS(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a=s,c=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,c,l]=h.resolveHostDirectives(s);break}SF(t,e,n,a,o,c,l)}o!==null&&r!==null&&bF(n,r,o)}function bF(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new V(-301,!1);r.push(e[i],o)}}function CF(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function SF(t,e,n,r,i,o,s){let a=r.length,c=null;for(let g=0;g<a;g++){let y=r[g];c===null&&un(y)&&(c=y,CF(t,n,g)),ry(Cd(n,e),t,y.type)}kF(n,t.data.length,a),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let g=0;g<a;g++){let y=r[g];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=TS(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let g=0;g<a;g++){let y=r[g];if(n.mergedAttrs=ys(n.mergedAttrs,y.hostAttrs),RF(t,n,e,p,y),PF(p,y,i),s!==null&&s.has(y)){let[A,S]=s.get(y);n.directiveToIndex.set(y.type,[p,A+n.directiveStart,S+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let T=y.type.prototype;!l&&(T.ngOnChanges||T.ngOnInit||T.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!h&&(T.ngOnChanges||T.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),h=!0),p++}AF(t,n,o)}function AF(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))_C(0,e,i,r),_C(1,e,i,r),IC(e,r,!1);else{let o=n.get(i);EC(0,e,o,r),EC(1,e,o,r),IC(e,r,!0)}}}function _C(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),QS(e,o)}}function EC(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),QS(e,s)}}function QS(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function IC(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||Jy(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let l=i[c];for(let h of l)if(h===e){s??=[],s.push(c,r[a+1]);break}}else if(n&&o.hasOwnProperty(c)){let l=o[c];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function RF(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Hr(i.type,!0)),s=new no(o,un(i),Ye,null);t.blueprint[r]=s,n[r]=s,NF(t,e,r,TS(t,n,i.hostVars,Pt),i)}function NF(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;MF(s)!=a&&s.push(a),s.push(n,r,o)}}function MF(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function PF(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;un(e)&&(n[""]=t)}}function kF(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function mv(t,e,n,r,i,o,s,a){let c=e[z],l=c.consts,h=Qt(l,s),p=Ac(c,t,n,r,h);return o&&KS(c,e,p,Qt(l,a),i),p.mergedAttrs=ys(p.mergedAttrs,p.attrs),p.attrs!==null&&Nd(p,p.attrs,!1),p.mergedAttrs!==null&&Nd(p,p.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,p),p}function yv(t,e){FC(t,e),mm(e)&&t.queries.elementEnd(e)}function OF(t,e,n,r,i,o){let s=e.consts,a=Qt(s,i),c=Ac(e,t,n,r,a);if(c.mergedAttrs=ys(c.mergedAttrs,c.attrs),o!=null){let l=Qt(s,o);c.localNames=[];for(let h=0;h<l.length;h+=2)c.localNames.push(l[h],-1)}return c.attrs!==null&&Nd(c,c.attrs,!1),c.mergedAttrs!==null&&Nd(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function YS(t,e,n){return t[e]=n}function xF(t,e){return t[e]}function gn(t,e,n){if(n===Pt)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Id(t,e,n){return function r(i){let o=Jr(t)?Kt(t.index,e):e;fv(o,5);let s=e[Ue],a=wC(e,s,n,i),c=r.__ngNextListenerFn__;for(;c;)a=wC(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function wC(t,e,n,r){let i=K(null);try{return ye(fe.OutputStart,e,n),n(r)!==!1}catch(o){return XL(t,o),!1}finally{ye(fe.OutputEnd,e,n),K(i)}}function JS(t,e,n,r,i,o,s,a){let c=ds(t),l=!1,h=null;if(!r&&c&&(h=FF(e,n,o,t.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=ln(t,n),g=r?r(p):p;R1(n,g,o,a);let y=i.listen(g,o,a);if(!LF(o)){let T=r?A=>r(Wt(A[t.index])):t.index;ZS(T,e,n,o,a,y,!1)}}return l}function LF(t){return t.startsWith("animation")||t.startsWith("transition")}function FF(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[us],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function ZS(t,e,n,r,i,o,s){let a=e.firstCreatePass?Cm(e):null,c=bm(n),l=c.length;c.push(i,o),a&&a.push(r,t,l,(l+1)*(s?-1:1))}function TC(t,e,n,r,i,o){let s=e[n],a=e[z],l=a.data[n].outputs[r],p=s[l].subscribe(o);ZS(t.index,a,e,i,o,p,!0)}var wy=Symbol("BINDING");var Md=class extends Rc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=cr(e);return new so(n,this.ngModule)}};function VF(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Gd.SignalBased)!==0};return i&&(o.transform=i),o})}function jF(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function UF(t,e,n){let r=e instanceof Se?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Iy(n,r):n}function BF(t){let e=t.get(oo,null);if(e===null)throw new V(407,!1);let n=t.get(WS,null),r=t.get(qr,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function $F(t,e){let n=XS(t);return pS(e,n,n==="svg"?ym:n==="math"?bb:null)}function XS(t){return(t.selectors[0][0]||"div").toLowerCase()}var so=class extends Xd{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=VF(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=jF(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=gL(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){ye(fe.DynamicComponentStart);let a=K(null);try{let c=this.componentDef,l=HF(r,c,s,o),h=UF(c,i||this.ngModule,e),p=BF(h),g=p.rendererFactory.createRenderer(null,c),y=r?UL(g,r,c.encapsulation,h):$F(c,g),T=s?.some(DC)||o?.some(P=>typeof P!="function"&&P.bindings.some(DC)),A=Xy(null,l,null,512|wS(c),null,null,p,g,h,null,oS(y,h,!0));A[Oe]=y,cd(A);let S=null;try{let P=mv(Oe,A,2,"#host",()=>l.directiveRegistry,!0,0);yS(g,y,P),vs(y,A),Yd(l,A,P),Hy(l,P,A),yv(l,P),n!==void 0&&qF(P,this.ngContentSelectors,n),S=Kt(P.index,A),A[Ue]=S[Ue],hv(l,A,null)}catch(P){throw S!==null&&oy(S),oy(A),P}finally{ye(fe.DynamicComponentEnd),ud()}return new Pd(this.componentType,A,!!T)}finally{K(a)}}};function HF(t,e,n,r){let i=t?["ng-version","21.0.3"]:mL(e.selectors[0]),o=null,s=null,a=0;if(n)for(let h of n)a+=h[wy].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let g of p.bindings){a+=g[wy].requiredVars;let y=h+1;g.create&&(g.targetIdx=y,(o??=[]).push(g)),g.update&&(g.targetIdx=y,(s??=[]).push(g))}}let c=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,g=cm(p);c.push(g)}return Zy(0,null,zF(o,s),1,a,c,null,null,null,[i],null)}function zF(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function DC(t){let e=t[wy].kind;return e==="input"||e==="twoWay"}var Pd=class extends GS{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=lc(n[z],Oe),this.location=Is(this._tNode,n),this.instance=Kt(this._tNode.index,n)[Ue],this.hostView=this.changeDetectorRef=new ei(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=dv(r,i[z],i,e,n);this.previousInputValues.set(e,n);let s=Kt(r.index,i);fv(s,1)}get injector(){return new to(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function qF(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var ti=(()=>{class t{static __NG_ELEMENT_ID__=GF}return t})();function GF(){let t=tt();return tA(t,X())}var WF=ti,eA=class extends WF{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Is(this._hostTNode,this._hostLView)}get injector(){return new to(this._hostTNode,this._hostLView)}get parentInjector(){let e=jy(this._hostTNode,this._hostLView);if(UC(e)){let n=Dd(e,this._hostLView),r=Td(e),i=n[z].data[r+8];return new to(i,n)}else return new to(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=bC(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-xe}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=_y(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,vc(this._hostTNode,s)),a}createComponent(e,n,r,i,o,s,a){let c=e&&!t1(e),l;if(c)l=n;else{let S=n||{};l=S.index,r=S.injector,i=S.projectableNodes,o=S.environmentInjector||S.ngModuleRef,s=S.directives,a=S.bindings}let h=c?e:new so(cr(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let P=(c?p:this.parentInjector).get(Se,null);P&&(o=P)}let g=cr(h.componentType??{}),y=_y(this._lContainer,g?.id??null),T=y?.firstChild??null,A=h.create(p,i,T,o,s,a);return this.insertImpl(A.hostView,l,vc(this._hostTNode,y)),A}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(Sb(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Qe],l=new eA(c,c[Gt],c[Qe]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Zd(s,i,o,r),e.attachToViewContainerRef(),im(Qm(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=bC(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Ec(this._lContainer,n);r&&(ic(Qm(this._lContainer),n),Kd(r[z],r))}detach(e){let n=this._adjustIndex(e,-1),r=Ec(this._lContainer,n);return r&&ic(Qm(this._lContainer),n)!=null?new ei(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function bC(t){return t[uc]}function Qm(t){return t[uc]||(t[uc]=[])}function tA(t,e){let n,r=e[t.index];return cn(r)?n=r:(n=BS(r,e,null,t),e[t.index]=n,ev(e,n)),QF(n,e,t,r),new eA(n,t,e)}function KF(t,e){let n=t[Te],r=n.createComment(""),i=ln(e,t),o=n.parentNode(i);return Ad(n,o,r,n.nextSibling(i),!1),r}var QF=ZF,YF=()=>!1;function JF(t,e,n){return YF(t,e,n)}function ZF(t,e,n,r){if(t[Yr])return;let i;n.type&8?i=Wt(r):i=KF(e,n),t[Yr]=i}var Ty=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Dy=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)vv(e,n).matches!==null&&this.queries[n].setDirty()}},by=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=sV(e):this.predicate=e}},Cy=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Sy=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,XF(n,o)),this.matchTNodeWithReadOption(e,n,_d(n,e,o,!1,!1))}else r===io?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,_d(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Ln||i===ti||i===io&&n.type&4)this.addMatch(n.index,-2);else{let o=_d(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function XF(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function eV(t,e){return t.type&11?Is(t,e):t.type&4?pv(t,e):null}function tV(t,e,n,r){return n===-1?eV(e,t):n===-2?nV(t,e,r):yc(t,t[z],n,e)}function nV(t,e,n){if(n===Ln)return Is(e,t);if(n===io)return pv(e,t);if(n===ti)return tA(e,t)}function nA(t,e,n,r){let i=e[Pn].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let h=o[l];a.push(tV(e,h,s[c+1],n.metadata.read))}}i.matches=a}return i.matches}function Ay(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=nA(t,e,i,n);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-c];for(let p=xe;p<h.length;p++){let g=h[p];g[Qr]===g[Qe]&&Ay(g[z],g,l,r)}if(h[Xi]!==null){let p=h[Xi];for(let g=0;g<p.length;g++){let y=p[g];Ay(y[z],y,l,r)}}}}}return r}function rV(t,e){return t[Pn].queries[e].queryList}function iV(t,e,n){let r=new Sd((n&4)===4);return Nb(t,e,r,r.destroy),(e[Pn]??=new Dy).queries.push(new Ty(r))-1}function oV(t,e,n,r){let i=Le();if(i.firstCreatePass){let o=tt();aV(i,new by(e,n,r),o.index),cV(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return iV(i,X(),n)}function sV(t){return t.split(",").map(e=>e.trim())}function aV(t,e,n){t.queries===null&&(t.queries=new Cy),t.queries.track(new Sy(e,n))}function cV(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function vv(t,e){return t.queries.getByIndex(e)}function uV(t,e){let n=t[z],r=vv(n,e);return r.crossesNgTemplate?Ay(n,t,e,[]):nA(n,t,r,e)}var ao=class{},eh=class{};var kd=class extends ao{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Md(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=am(e);this._bootstrapComponents=ES(o.bootstrap),this._r3Injector=jm(e,n,[{provide:ao,useValue:this},{provide:Rc,useValue:this.componentFactoryResolver},...r],sr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Od=class extends eh{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new kd(this.moduleType,e,[])}};var Ic=class extends ao{injector;componentFactoryResolver=new Md(this);instance=null;constructor(e){super();let n=new Gi([...e.providers,{provide:ao,useValue:this},{provide:Rc,useValue:this.componentFactoryResolver}],e.parent||sc(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ts(t,e,n=null){return new Ic({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var lV=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=um(!1,n.type),i=r.length>0?Ts([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=F({token:t,providedIn:"environment",factory:()=>new t($(Se))})}return t})();function _v(t){return Es(()=>{let e=rA(t),n=_e(x({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Uy.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(lV).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||fn.Emulated,styles:t.styles||wt,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&pn("NgStandalone"),iA(n);let r=t.dependencies;return n.directiveDefs=CC(r,dV),n.pipeDefs=CC(r,vb),n.id=pV(n),n})}function dV(t){return cr(t)||cm(t)}function ni(t){return Es(()=>({type:t.type,bootstrap:t.bootstrap||wt,declarations:t.declarations||wt,imports:t.imports||wt,exports:t.exports||wt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function hV(t,e){if(t==null)return Wr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=Gd.None,c=null),n[o]=[r,a,c],e[o]=s}return n}function fV(t){if(t==null)return Wr;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function ri(t){return Es(()=>{let e=rA(t);return iA(e),e})}function Ev(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function rA(t){let e={};return{type:t.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Wr,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||wt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:hV(t.inputs,e),outputs:fV(t.outputs),debugInfo:null}}function iA(t){t.features?.forEach(e=>e(t))}function CC(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function pV(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function gV(t){return Object.getPrototypeOf(t.prototype).constructor}function oA(t){let e=gV(t.type),n=!0,r=[t];for(;e;){let i;if(un(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new V(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Ym(t.inputs),s.declaredInputs=Ym(t.declaredInputs),s.outputs=Ym(t.outputs);let a=i.hostBindings;a&&EV(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&vV(t,c),l&&_V(t,l),mV(t,i),ub(t.outputs,i.outputs),un(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===oA&&(n=!1)}}e=Object.getPrototypeOf(e)}yV(r)}function mV(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function yV(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ys(i.hostAttrs,n=ys(n,i.hostAttrs))}}function Ym(t){return t===Wr?{}:t===wt?[]:t}function vV(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function _V(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function EV(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function sA(t,e,n,r,i,o,s,a){if(n.firstCreatePass){t.mergedAttrs=ys(t.mergedAttrs,t.attrs);let h=t.tView=Zy(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),h.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),ps(t,!1);let c=wV(n,e,t,r);ld()&&ov(n,e,c,t),vs(c,e);let l=BS(c,e,c,t);e[r+Oe]=l,ev(e,l),JF(l,t,e)}function IV(t,e,n,r,i,o,s,a,c,l,h){let p=n+Oe,g;return e.firstCreatePass?(g=Ac(e,p,4,s||null,a||null),id()&&KS(e,t,g,Qt(e.consts,l),cv),FC(e,g)):g=e.data[p],sA(g,t,e,n,r,i,o,c),ds(g)&&Yd(e,t,g),l!=null&&Sc(t,g,h),g}function xd(t,e,n,r,i,o,s,a,c,l,h){let p=n+Oe,g;if(e.firstCreatePass){if(g=Ac(e,p,4,s||null,a||null),l!=null){let y=Qt(e.consts,l);g.localNames=[];for(let T=0;T<y.length;T+=2)g.localNames.push(y[T],-1)}}else g=e.data[p];return sA(g,t,e,n,r,i,o,c),l!=null&&Sc(t,g,h),g}function aA(t,e,n,r,i,o,s,a){let c=X(),l=Le(),h=Qt(l.consts,o);return IV(c,l,t,e,n,r,i,h,void 0,s,a),aA}var wV=TV;function TV(t,e,n,r){return fc(!0),e[Te].createComment("")}var th=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var Iv=new j("");function ho(t){return!!t&&typeof t.then=="function"}function nh(t){return!!t&&typeof t.subscribe=="function"}var wv=new j("");function rh(t){return et([{provide:wv,multi:!0,useValue:t}])}var Tv=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=N(wv,{optional:!0})??[];injector=N(Pe);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=ke(this.injector,i);if(ho(o))n.push(o);else if(nh(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Nc=new j("");function cA(){Rg(()=>{let t="";throw new V(600,t)})}function uA(t){return t.isBoundToModule}var DV=10;var fo=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=N(Rt);afterRenderManager=N(nv);zonelessEnabled=N(pc);rootEffectScheduler=N(qm);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Xe;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=N(hr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(de(n=>!n))}constructor(){N(gr,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=N(Se);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Pe.NULL){return this._injector.get(Ie).run(()=>{ye(fe.BootstrapComponentStart);let s=n instanceof Xd;if(!this._injector.get(Tv).done){let T="";throw new V(405,T)}let c;s?c=n:c=this._injector.get(Rc).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let l=uA(c)?void 0:this._injector.get(ao),h=r||c.selector,p=c.create(i,[],h,l),g=p.location.nativeElement,y=p.injector.get(Iv,null);return y?.registerApplication(g),p.onDestroy(()=>{this.detachView(p.hostView),mc(this.components,p),y?.unregisterApplication(g)}),this._loadComponent(p),ye(fe.BootstrapComponentEnd,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ye(fe.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(Wd.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw ye(fe.ChangeDetectionEnd),new V(101,!1);let n=K(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,K(n),this.afterTick.next(),ye(fe.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(oo,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<DV;){ye(fe.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{ye(fe.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!dc(i))continue;let o=r&&!this.zonelessEnabled?0:1;FS(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>dc(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;mc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Nc,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>mc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new V(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function mc(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function ih(t,e,n,r){let i=X(),o=lr();if(gn(i,o,e)){let s=Le(),a=hc();QL(a,i,t,e,n,r)}return ih}var aQ=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var Ry=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function Jm(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function bV(t,e,n,r){let i,o,s=0,a=t.length-1,c=void 0;if(Array.isArray(e)){K(r);let l=e.length-1;for(K(null);s<=a&&s<=l;){let h=t.at(s),p=e[s],g=Jm(s,h,s,p,n);if(g!==0){g<0&&t.updateValue(s,p),s++;continue}let y=t.at(a),T=e[l],A=Jm(a,y,l,T,n);if(A!==0){A<0&&t.updateValue(a,T),a--,l--;continue}let S=n(s,h),P=n(a,y),B=n(s,p);if(Object.is(B,P)){let H=n(l,T);Object.is(H,S)?(t.swap(s,a),t.updateValue(a,T),l--,a--):t.move(a,s),t.updateValue(s,p),s++;continue}if(i??=new Ld,o??=AC(t,s,a,n),Ny(t,i,s,B))t.updateValue(s,p),s++,a++;else if(o.has(B))i.set(S,t.detach(s)),a--;else{let H=t.create(s,e[s]);t.attach(s,H),s++,a++}}for(;s<=l;)SC(t,i,n,s,e[s]),s++}else if(e!=null){K(r);let l=e[Symbol.iterator]();K(null);let h=l.next();for(;!h.done&&s<=a;){let p=t.at(s),g=h.value,y=Jm(s,p,s,g,n);if(y!==0)y<0&&t.updateValue(s,g),s++,h=l.next();else{i??=new Ld,o??=AC(t,s,a,n);let T=n(s,g);if(Ny(t,i,s,T))t.updateValue(s,g),s++,a++,h=l.next();else if(!o.has(T))t.attach(s,t.create(s,g)),s++,a++,h=l.next();else{let A=n(s,p);i.set(A,t.detach(s)),a--}}}for(;!h.done;)SC(t,i,n,t.length,h.value),h=l.next()}for(;s<=a;)t.destroy(t.detach(a--));i?.forEach(l=>{t.destroy(l)})}function Ny(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function SC(t,e,n,r,i){if(Ny(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function AC(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var Ld=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function CV(t,e,n,r,i,o,s,a){pn("NgControlFlow");let c=X(),l=Le(),h=Qt(l.consts,o);return xd(c,l,t,e,n,r,i,h,256,s,a),Dv}function Dv(t,e,n,r,i,o,s,a){pn("NgControlFlow");let c=X(),l=Le(),h=Qt(l.consts,o);return xd(c,l,t,e,n,r,i,h,512,s,a),Dv}function SV(t,e){pn("NgControlFlow");let n=X(),r=lr(),i=n[r]!==Pt?n[r]:-1,o=i!==-1?Fd(n,Oe+i):void 0,s=0;if(gn(n,r,t)){let a=K(null);try{if(o!==void 0&&HS(o,s),t!==-1){let c=Oe+t,l=Fd(n,c),h=Oy(n[z],c),p=qS(l,h,n),g=Jd(n,h,e,{dehydratedView:p});Zd(l,g,s,vc(h,p))}}finally{K(a)}}else if(o!==void 0){let a=$S(o,s);a!==void 0&&(a[Ue]=e)}}var My=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-xe}};function AV(t,e){return e}var Py=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function RV(t,e,n,r,i,o,s,a,c,l,h,p,g){pn("NgControlFlow");let y=X(),T=Le(),A=c!==void 0,S=X(),P=a?s.bind(S[xt][Ue]):s,B=new Py(A,P);S[Oe+t]=B,xd(y,T,t+1,e,n,r,i,Qt(T.consts,o),256),A&&xd(y,T,t+2,c,l,h,p,Qt(T.consts,g),512)}var ky=class extends Ry{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-xe}at(e){return this.getLView(e)[Ue].$implicit}attach(e,n){let r=n[cs];this.needsIndexUpdate||=e!==this.length,Zd(this.lContainer,n,e,vc(this.templateTNode,r)),MV(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,PV(this.lContainer,e),kV(this.lContainer,e)}create(e,n){let r=_y(this.lContainer,this.templateTNode.tView.ssrId),i=Jd(this.hostLView,this.templateTNode,new My(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Kd(e[z],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[Ue].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Ue].$index=e}getLView(e){return OV(this.lContainer,e)}};function NV(t){let e=K(null),n=dr();try{let r=X(),i=r[z],o=r[n],s=n+1,a=Fd(r,s);if(o.liveCollection===void 0){let l=Oy(i,s);o.liveCollection=new ky(a,r,l)}else o.liveCollection.reset();let c=o.liveCollection;if(bV(c,t,o.trackByFn,e),c.updateIndexes(),o.hasEmptyBlock){let l=lr(),h=c.length===0;if(gn(r,l,h)){let p=n+2,g=Fd(r,p);if(h){let y=Oy(i,p),T=qS(g,y,r),A=Jd(r,y,void 0,{dehydratedView:T});Zd(g,A,0,vc(y,T))}else i.firstUpdatePass&&EF(g),HS(g,0)}}}finally{K(e)}}function Fd(t,e){return t[e]}function MV(t,e){if(t.length<=xe)return;let n=xe+e,r=t[n],i=r?r[Zi]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let o=r[ur];DL(o,i),ro.delete(r),i.detachedLeaveAnimationFns=void 0}}function PV(t,e){if(t.length<=xe)return;let n=xe+e,r=t[n],i=r?r[Zi]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function kV(t,e){return Ec(t,e)}function OV(t,e){return $S(t,e)}function Oy(t,e){return lc(t,e)}function lA(t,e,n){let r=X(),i=lr();if(gn(r,i,e)){let o=Le(),s=hc();zL(s,r,t,e,r[Te],n)}return lA}function xy(t,e,n,r,i){dv(e,t,n,i?"class":"style",r)}function bv(t,e,n,r){let i=X(),o=i[z],s=t+Oe,a=o.firstCreatePass?mv(s,i,2,e,cv,id(),n,r):o.data[s];if(uv(a,i,t,e,hA),ds(a)){let c=i[z];Yd(c,i,a),Hy(c,a,i)}return r!=null&&Sc(i,a),bv}function Cv(){let t=Le(),e=tt(),n=lv(e);return t.firstCreatePass&&yv(t,n),Am(n)&&Rm(),Sm(),n.classesWithoutHost!=null&&a1(n)&&xy(t,n,X(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&c1(n)&&xy(t,n,X(),n.stylesWithoutHost,!1),Cv}function oh(t,e,n,r){return bv(t,e,n,r),Cv(),oh}function Sv(t,e,n,r){let i=X(),o=i[z],s=t+Oe,a=o.firstCreatePass?OF(s,o,2,e,n,r):o.data[s];return uv(a,i,t,e,hA),r!=null&&Sc(i,a),Sv}function Av(){let t=tt(),e=lv(t);return Am(e)&&Rm(),Sm(),Av}function dA(t,e,n,r){return Sv(t,e,n,r),Av(),dA}var hA=(t,e,n,r,i)=>(fc(!0),pS(e[Te],r,Qb()));function fA(t,e,n){let r=X(),i=r[z],o=t+Oe,s=i.firstCreatePass?mv(o,r,8,"ng-container",cv,id(),e,n):i.data[o];if(uv(s,r,t,"ng-container",xV),ds(s)){let a=r[z];Yd(a,r,s),Hy(a,s,r)}return n!=null&&Sc(r,s),fA}function pA(){let t=Le(),e=tt(),n=lv(e);return t.firstCreatePass&&yv(t,n),pA}var xV=(t,e,n,r,i)=>(fc(!0),eL(e[Te],""));function LV(){return X()}function gA(t,e,n){let r=X(),i=lr();if(gn(r,i,e)){let o=Le(),s=hc();av(s,r,t,e,r[Te],n)}return gA}function mA(t,e,n){let r=X(),i=lr();if(gn(r,i,e)){let o=Le(),s=hc(),a=xm(o.data),c=ZL(a,s,r);av(s,r,t,e,c,n)}return mA}var Mc="en-US";var FV=Mc;function yA(t){typeof t=="string"&&(FV=t.toLowerCase().replace(/_/g,"-"))}function sh(t,e,n){let r=X(),i=Le(),o=tt();return VV(i,r,r[Te],o,t,e,n),sh}function vA(t,e,n){let r=X(),i=Le(),o=tt();return(o.type&3||n)&&JS(o,i,r,n,r[Te],t,e,Id(o,r,e)),vA}function VV(t,e,n,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=Id(r,e,o),JS(r,t,e,s,n,i,o,c)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let g=h[p],y=h[p+1];c??=Id(r,e,o),TC(r,e,g,y,i,c)}if(l&&l.length)for(let p of l)c??=Id(r,e,o),TC(r,e,p,i,i,c)}}function jV(t=1){return Gb(t)}function Rv(t,e,n,r){oV(t,e,n,r)}function Nv(t){let e=X(),n=Le(),r=Lm();ad(r+1);let i=vv(n,r);if(t.dirty&&Cb(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=uV(e,r);t.reset(o,I1),t.notifyOnChanges()}return!0}return!1}function Mv(){return rV(X(),Lm())}function UV(t){let e=Vb();return Em(e,Oe+t)}function md(t,e){return t<<17|e<<2}function co(t){return t>>17&32767}function BV(t){return(t&2)==2}function $V(t,e){return t&131071|e<<17}function Ly(t){return t|2}function _s(t){return(t&131068)>>2}function Zm(t,e){return t&-131069|e<<2}function HV(t){return(t&1)===1}function Fy(t){return t|1}function zV(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=co(s),c=_s(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||as(p,h)>0)&&(l=!0)}else h=n;if(i)if(c!==0){let g=co(t[a+1]);t[r+1]=md(g,a),g!==0&&(t[g+1]=Zm(t[g+1],r)),t[a+1]=$V(t[a+1],r)}else t[r+1]=md(a,0),a!==0&&(t[a+1]=Zm(t[a+1],r)),a=r;else t[r+1]=md(c,0),a===0?a=r:t[c+1]=Zm(t[c+1],r),c=r;l&&(t[r+1]=Ly(t[r+1])),RC(t,h,r,!0),RC(t,h,r,!1),qV(e,h,t,r,o),s=md(a,c),o?e.classBindings=s:e.styleBindings=s}function qV(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&as(o,e)>=0&&(n[r+1]=Fy(n[r+1]))}function RC(t,e,n,r){let i=t[n+1],o=e===null,s=r?co(i):_s(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];GV(c,e)&&(a=!0,t[s+1]=r?Fy(l):Ly(l)),s=r?co(l):_s(l)}a&&(t[n+1]=r?Ly(i):Fy(i))}function GV(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?as(t,e)>=0:!1}var hn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function WV(t){return t.substring(hn.key,hn.keyEnd)}function KV(t){return QV(t),_A(t,EA(t,0,hn.textEnd))}function _A(t,e){let n=hn.textEnd;return n===e?-1:(e=hn.keyEnd=YV(t,hn.key=e,n),EA(t,e,n))}function QV(t){hn.key=0,hn.keyEnd=0,hn.value=0,hn.valueEnd=0,hn.textEnd=t.length}function EA(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function YV(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function IA(t,e,n){return TA(t,e,n,!1),IA}function wA(t,e){return TA(t,e,null,!0),wA}function JV(t){XV(oj,ZV,t,!0)}function ZV(t,e){for(let n=KV(e);n>=0;n=_A(e,n))Xl(t,WV(e),!0)}function TA(t,e,n,r){let i=X(),o=Le(),s=Om(2);if(o.firstUpdatePass&&bA(o,t,s,r),e!==Pt&&gn(i,s,e)){let a=o.data[dr()];CA(o,a,i,i[Te],t,i[s+1]=aj(e,n),r,s)}}function XV(t,e,n,r){let i=Le(),o=Om(2);i.firstUpdatePass&&bA(i,null,o,r);let s=X();if(n!==Pt&&gn(s,o,n)){let a=i.data[dr()];if(SA(a,r)&&!DA(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=Kl(c,n||"")),xy(i,a,s,n,r)}else sj(i,a,s,s[Te],s[o+1],s[o+1]=ij(t,e,n),r,o)}}function DA(t,e){return e>=t.expandoStartIndex}function bA(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[dr()],s=DA(t,n);SA(o,r)&&e===null&&!s&&(e=!1),e=ej(i,o,e,r),zV(i,o,e,n,s,r)}}function ej(t,e,n,r){let i=xm(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Xm(null,t,e,n,r),n=wc(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Xm(i,t,e,n,r),o===null){let c=tj(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Xm(null,t,e,c[1],r),c=wc(c,e.attrs,r),nj(t,e,r,c))}else o=rj(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function tj(t,e,n){let r=n?e.classBindings:e.styleBindings;if(_s(r)!==0)return t[co(r)]}function nj(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[co(i)]=r}function rj(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=wc(r,s,n)}return wc(r,e.attrs,n)}function Xm(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=wc(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function wc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Xl(t,s,n?!0:e[++o]))}return t===void 0?null:t}function ij(t,e,n){if(n==null||n==="")return wt;let r=[],i=Ft(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function oj(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&Xl(t,r,n)}function sj(t,e,n,r,i,o,s,a){i===Pt&&(i=wt);let c=0,l=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let g=c<i.length?i[c+1]:void 0,y=l<o.length?o[l+1]:void 0,T=null,A;h===p?(c+=2,l+=2,g!==y&&(T=p,A=y)):p===null||h!==null&&h<p?(c+=2,T=h):(l+=2,T=p,A=y),T!==null&&CA(t,e,n,r,T,A,s,a),h=c<i.length?i[c]:null,p=l<o.length?o[l]:null}}function CA(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],h=HV(l)?NC(c,e,n,i,_s(l),s):void 0;if(!Vd(h)){Vd(o)||BV(l)&&(o=NC(c,null,n,i,a,s));let p=_m(dr(),n);jL(r,s,p,i,o)}}function NC(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),h=l?c[1]:c,p=h===null,g=n[i+1];g===Pt&&(g=p?wt:void 0);let y=p?ed(g,r):h===r?g:void 0;if(l&&!Vd(y)&&(y=ed(c,r)),Vd(y)&&(a=y,s))return a;let T=t[i+1];i=s?co(T):_s(T)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=ed(c,r))}return a}function Vd(t){return t!==void 0}function aj(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=sr(Ft(t)))),t}function SA(t,e){return(t.flags&(e?8:16))!==0}function cj(t,e=""){let n=X(),r=Le(),i=t+Oe,o=r.firstCreatePass?Ac(r,i,1,e,null):r.data[i],s=uj(r,n,o,e,t);n[i]=s,ld()&&ov(r,n,s,o),ps(o,!1)}var uj=(t,e,n,r,i)=>(fc(!0),Z1(e[Te],r));function lj(t,e,n,r=""){return gn(t,lr(),n)?e+Ki(n)+r:Pt}function AA(t){return Pv("",t),AA}function Pv(t,e,n){let r=X(),i=lj(r,t,e,n);return i!==Pt&&dj(r,dr(),i),Pv}function dj(t,e,n){let r=_m(e,t);X1(t[Te],r,n)}function hj(t){return gn(X(),lr(),t)?Ki(t):Pt}function MC(t,e,n){let r=Le();r.firstCreatePass&&RA(e,r.data,r.blueprint,un(t),n)}function RA(t,e,n,r,i){if(t=ct(t),Array.isArray(t))for(let o=0;o<t.length;o++)RA(t[o],e,n,r,i);else{let o=Le(),s=X(),a=tt(),c=qi(t)?t:ct(t.provide),l=dm(t),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(qi(t)||!t.multi){let y=new no(l,i,Ye,null),T=ty(c,e,i?h:h+g,p);T===-1?(ry(Cd(a,s),o,c),ey(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[T]=y,s[T]=y)}else{let y=ty(c,e,h+g,p),T=ty(c,e,h,h+g),A=y>=0&&n[y],S=T>=0&&n[T];if(i&&!S||!i&&!A){ry(Cd(a,s),o,c);let P=gj(i?pj:fj,n.length,i,r,l,t);!i&&S&&(n[T].providerFactory=P),ey(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(P),s.push(P)}else{let P=NA(n[i?T:y],l,!i&&r);ey(o,t,y>-1?y:T,P)}!i&&r&&S&&n[T].componentProviders++}}}function ey(t,e,n,r){let i=qi(e),o=Tb(e);if(i||o){let c=(o?ct(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,c]):l[h+1].push(r,c)}else l.push(n,c)}}}function NA(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ty(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function fj(t,e,n,r,i){return Vy(this.multi,[])}function pj(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=yc(r,r[z],this.providerFactory.index,i);s=c.slice(0,a),Vy(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],Vy(o,s);return s}function Vy(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function gj(t,e,n,r,i,o){let s=new no(t,n,Ye,null);return s.multi=[],s.index=e,s.componentProviders=0,NA(s,i,r&&!n),s}function mj(t,e){return n=>{n.providersResolver=(r,i)=>MC(r,i?i(t):t,!1),e&&(n.viewProvidersResolver=(r,i)=>MC(r,i?i(e):e,!0))}}function yj(t,e,n){let r=od()+t,i=X();return i[r]===Pt?YS(i,r,n?e.call(n):e()):xF(i,r)}function vj(t,e,n,r){return MA(X(),od(),t,e,n,r)}function _j(t,e){let n=t[e];return n===Pt?void 0:n}function MA(t,e,n,r,i,o){let s=e+n;return gn(t,s,i)?YS(t,s+1,o?r.call(o,i):r(i)):_j(t,s+1)}function Ej(t,e){let n=Le(),r,i=t+Oe;n.firstCreatePass?(r=Ij(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Hr(r.type,!0)),s,a=It(Ye);try{let c=bd(!1),l=o();return bd(c),Im(n,X(),i,l),l}finally{It(a)}}function Ij(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function wj(t,e,n){let r=t+Oe,i=X(),o=Em(i,r);return Tj(i,r)?MA(i,od(),e,o.transform,n,o):o.transform(n)}function Tj(t,e){return t[z].data[e].pure}var jd=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},kv=(()=>{class t{compileModuleSync(n){return new Od(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=am(n),o=ES(i.declarations).reduce((s,a)=>{let c=cr(a);return c&&s.push(new so(c)),s},[]);return new jd(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var PA=(()=>{class t{applicationErrorHandler=N(Rt);appRef=N(fo);taskService=N(hr);ngZone=N(Ie);zonelessEnabled=N(pc);tracing=N(gr,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ke;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(tc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(N(zm,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Bm:Um;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(tc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Bm(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Dj(){return pn("NgZoneless"),et([...Ov(),[]])}function Ov(){return[{provide:qr,useExisting:PA},{provide:Ie,useClass:nc},{provide:pc,useValue:!0}]}function bj(){return typeof $localize<"u"&&$localize.locale||Mc}var ah=new j("",{factory:()=>N(ah,{optional:!0,skipSelf:!0})||bj()});function Cj(t,e){return Ul(t,e?.equal)}var xA=Symbol("InputSignalNode#UNSET"),Uj=_e(x({},Bl),{transformFn:void 0,applyValueToInputSignal(t,e){Ja(t,e)}});function LA(t,e){let n=Object.create(Uj);n.value=t,n.transformFn=e?.transform;function r(){if(Ka(n),n.value===xA){let i=null;throw new V(-950,i)}return n.value}return r[At]=n,r}var uh=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Dc(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}};function kA(t,e){return LA(t,e)}function Bj(t){return LA(xA,t)}var FA=(kA.required=Bj,kA);var xv=new j(""),$j=new j("");function Pc(t){return!t.moduleRef}function Hj(t){let e=Pc(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ie);return n.run(()=>{Pc(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Rt),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),Pc(t)){let o=()=>e.destroy(),s=t.platformInjector.get(xv);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(xv);s.add(o),t.moduleRef.onDestroy(()=>{mc(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return qj(r,n,()=>{let o=e.get(hr),s=o.add(),a=e.get(Tv);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(ah,Mc);if(yA(c||Mc),!e.get($j,!0))return Pc(t)?e.get(fo):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Pc(t)){let h=e.get(fo);return t.rootComponent!==void 0&&h.bootstrap(t.rootComponent),h}else return zj?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(s))})})}var zj;function qj(t,e,n){try{let r=n();return ho(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var ch=null;function Gj(t=[],e){return Pe.create({name:e,providers:[{provide:oc,useValue:"platform"},{provide:xv,useValue:new Set([()=>ch=null])},...t]})}function Wj(t=[]){if(ch)return ch;let e=Gj(t);return ch=e,cA(),Kj(e),e}function Kj(t){let e=t.get(Bd,null);ke(t,()=>{e?.forEach(n=>n())})}function Lv(){return!1}var po=(()=>{class t{static __NG_ELEMENT_ID__=Qj}return t})();function Qj(t){return Yj(tt(),X(),(t&16)===16)}function Yj(t,e,n){if(Jr(t)&&!n){let r=Kt(t.index,e);return new ei(r,r)}else if(t.type&175){let r=e[xt];return new ei(r,e)}return null}function VA(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;ye(fe.BootstrapApplicationStart);try{let o=i?.injector??Wj(r),s=[Ov(),Xb,...n||[]],a=new Ic({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return Hj({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{ye(fe.BootstrapApplicationEnd)}}function kc(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function jA(t){let e=cr(t);if(!e)return null;let n=new so(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var UA=null;function mr(){return UA}function Fv(t){UA??=t}var Oc=class{},ii=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:()=>N(BA),providedIn:"platform"})}return t})(),Vv=new j(""),BA=(()=>{class t extends ii{_location;_history;_doc=N(be);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return mr().getBaseHref(this._doc)}onPopState(n){let r=mr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=mr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function lh(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function $A(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function yn(t){return t&&t[0]!=="?"?`?${t}`:t}var vn=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:()=>N(hh),providedIn:"root"})}return t})(),dh=new j(""),hh=(()=>{class t extends vn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??N(be).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return lh(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+yn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+yn(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+yn(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)($(ii),$(dh,8))};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),oi=(()=>{class t{_subject=new Xe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=Xj($A(HA(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+yn(r))}normalize(n){return t.stripTrailingSlash(Zj(this._basePath,HA(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+yn(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+yn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=yn;static joinWithSlash=lh;static stripTrailingSlash=$A;static \u0275fac=function(r){return new(r||t)($(vn))};static \u0275prov=F({token:t,factory:()=>Jj(),providedIn:"root"})}return t})();function Jj(){return new oi($(vn))}function Zj(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function HA(t){return t.replace(/\/index.html$/,"")}function Xj(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Bv=(()=>{class t extends vn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=lh(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+yn(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+yn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)($(ii),$(dh,8))};static \u0275prov=F({token:t,factory:t.\u0275fac})}return t})();var e2=(()=>{class t{_viewContainer;_context=new fh;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){zA(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){zA(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(Ye(ti),Ye(io))};static \u0275dir=ri({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),fh=class{$implicit=null;ngIf=null};function zA(t,e){if(t&&!t.createEmbeddedView)throw new V(2020,!1)}function t2(t,e){return new V(2100,!1)}var jv=class{createSubscription(e,n,r){return Nt(()=>e.subscribe({next:n,error:r}))}dispose(e){Nt(()=>e.unsubscribe())}},Uv=class{createSubscription(e,n,r){return e.then(i=>n?.(i),i=>r?.(i)),{unsubscribe:()=>{n=null,r=null}}}dispose(e){e.unsubscribe()}},n2=new Uv,r2=new jv,i2=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=N(Rt);constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r),r=>this.applicationErrorHandler(r))}_selectStrategy(n){if(ho(n))return n2;if(nh(n))return r2;throw t2(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||t)(Ye(po,16))};static \u0275pipe=Ev({name:"async",type:t,pure:!1})}return t})();var qA=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=ni({type:t});static \u0275inj=ar({})}return t})();function xc(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var go=class{};var GA="browser";var Hv=(()=>{class t{static \u0275prov=F({token:t,providedIn:"root",factory:()=>new $v(N(be),window)})}return t})(),$v=class{document;window;offset=()=>[0,0];constructor(e,n){this.document=e,this.window=n}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,n){this.window.scrollTo(_e(x({},n),{left:e[0],top:e[1]}))}scrollToAnchor(e,n){let r=s2(this.document,e);r&&(this.scrollToElement(r,n),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(Nn(2400,!1))}}scrollToElement(e,n){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(_e(x({},n),{left:i-s[0],top:o-s[1]}))}};function s2(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Lc=class{_doc;constructor(e){this._doc=e}manager},ph=(()=>{class t extends Lc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)($(be))};static \u0275prov=F({token:t,factory:t.\u0275fac})}return t})(),yh=new j(""),Wv=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let i=n.filter(s=>!(s instanceof ph));this._plugins=i.slice().reverse();let o=n.find(s=>s instanceof ph);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new V(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)($(yh),$(Ie))};static \u0275prov=F({token:t,factory:t.\u0275fac})}return t})(),zv="ng-app-id";function WA(t){for(let e of t)e.remove()}function KA(t,e){let n=e.createElement("style");return n.textContent=t,n}function c2(t,e,n,r){let i=t.head?.querySelectorAll(`style[${zv}="${e}"],link[${zv}="${e}"]`);if(i)for(let o of i)o.removeAttribute(zv),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Gv(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var Kv=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,c2(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,KA);r?.forEach(i=>this.addUsage(i,this.external,Gv))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(WA(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])WA(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,KA(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Gv(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)($(be),$(Ud),$($d,8),$(lo))};static \u0275prov=F({token:t,factory:t.\u0275fac})}return t})(),qv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Qv=/%COMP%/g;var YA="%COMP%",u2=`_nghost-${YA}`,l2=`_ngcontent-${YA}`,d2=!0,h2=new j("",{factory:()=>d2});function f2(t){return l2.replace(Qv,t)}function p2(t){return u2.replace(Qv,t)}function JA(t,e){return e.map(n=>n.replace(Qv,t))}var Yv=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,c=null,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=c,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new Fc(n,s,a,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof mh?i.applyToHost(n):i instanceof Vc&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case fn.Emulated:o=new mh(c,l,r,this.appId,h,s,a,p,g);break;case fn.ShadowDom:return new gh(c,n,r,s,a,this.nonce,p,g,l);case fn.ExperimentalIsolatedShadowDom:return new gh(c,n,r,s,a,this.nonce,p,g);default:o=new Vc(c,l,r,h,s,a,p,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)($(Wv),$(Kv),$(Ud),$(h2),$(be),$(Ie),$($d),$(gr,8))};static \u0275prov=F({token:t,factory:t.\u0275fac})}return t})(),Fc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(qv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(QA(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(QA(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new V(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=qv[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=qv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(xn.DashCase|xn.Important)?e.style.setProperty(n,r,i&xn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&xn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=mr().getGlobalEventTarget(this.doc,e),!e))throw new V(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function QA(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var gh=class extends Fc{hostEl;sharedStylesHost;shadowRoot;constructor(e,n,r,i,o,s,a,c,l){super(e,i,o,a,c),this.hostEl=n,this.sharedStylesHost=l,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let h=r.styles;h=JA(r.id,h);for(let g of h){let y=document.createElement("style");s&&y.setAttribute("nonce",s),y.textContent=g,this.shadowRoot.appendChild(y)}let p=r.getExternalStyles?.();if(p)for(let g of p){let y=Gv(g,i);s&&y.setAttribute("nonce",s),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},Vc=class extends Fc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,c,l){super(e,o,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?JA(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&ro.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},mh=class extends Vc{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,c,l){let h=i+"-"+r.id;super(e,n,r,o,s,a,c,l,h),this.contentAttr=f2(h),this.hostAttr=p2(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var vh=class t extends Oc{supportsDOMEvents=!0;static makeCurrent(){Fv(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=g2();return n==null?null:m2(n)}resetBaseElement(){jc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return xc(document.cookie,e)}},jc=null;function g2(){return jc=jc||document.head.querySelector("base"),jc?jc.getAttribute("href"):null}function m2(t){return new URL(t,document.baseURI).pathname}var y2=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:t.\u0275fac})}return t})(),ZA=["alt","control","meta","shift"],v2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_2={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},XA=(()=>{class t extends Lc{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>mr().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),ZA.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=v2[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),ZA.forEach(s=>{if(s!==i){let a=_2[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)($(be))};static \u0275prov=F({token:t,factory:t.\u0275fac})}return t})();function E2(t,e,n){let r=x({rootComponent:t,platformRef:n?.platformRef},I2(e));return VA(r)}function I2(t){return{appProviders:[...C2,...t?.providers??[]],platformProviders:b2}}function w2(){vh.makeCurrent()}function T2(){return new Rn}function D2(){return By(document),document}var b2=[{provide:lo,useValue:GA},{provide:Bd,useValue:w2,multi:!0},{provide:be,useFactory:D2}];var C2=[{provide:oc,useValue:"root"},{provide:Rn,useFactory:T2},{provide:yh,useClass:ph,multi:!0},{provide:yh,useClass:XA,multi:!0},Yv,Kv,Wv,{provide:oo,useExisting:Yv},{provide:go,useClass:y2},[]];var jn=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Ih=class{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}},wh=class{encodeKey(e){return e0(e)}encodeValue(e){return e0(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function S2(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var A2=/%(\d[a-f0-9])/gi,R2={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function e0(t){return encodeURIComponent(t).replace(A2,(e,n)=>R2[n]??e)}function _h(t){return`${t}`}var yr=class t{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new wh,e.fromString){if(e.fromObject)throw new V(2805,!1);this.map=S2(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(_h):[_h(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(_h(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(_h(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};function N2(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function t0(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function n0(t){return typeof Blob<"u"&&t instanceof Blob}function r0(t){return typeof FormData<"u"&&t instanceof FormData}function M2(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Uc="Content-Type",Th="Accept",i0="text/plain",o0="application/json",s0=`${o0}, ${i0}, */*`,Ds=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,n,r,i){this.url=n,this.method=e.toUpperCase();let o;if(N2(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new V(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),o.referrerPolicy&&(this.referrerPolicy=o.referrerPolicy),this.transferCache=o.transferCache}if(this.headers??=new jn,this.context??=new Ih,!this.params)this.params=new yr,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||t0(this.body)||n0(this.body)||r0(this.body)||M2(this.body)?this.body:this.body instanceof yr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||r0(this.body)?null:n0(this.body)?this.body.type||null:t0(this.body)?null:typeof this.body=="string"?i0:this.body instanceof yr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?o0:null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,c=e.mode||this.mode,l=e.redirect||this.redirect,h=e.credentials||this.credentials,p=e.referrer||this.referrer,g=e.integrity||this.integrity,y=e.referrerPolicy||this.referrerPolicy,T=e.transferCache??this.transferCache,A=e.timeout??this.timeout,S=e.body!==void 0?e.body:this.body,P=e.withCredentials??this.withCredentials,B=e.reportProgress??this.reportProgress,H=e.headers||this.headers,G=e.params||this.params,Ce=e.context??this.context;return e.setHeaders!==void 0&&(H=Object.keys(e.setHeaders).reduce((se,w)=>se.set(w,e.setHeaders[w]),H)),e.setParams&&(G=Object.keys(e.setParams).reduce((se,w)=>se.set(w,e.setParams[w]),G)),new t(n,r,S,{params:G,headers:H,context:Ce,reportProgress:B,responseType:i,withCredentials:P,transferCache:T,keepalive:o,cache:a,priority:s,timeout:A,mode:c,redirect:l,credentials:h,referrer:p,integrity:g,referrerPolicy:y})}},vr=(function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t})(vr||{}),bs=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(e,n=200,r="OK"){this.headers=e.headers||new jn,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.responseType=e.responseType,this.ok=this.status>=200&&this.status<300}},Bc=class t extends bs{constructor(e={}){super(e)}type=vr.ResponseHeader;clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Cs=class t extends bs{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=vr.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected,responseType:e.responseType??this.responseType})}},Vn=class extends bs{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},a0=200,P2=204;var k2=/^\)\]\}',?\n/,c0=new j(""),Eh=(()=>{class t{fetchImpl=N(Zv,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n));ngZone=N(Ie);destroyRef=N(Yt);handle(n){return new J(r=>{let i=new AbortController;this.doRequest(n,i.signal,r).then(Xv,s=>r.error(new Vn({error:s})));let o;return n.timeout&&(o=this.ngZone.runOutsideAngular(()=>setTimeout(()=>{i.signal.aborted||i.abort(new DOMException("signal timed out","TimeoutError"))},n.timeout))),()=>{o!==void 0&&clearTimeout(o),i.abort()}})}async doRequest(n,r,i){let o=this.createRequestInit(n),s;try{let A=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,x({signal:r},o)));O2(A),i.next({type:vr.Sent}),s=await A}catch(A){i.error(new Vn({error:A,status:A.status??0,statusText:A.statusText,url:n.urlWithParams,headers:A.headers}));return}let a=new jn(s.headers),c=s.statusText,l=s.url||n.urlWithParams,h=s.status,p=null;if(n.reportProgress&&i.next(new Bc({headers:a,status:h,statusText:c,url:l})),s.body){let A=s.headers.get("content-length"),S=[],P=s.body.getReader(),B=0,H,G,Ce=typeof Zone<"u"&&Zone.current,se=!1;if(await this.ngZone.runOutsideAngular(async()=>{for(;;){if(this.destroyRef.destroyed){await P.cancel(),se=!0;break}let{done:v,value:_}=await P.read();if(v)break;if(S.push(_),B+=_.length,n.reportProgress){G=n.responseType==="text"?(G??"")+(H??=new TextDecoder).decode(_,{stream:!0}):void 0;let I=()=>i.next({type:vr.DownloadProgress,total:A?+A:void 0,loaded:B,partialText:G});Ce?Ce.run(I):I()}}}),se){i.complete();return}let w=this.concatChunks(S,B);try{let v=s.headers.get(Uc)??"";p=this.parseBody(n,w,v,h)}catch(v){i.error(new Vn({error:v,headers:new jn(s.headers),status:s.status,statusText:s.statusText,url:s.url||n.urlWithParams}));return}}h===0&&(h=p?a0:0);let g=h>=200&&h<300,y=s.redirected,T=s.type;g?(i.next(new Cs({body:p,headers:a,status:h,statusText:c,url:l,redirected:y,responseType:T})),i.complete()):i.error(new Vn({error:p,headers:a,status:h,statusText:c,url:l,redirected:y,responseType:T}))}parseBody(n,r,i,o){switch(n.responseType){case"json":let s=new TextDecoder().decode(r).replace(k2,"");if(s==="")return null;try{return JSON.parse(s)}catch(a){if(o<200||o>=300)return s;throw a}case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},i;if(i=n.credentials,n.withCredentials&&(i="include"),n.headers.forEach((o,s)=>r[o]=s.join(",")),n.headers.has(Th)||(r[Th]=s0),!n.headers.has(Uc)){let o=n.detectContentTypeHeader();o!==null&&(r[Uc]=o)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:i,keepalive:n.keepalive,cache:n.cache,priority:n.priority,mode:n.mode,redirect:n.redirect,referrer:n.referrer,integrity:n.integrity,referrerPolicy:n.referrerPolicy}}concatChunks(n,r){let i=new Uint8Array(r),o=0;for(let s of n)i.set(s,o),o+=s.length;return i}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:t.\u0275fac})}return t})(),Zv=class{};function Xv(){}function O2(t){t.then(Xv,Xv)}var x2=/^\)\]\}',?\n/;var e_=(()=>{class t{xhrFactory;tracingService=N(gr,{optional:!0});constructor(n){this.xhrFactory=n}maybePropagateTrace(n){return this.tracingService?.propagate?this.tracingService.propagate(n):n}handle(n){if(n.method==="JSONP")throw new V(-2800,!1);let r=this.xhrFactory;return Y(null).pipe($e(()=>new J(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((S,P)=>s.setRequestHeader(S,P.join(","))),n.headers.has(Th)||s.setRequestHeader(Th,s0),!n.headers.has(Uc)){let S=n.detectContentTypeHeader();S!==null&&s.setRequestHeader(Uc,S)}if(n.timeout&&(s.timeout=n.timeout),n.responseType){let S=n.responseType.toLowerCase();s.responseType=S!=="json"?S:"text"}let a=n.serializeBody(),c=null,l=()=>{if(c!==null)return c;let S=s.statusText||"OK",P=new jn(s.getAllResponseHeaders()),B=s.responseURL||n.url;return c=new Bc({headers:P,status:s.status,statusText:S,url:B}),c},h=this.maybePropagateTrace(()=>{let{headers:S,status:P,statusText:B,url:H}=l(),G=null;P!==P2&&(G=typeof s.response>"u"?s.responseText:s.response),P===0&&(P=G?a0:0);let Ce=P>=200&&P<300;if(n.responseType==="json"&&typeof G=="string"){let se=G;G=G.replace(x2,"");try{G=G!==""?JSON.parse(G):null}catch(w){G=se,Ce&&(Ce=!1,G={error:w,text:G})}}Ce?(o.next(new Cs({body:G,headers:S,status:P,statusText:B,url:H||void 0})),o.complete()):o.error(new Vn({error:G,headers:S,status:P,statusText:B,url:H||void 0}))}),p=this.maybePropagateTrace(S=>{let{url:P}=l(),B=new Vn({error:S,status:s.status||0,statusText:s.statusText||"Unknown Error",url:P||void 0});o.error(B)}),g=p;n.timeout&&(g=this.maybePropagateTrace(S=>{let{url:P}=l(),B=new Vn({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:P||void 0});o.error(B)}));let y=!1,T=this.maybePropagateTrace(S=>{y||(o.next(l()),y=!0);let P={type:vr.DownloadProgress,loaded:S.loaded};S.lengthComputable&&(P.total=S.total),n.responseType==="text"&&s.responseText&&(P.partialText=s.responseText),o.next(P)}),A=this.maybePropagateTrace(S=>{let P={type:vr.UploadProgress,loaded:S.loaded};S.lengthComputable&&(P.total=S.total),o.next(P)});return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",g),s.addEventListener("abort",p),n.reportProgress&&(s.addEventListener("progress",T),a!==null&&s.upload&&s.upload.addEventListener("progress",A)),s.send(a),o.next({type:vr.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",g),n.reportProgress&&(s.removeEventListener("progress",T),a!==null&&s.upload&&s.upload.removeEventListener("progress",A)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||t)($(go))};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function L2(t,e){return e(t)}function F2(t,e,n){return(r,i)=>ke(n,()=>e(r,o=>t(o,i)))}var u0=new j("",{factory:()=>[]}),l0=new j(""),d0=new j("",{providedIn:"root",factory:()=>!0});var bh=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:function(r){let i=null;return r?i=new(r||t):i=$(e_),i},providedIn:"root"})}return t})();var Dh=(()=>{class t{backend;injector;chain=null;pendingTasks=N(Xr);contributeToStability=N(d0);constructor(n,r){this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(u0),...this.injector.get(l0,[])]));this.chain=r.reduceRight((i,o)=>F2(i,o,this.injector),L2)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(ns(r))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)($(bh),$(Se))};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),t_=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:function(r){let i=null;return r?i=new(r||t):i=$(Dh),i},providedIn:"root"})}return t})();function Jv(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,credentials:t.credentials,transferCache:t.transferCache,timeout:t.timeout,keepalive:t.keepalive,priority:t.priority,cache:t.cache,mode:t.mode,redirect:t.redirect,integrity:t.integrity,referrer:t.referrer,referrerPolicy:t.referrerPolicy}}var h0=(()=>{class t{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Ds)o=n;else{let c;i.headers instanceof jn?c=i.headers:c=new jn(i.headers);let l;i.params&&(i.params instanceof yr?l=i.params:l=new yr({fromObject:i.params})),o=new Ds(n,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,referrerPolicy:i.referrerPolicy,integrity:i.integrity,timeout:i.timeout})}let s=Y(o).pipe(Br(c=>this.handler.handle(c)));if(n instanceof Ds||i.observe==="events")return s;let a=s.pipe(Et(c=>c instanceof Cs));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(de(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new V(2806,!1);return c.body}));case"blob":return a.pipe(de(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new V(2807,!1);return c.body}));case"text":return a.pipe(de(c=>{if(c.body!==null&&typeof c.body!="string")throw new V(2808,!1);return c.body}));case"json":default:return a.pipe(de(c=>c.body))}case"response":return a;default:throw new V(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new yr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Jv(i,r))}post(n,r,i={}){return this.request("POST",n,Jv(i,r))}put(n,r,i={}){return this.request("PUT",n,Jv(i,r))}static \u0275fac=function(r){return new(r||t)($(t_))};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var V2=new j("",{factory:()=>!0}),j2="XSRF-TOKEN",U2=new j("",{providedIn:"root",factory:()=>j2}),B2="X-XSRF-TOKEN",$2=new j("",{providedIn:"root",factory:()=>B2}),H2=(()=>{class t{cookieName=N(U2);doc=N(be);lastCookieString="";lastToken=null;parseCount=0;getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=xc(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),f0=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:function(r){let i=null;return r?i=new(r||t):i=$(H2),i},providedIn:"root"})}return t})();function z2(t,e){if(!N(V2)||t.method==="GET"||t.method==="HEAD")return e(t);try{let i=N(ii).href,{origin:o}=new URL(i),{origin:s}=new URL(t.url,o);if(o!==s)return e(t)}catch{return e(t)}let n=N(f0).getToken(),r=N($2);return n!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,n)})),e(t)}var n_=(function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t})(n_||{});function q2(t,e){return{\u0275kind:t,\u0275providers:e}}function G2(...t){let e=[h0,Dh,{provide:t_,useExisting:Dh},{provide:bh,useFactory:()=>N(c0,{optional:!0})??N(e_)},{provide:u0,useValue:z2,multi:!0}];for(let n of t)e.push(...n.\u0275providers);return et(e)}function W2(){return q2(n_.Fetch,[Eh,{provide:c0,useExisting:Eh},{provide:bh,useExisting:Eh}])}var p0=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)($(be))};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var K2=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:function(r){let i=null;return r?i=new(r||t):i=$(Q2),i},providedIn:"root"})}return t})(),Q2=(()=>{class t extends K2{_doc;constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case Zt.NONE:return r;case Zt.HTML:return Fn(r,"HTML")?Ft(r):qd(this._doc,String(r)).toString();case Zt.STYLE:return Fn(r,"Style")?Ft(r):r;case Zt.SCRIPT:if(Fn(r,"Script"))return Ft(r);throw new V(5200,!1);case Zt.URL:return Fn(r,"URL")?Ft(r):bc(String(r));case Zt.RESOURCE_URL:if(Fn(r,"ResourceURL"))return Ft(r);throw new V(5201,!1);default:throw new V(5202,!1)}}bypassSecurityTrustHtml(n){return zy(n)}bypassSecurityTrustStyle(n){return qy(n)}bypassSecurityTrustScript(n){return Gy(n)}bypassSecurityTrustUrl(n){return Wy(n)}bypassSecurityTrustResourceUrl(n){return Ky(n)}static \u0275fac=function(r){return new(r||t)($(be))};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ee="primary",Zc=Symbol("RouteTitle"),a_=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function _o(t){return new a_(t)}function T0(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Mh(t){return new Promise((e,n)=>{t.pipe(ir()).subscribe({next:r=>e(r),error:r=>n(r)})})}function Z2(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Un(t[n],e[n]))return!1;return!0}function Un(t,e){let n=t?c_(t):void 0,r=e?c_(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!D0(t[i],e[i]))return!1;return!0}function c_(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function D0(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function b0(t){return t.length>0?t[t.length-1]:null}function Eo(t){return Pl(t)?t:ho(t)?Ee(Promise.resolve(t)):Y(t)}function C0(t){return Pl(t)?Mh(t):Promise.resolve(t)}var X2={exact:A0,subset:R0},S0={exact:eU,subset:tU,ignored:()=>!0};function g0(t,e,n){return X2[n.paths](t.root,e.root,n.matrixParams)&&S0[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function eU(t,e){return Un(t,e)}function A0(t,e,n){if(!yo(t.segments,e.segments)||!Ah(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!A0(t.children[r],e.children[r],n))return!1;return!0}function tU(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>D0(t[n],e[n]))}function R0(t,e,n){return N0(t,e,e.segments,n)}function N0(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!yo(i,n)||e.hasChildren()||!Ah(i,n,r))}else if(t.segments.length===n.length){if(!yo(t.segments,n)||!Ah(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!R0(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!yo(t.segments,i)||!Ah(t.segments,i,r)||!t.children[ee]?!1:N0(t.children[ee],e,o,r)}}function Ah(t,e,n){return e.every((r,i)=>S0[n](t[i].parameters,r.parameters))}var En=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ge([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=_o(this.queryParams),this._queryParamMap}toString(){return iU.serialize(this)}},ge=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Rh(this)}},si=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=_o(this.parameters),this._parameterMap}toString(){return P0(this)}};function nU(t,e){return yo(t,e)&&t.every((n,r)=>Un(n.parameters,e[r].parameters))}function yo(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function rU(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ee&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ee&&(n=n.concat(e(i,r)))}),n}var ui=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:()=>new _r,providedIn:"root"})}return t})(),_r=class{parse(e){let n=new l_(e);return new En(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${$c(e.root,!0)}`,r=aU(e.queryParams),i=typeof e.fragment=="string"?`#${oU(e.fragment)}`:"";return`${n}${r}${i}`}},iU=new _r;function Rh(t){return t.segments.map(e=>P0(e)).join("/")}function $c(t,e){if(!t.hasChildren())return Rh(t);if(e){let n=t.children[ee]?$c(t.children[ee],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ee&&r.push(`${i}:${$c(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=rU(t,(r,i)=>i===ee?[$c(t.children[ee],!1)]:[`${i}:${$c(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ee]!=null?`${Rh(t)}/${n[0]}`:`${Rh(t)}/(${n.join("//")})`}}function M0(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ch(t){return M0(t).replace(/%3B/gi,";")}function oU(t){return encodeURI(t)}function u_(t){return M0(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Nh(t){return decodeURIComponent(t)}function m0(t){return Nh(t.replace(/\+/g,"%20"))}function P0(t){return`${u_(t.path)}${sU(t.parameters)}`}function sU(t){return Object.entries(t).map(([e,n])=>`;${u_(e)}=${u_(n)}`).join("")}function aU(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Ch(n)}=${Ch(i)}`).join("&"):`${Ch(n)}=${Ch(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var cU=/^[^\/()?;#]+/;function r_(t){let e=t.match(cU);return e?e[0]:""}var uU=/^[^\/()?;=#]+/;function lU(t){let e=t.match(uU);return e?e[0]:""}var dU=/^[^=?&#]+/;function hU(t){let e=t.match(dU);return e?e[0]:""}var fU=/^[^&#]+/;function pU(t){let e=t.match(fU);return e?e[0]:""}var l_=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ge([],{}):new ge([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ee]=new ge(e,n)),r}parseSegment(){let e=r_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new V(4009,!1);return this.capture(e),new si(Nh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=lU(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=r_(this.remaining);i&&(r=i,this.capture(r))}e[Nh(n)]=Nh(r)}parseQueryParam(e){let n=hU(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=pU(this.remaining);s&&(r=s,this.capture(r))}let i=m0(n),o=m0(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=r_(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new V(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ee);let s=this.parseChildren();n[o??ee]=Object.keys(s).length===1&&s[ee]?s[ee]:new ge([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new V(4011,!1)}};function k0(t){return t.segments.length>0?new ge([],{[ee]:t}):t}function O0(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=O0(i);if(r===ee&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new ge(t.segments,e);return gU(n)}function gU(t){if(t.numberOfChildren===1&&t.children[ee]){let e=t.children[ee];return new ge(t.segments.concat(e.segments),e.children)}return t}function ai(t){return t instanceof En}function x0(t,e,n=null,r=null,i=new _r){let o=L0(t);return F0(o,e,n,r,i)}function L0(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new ge(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=k0(r);return e??i}function F0(t,e,n,r,i){let o=t;for(;o.parent;)o=o.parent;if(e.length===0)return i_(o,o,o,n,r,i);let s=mU(e);if(s.toRoot())return i_(o,o,new ge([],{}),n,r,i);let a=yU(s,o,t),c=a.processChildren?zc(a.segmentGroup,a.index,s.commands):j0(a.segmentGroup,a.index,s.commands);return i_(o,a.segmentGroup,c,n,r,i)}function Ph(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Gc(t){return typeof t=="object"&&t!=null&&t.outlets}function y0(t,e,n){t||="\u0275";let r=new En;return r.queryParams={[t]:e},n.parse(n.serialize(r)).queryParams[t]}function i_(t,e,n,r,i,o){let s={};for(let[l,h]of Object.entries(r??{}))s[l]=Array.isArray(h)?h.map(p=>y0(l,p,o)):y0(l,h,o);let a;t===e?a=n:a=V0(t,e,n);let c=k0(O0(a));return new En(c,s,i)}function V0(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=V0(o,e,n)}),new ge(t.segments,r)}var kh=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Ph(r[0]))throw new V(4003,!1);let i=r.find(Gc);if(i&&i!==b0(r))throw new V(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function mU(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new kh(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new kh(n,e,r)}var As=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function yU(t,e,n){if(t.isAbsolute)return new As(e,!0,0);if(!n)return new As(e,!1,NaN);if(n.parent===null)return new As(n,!0,0);let r=Ph(t.commands[0])?0:1,i=n.segments.length-1+r;return vU(n,i,t.numberOfDoubleDots)}function vU(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new V(4005,!1);i=r.segments.length}return new As(r,!1,i-o)}function _U(t){return Gc(t[0])?t[0].outlets:{[ee]:t}}function j0(t,e,n){if(t??=new ge([],{}),t.segments.length===0&&t.hasChildren())return zc(t,e,n);let r=EU(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new ge(t.segments.slice(0,r.pathIndex),{});return o.children[ee]=new ge(t.segments.slice(r.pathIndex),t.children),zc(o,0,i)}else return r.match&&i.length===0?new ge(t.segments,{}):r.match&&!t.hasChildren()?d_(t,e,n):r.match?zc(t,0,i):d_(t,e,n)}function zc(t,e,n){if(n.length===0)return new ge(t.segments,{});{let r=_U(n),i={};if(Object.keys(r).some(o=>o!==ee)&&t.children[ee]&&t.numberOfChildren===1&&t.children[ee].segments.length===0){let o=zc(t.children[ee],e,n);return new ge(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=j0(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ge(t.segments,i)}}function EU(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Gc(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!_0(c,l,s))return o;r+=2}else{if(!_0(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function d_(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Gc(o)){let c=IU(o.outlets);return new ge(r,c)}if(i===0&&Ph(n[0])){let c=t.segments[e];r.push(new si(c.path,v0(n[0]))),i++;continue}let s=Gc(o)?o.outlets[ee]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Ph(a)?(r.push(new si(s,v0(a))),i+=2):(r.push(new si(s,{})),i++)}return new ge(r,{})}function IU(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=d_(new ge([],{}),0,r))}),e}function v0(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function _0(t,e,n){return t==n.path&&Un(e,n.parameters)}var Rs="imperative",Je=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})(Je||{}),jt=class{id;url;constructor(e,n){this.id=e,this.url=n}},ci=class extends jt{type=Je.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ut=class extends jt{urlAfterRedirects;type=Je.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Tt=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(Tt||{}),Ms=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(Ms||{}),Bn=class extends jt{reason;code;type=Je.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},$n=class extends jt{reason;code;type=Je.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Ps=class extends jt{error;target;type=Je.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Wc=class extends jt{urlAfterRedirects;state;type=Je.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Oh=class extends jt{urlAfterRedirects;state;type=Je.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xh=class extends jt{urlAfterRedirects;state;shouldActivate;type=Je.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Lh=class extends jt{urlAfterRedirects;state;type=Je.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fh=class extends jt{urlAfterRedirects;state;type=Je.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vh=class{route;type=Je.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},jh=class{route;type=Je.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Uh=class{snapshot;type=Je.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bh=class{snapshot;type=Je.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$h=class{snapshot;type=Je.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hh=class{snapshot;type=Je.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ks=class{routerEvent;position;anchor;type=Je.Scroll;constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Kc=class{},Os=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function wU(t){return!(t instanceof Kc)&&!(t instanceof Os)}function TU(t,e){return t.providers&&!t._injector&&(t._injector=Ts(t.providers,e,`Route: ${t.path}`)),t._injector??e}function _n(t){return t.outlet||ee}function DU(t,e){let n=t.filter(r=>_n(r)===e);return n.push(...t.filter(r=>_n(r)!==e)),n}function Fs(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var zh=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Fs(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Io(this.rootInjector)}},Io=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new zh(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)($(Se))};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),qh=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=h_(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=h_(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=f_(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return f_(e,this._root).map(n=>n.value)}};function h_(t,e){if(t===e.value)return e;for(let n of e.children){let r=h_(t,n);if(r)return r}return null}function f_(t,e){if(t===e.value)return[e];for(let n of e.children){let r=f_(t,n);if(r.length)return r.unshift(e),r}return[]}var Vt=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ss(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Qc=class extends qh{snapshot;constructor(e,n){super(e),this.snapshot=n,__(this,e)}toString(){return this.snapshot.toString()}};function U0(t){let e=bU(t),n=new st([new si("",{})]),r=new st({}),i=new st({}),o=new st({}),s=new st(""),a=new Hn(n,r,o,s,i,ee,t,e.root);return a.snapshot=e.root,new Qc(new Vt(a,[]),e)}function bU(t){let e={},n={},r={},o=new vo([],e,r,"",n,ee,t,null,{});return new Yc("",new Vt(o,[]))}var Hn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(de(l=>l[Zc]))??Y(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(de(e=>_o(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(de(e=>_o(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Gh(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:x(x({},e.params),t.params),data:x(x({},e.data),t.data),resolve:x(x(x(x({},t.data),e.data),i?.data),t._resolvedData)}:r={params:x({},t.params),data:x({},t.data),resolve:x(x({},t.data),t._resolvedData??{})},i&&$0(i)&&(r.resolve[Zc]=i.title),r}var vo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Zc]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=_o(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=_o(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Yc=class extends qh{url;constructor(e,n){super(n),this.url=e,__(this,n)}toString(){return B0(this._root)}};function __(t,e){e.value._routerState=t,e.children.forEach(n=>__(t,n))}function B0(t){let e=t.children.length>0?` { ${t.children.map(B0).join(", ")} } `:"";return`${t.value}${e}`}function o_(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Un(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Un(e.params,n.params)||t.paramsSubject.next(n.params),Z2(e.url,n.url)||t.urlSubject.next(n.url),Un(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function p_(t,e){let n=Un(t.params,e.params)&&nU(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||p_(t.parent,e.parent))}function $0(t){return typeof t.title=="string"||t.title===null}var H0=new j(""),E_=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ee;activateEvents=new gt;deactivateEvents=new gt;attachEvents=new gt;detachEvents=new gt;routerOutletData=FA();parentContexts=N(Io);location=N(ti);changeDetector=N(po);inputBinder=N(Xc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new V(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new V(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new V(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new V(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new g_(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=ri({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[uo]})}return t})(),g_=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Hn?this.route:e===Io?this.childContexts:e===H0?this.outletData:this.parent.get(e,n)}},Xc=new j(""),I_=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Sl([r.queryParams,r.params,r.data]).pipe($e(([o,s,a],c)=>(a=x(x(x({},o),s),a),c===0?Y(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=jA(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,i)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:t.\u0275fac})}return t})(),w_=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=_v({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&oh(0,"router-outlet")},dependencies:[E_],encapsulation:2})}return t})();function T_(t){let e=t.children&&t.children.map(T_),n=e?_e(x({},t),{children:e}):x({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ee&&(n.component=w_),n}function CU(t,e,n){let r=Jc(t,e._root,n?n._root:void 0);return new Qc(r,e)}function Jc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=SU(t,e,n);return new Vt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Jc(t,a)),s}}let r=AU(e.value),i=e.children.map(o=>Jc(t,o));return new Vt(r,i)}}function SU(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Jc(t,r,i);return Jc(t,r)})}function AU(t){return new Hn(new st(t.url),new st(t.params),new st(t.queryParams),new st(t.fragment),new st(t.data),t.outlet,t.component,t)}var xs=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},z0="ngNavigationCancelingError";function Wh(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ai(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=q0(!1,Tt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function q0(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[z0]=!0,n.cancellationCode=e,n}function RU(t){return G0(t)&&ai(t.url)}function G0(t){return!!t&&t[z0]}var NU=(t,e,n,r)=>de(i=>(new m_(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),m_=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),o_(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ss(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ss(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ss(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ss(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Hh(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Bh(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(o_(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),o_(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Kh=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ns=class{component;route;constructor(e,n){this.component=e,this.route=n}};function MU(t,e,n){let r=t._root,i=e?e._root:null;return Hc(r,i,n,[r.value])}function PU(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Vs(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Yg(t)?t:e.get(t):r}function Hc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ss(e);return t.children.forEach(s=>{kU(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>qc(a,n.getContext(s),i)),i}function kU(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=OU(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Kh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Hc(t,e,a?a.children:null,r,i):Hc(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ns(a.outlet.component,s))}else s&&qc(e,a,i),i.canActivateChecks.push(new Kh(r)),o.component?Hc(t,null,a?a.children:null,r,i):Hc(t,null,n,r,i);return i}function OU(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!yo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!yo(t.url,e.url)||!Un(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!p_(t,e)||!Un(t.queryParams,e.queryParams);case"paramsChange":default:return!p_(t,e)}}function qc(t,e,n){let r=Ss(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?qc(s,e.children.getContext(o),n):qc(s,null,n):qc(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ns(e.outlet.component,i)):n.canDeactivateChecks.push(new Ns(null,i)):n.canDeactivateChecks.push(new Ns(null,i))}function eu(t){return typeof t=="function"}function xU(t){return typeof t=="boolean"}function LU(t){return t&&eu(t.canLoad)}function FU(t){return t&&eu(t.canActivate)}function VU(t){return t&&eu(t.canActivateChild)}function jU(t){return t&&eu(t.canDeactivate)}function UU(t){return t&&eu(t.canMatch)}function W0(t){return t instanceof $i||t?.name==="EmptyError"}var Sh=Symbol("INITIAL_VALUE");function Ls(){return $e(t=>Sl(t.map(e=>e.pipe(Sn(1),Ol(Sh)))).pipe(de(e=>{for(let n of e)if(n!==!0){if(n===Sh)return Sh;if(n===!1||BU(n))return n}return!0}),Et(e=>e!==Sh),Sn(1)))}function BU(t){return ai(t)||t instanceof xs}function K0(t){return t.aborted?Y(void 0).pipe(Sn(1)):new J(e=>{let n=()=>{e.next(),e.complete()};return t.addEventListener("abort",n),()=>t.removeEventListener("abort",n)})}function Q0(t){return Ga(K0(t))}function $U(t,e){return at(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Y(_e(x({},n),{guardsResult:!0})):HU(s,r,i,t).pipe(at(a=>a&&xU(a)?zU(r,o,t,e):Y(a)),de(a=>_e(x({},n),{guardsResult:a})))})}function HU(t,e,n,r){return Ee(t).pipe(at(i=>QU(i.component,i.route,n,e,r)),ir(i=>i!==!0,!0))}function zU(t,e,n,r){return Ee(e).pipe(Br(i=>rs(GU(i.route.parent,r),qU(i.route,r),KU(t,i.path,n),WU(t,i.route,n))),ir(i=>i!==!0,!0))}function qU(t,e){return t!==null&&e&&e(new $h(t)),Y(!0)}function GU(t,e){return t!==null&&e&&e(new Uh(t)),Y(!0)}function WU(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Y(!0);let i=r.map(o=>qa(()=>{let s=Fs(e)??n,a=Vs(o,s),c=FU(a)?a.canActivate(e,t):ke(s,()=>a(e,t));return Eo(c).pipe(ir())}));return Y(i).pipe(Ls())}function KU(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>PU(s)).filter(s=>s!==null).map(s=>qa(()=>{let a=s.guards.map(c=>{let l=Fs(s.node)??n,h=Vs(c,l),p=VU(h)?h.canActivateChild(r,t):ke(l,()=>h(r,t));return Eo(p).pipe(ir())});return Y(a).pipe(Ls())}));return Y(o).pipe(Ls())}function QU(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Y(!0);let s=o.map(a=>{let c=Fs(e)??i,l=Vs(a,c),h=jU(l)?l.canDeactivate(t,e,n,r):ke(c,()=>l(t,e,n,r));return Eo(h).pipe(ir())});return Y(s).pipe(Ls())}function YU(t,e,n,r,i){let o=e.canLoad;if(o===void 0||o.length===0)return Y(!0);let s=o.map(a=>{let c=Vs(a,t),l=LU(c)?c.canLoad(e,n):ke(t,()=>c(e,n)),h=Eo(l);return i?h.pipe(Q0(i)):h});return Y(s).pipe(Ls(),Y0(r))}function Y0(t){return pl(ft(e=>{if(typeof e!="boolean")throw Wh(t,e)}),de(e=>e===!0))}function JU(t,e,n,r,i){let o=e.canMatch;if(!o||o.length===0)return Y(!0);let s=o.map(a=>{let c=Vs(a,t),l=UU(c)?c.canMatch(e,n):ke(t,()=>c(e,n)),h=Eo(l);return i?h.pipe(Q0(i)):h});return Y(s).pipe(Ls(),Y0(r))}var mo=class J0 extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,J0.prototype)}},y_=class Z0 extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,Z0.prototype)}};function ZU(t){throw new V(4e3,!1)}function XU(t){throw q0(!1,Tt.GuardRejected)}var eB=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}async lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[ee])throw ZU(`${e.redirectTo}`);i=i.children[ee]}}async applyRedirectCommands(e,n,r,i,o){let s=await tB(n,i,o);if(s instanceof En)throw new y_(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new y_(a);return a}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new En(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new ge(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new V(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}};function tB(t,e,n){if(typeof t=="string")return Promise.resolve(t);let r=t,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:l,data:h,title:p}=e;return Mh(Eo(ke(n,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:p}))))}var v_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nB(t,e,n,r,i,o){let s=X0(t,e,n);return s.matched?(r=TU(e,r),JU(r,e,n,i,o).pipe(de(a=>a===!0?s:x({},v_)))):Y(s)}function X0(t,e,n){if(e.path==="**")return rB(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?x({},v_):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||T0)(n,t,e);if(!i)return x({},v_);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?x(x({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function rB(t){return{matched:!0,parameters:t.length>0?b0(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function E0(t,e,n,r){return n.length>0&&sB(t,n,r)?{segmentGroup:new ge(e,oB(r,new ge(n,t.children))),slicedSegments:[]}:n.length===0&&aB(t,n,r)?{segmentGroup:new ge(t.segments,iB(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ge(t.segments,t.children),slicedSegments:n}}function iB(t,e,n,r){let i={};for(let o of n)if(Yh(t,e,o)&&!r[_n(o)]){let s=new ge([],{});i[_n(o)]=s}return x(x({},r),i)}function oB(t,e){let n={};n[ee]=e;for(let r of t)if(r.path===""&&_n(r)!==ee){let i=new ge([],{});n[_n(r)]=i}return n}function sB(t,e,n){return n.some(r=>Yh(t,e,r)&&_n(r)!==ee)}function aB(t,e,n){return n.some(r=>Yh(t,e,r))}function Yh(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function cB(t,e,n){return e.length===0&&!t.children[n]}var uB=class{};async function lB(t,e,n,r,i,o,s="emptyOnly",a){return new hB(t,e,n,r,i,s,o,a).recognize()}var dB=31,hB=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=c,this.applyRedirects=new eB(this.urlSerializer,this.urlTree)}noMatchError(e){return new V(4002,`'${e.segmentGroup}'`)}async recognize(){let e=E0(this.urlTree.root,[],[],this.config).segmentGroup,{children:n,rootSnapshot:r}=await this.match(e),i=new Vt(r,n),o=new Yc("",i),s=x0(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}async match(e){let n=new vo([],Object.freeze({}),Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ee,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,e,ee,n),rootSnapshot:n}}catch(r){if(r instanceof y_)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof mo?this.noMatchError(r):r}}async processSegmentGroup(e,n,r,i,o){if(r.segments.length===0&&r.hasChildren())return this.processChildren(e,n,r,o);let s=await this.processSegment(e,n,r,r.segments,i,!0,o);return s instanceof Vt?[s]:[]}async processChildren(e,n,r,i){let o=[];for(let c of Object.keys(r.children))c==="primary"?o.unshift(c):o.push(c);let s=[];for(let c of o){let l=r.children[c],h=DU(n,c),p=await this.processSegmentGroup(e,h,l,c,i);s.push(...p)}let a=eR(s);return fB(a),a}async processSegment(e,n,r,i,o,s,a){for(let c of n)try{return await this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s,a)}catch(l){if(l instanceof mo||W0(l))continue;throw l}if(cB(r,i,o))return new uB;throw new mo(r)}async processSegmentAgainstRoute(e,n,r,i,o,s,a,c){if(_n(r)!==s&&(s===ee||!Yh(i,o,r)))throw new mo(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,i,r,o,s,c);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,c);throw new mo(i)}async expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=X0(n,i,o);if(!c)throw new mo(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>dB&&(this.allowRedirects=!1));let y=new vo(o,l,Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,I0(i),_n(i),i.component??i._loadedComponent??null,i,w0(i)),T=Gh(y,a,this.paramsInheritanceStrategy);if(y.params=Object.freeze(T.params),y.data=Object.freeze(T.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let A=await this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e),S=await this.applyRedirects.lineralizeSegments(i,A);return this.processSegment(e,r,n,S.concat(g),s,!1,a)}async matchSegmentAgainstRoute(e,n,r,i,o,s){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await Mh(nB(n,r,i,e,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(n.children={}),!a?.matched)throw new mo(n);e=r._injector??e;let{routes:c}=await this.getChildConfig(e,r,i),l=r._loadedInjector??e,{parameters:h,consumedSegments:p,remainingSegments:g}=a,y=new vo(p,h,Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,I0(r),_n(r),r.component??r._loadedComponent??null,r,w0(r)),T=Gh(y,s,this.paramsInheritanceStrategy);y.params=Object.freeze(T.params),y.data=Object.freeze(T.data);let{segmentGroup:A,slicedSegments:S}=E0(n,p,g,c);if(S.length===0&&A.hasChildren()){let H=await this.processChildren(l,c,A,y);return new Vt(y,H)}if(c.length===0&&S.length===0)return new Vt(y,[]);let P=_n(r)===o,B=await this.processSegment(l,c,A,S,P?ee:o,!0,y);return new Vt(y,B instanceof Vt?[B]:[])}async getChildConfig(e,n,r){if(n.children)return{routes:n.children,injector:e};if(n.loadChildren){if(n._loadedRoutes!==void 0)return{routes:n._loadedRoutes,injector:n._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await Mh(YU(e,n,r,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(e,n);return n._loadedRoutes=o.routes,n._loadedInjector=o.injector,o}throw XU(n)}return{routes:[],injector:e}}};function fB(t){t.sort((e,n)=>e.value.outlet===ee?-1:n.value.outlet===ee?1:e.value.outlet.localeCompare(n.value.outlet))}function pB(t){let e=t.value.routeConfig;return e&&e.path===""}function eR(t){let e=[],n=new Set;for(let r of t){if(!pB(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=eR(r.children);e.push(new Vt(r.value,i))}return e.filter(r=>!n.has(r))}function I0(t){return t.data||{}}function w0(t){return t.resolve||{}}var gB=new j("",{factory:()=>lB});function mB(t,e,n,r,i,o,s){let a=t.get(gB);return at(c=>Y(c).pipe($e(l=>a(t,e,n,r,l.extractedUrl,i,o,s)),de(({state:l,tree:h})=>_e(x({},c),{targetSnapshot:l,urlAfterRedirects:h}))))}function yB(t,e){return at(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Y(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of tR(c))s.add(l);let a=0;return Ee(s).pipe(Br(c=>o.has(c)?vB(c,r,t,e):(c.data=Gh(c,c.parent,t).resolve,Y(void 0))),ft(()=>a++),kl(1),at(c=>a===s.size?Y(n):St))})}function tR(t){let e=t.children.map(n=>tR(n)).flat();return[t,...e]}function vB(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!$0(i)&&(o[Zc]=i.title),qa(()=>(t.data=Gh(t,t.parent,n).resolve,_B(o,t,e,r).pipe(de(s=>(t._resolvedData=s,t.data=x(x({},t.data),s),null)))))}function _B(t,e,n,r){let i=c_(t);if(i.length===0)return Y({});let o={};return Ee(i).pipe(at(s=>EB(t[s],e,n,r).pipe(ir(),ft(a=>{if(a instanceof xs)throw Wh(new _r,a);o[s]=a}))),kl(1),de(()=>o),Bi(s=>W0(s)?St:yg(s)))}function EB(t,e,n,r){let i=Fs(e)??r,o=Vs(t,i),s=o.resolve?o.resolve(e,n):ke(i,()=>o(e,n));return Eo(s)}function s_(t){return $e(e=>{let n=t(e);return n?Ee(n).pipe(de(()=>e)):Y(e)})}var D_=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ee);return r}getResolvedTitleForRoute(n){return n.data[Zc]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:()=>N(nR),providedIn:"root"})}return t})(),nR=(()=>{class t extends D_{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)($(p0))};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),li=new j("",{factory:()=>({})}),wo=new j(""),Jh=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=N(kv);async loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await C0(ke(n,()=>r.loadComponent())),s=await oR(iR(o));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await rR(r,this.compiler,n,this.onLoadEndListener);return r._loadedRoutes=o.routes,r._loadedInjector=o.injector,o}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();async function rR(t,e,n,r){let i=await C0(ke(n,()=>t.loadChildren())),o=await oR(iR(i)),s;o instanceof eh||Array.isArray(o)?s=o:s=await e.compileModuleAsync(o),r&&r(t);let a,c,l=!1;return Array.isArray(s)?(c=s,l=!0):(a=s.create(n).injector,c=a.get(wo,[],{optional:!0,self:!0}).flat()),{routes:c.map(T_),injector:a}}function IB(t){return t&&typeof t=="object"&&"default"in t}function iR(t){return IB(t)?t.default:t}async function oR(t){return t}var Zh=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:()=>N(wB),providedIn:"root"})}return t})(),wB=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),b_=new j(""),C_=new j("");function sR(t,e,n){let r=t.get(C_),i=t.get(be);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),TB(t)));a.ready.catch(l=>{}),a.finished.catch(l=>{});let{onViewTransitionCreated:c}=r;return c&&ke(t,()=>c({transition:a,from:e,to:n})),s}function TB(t){return new Promise(e=>{rv({read:()=>setTimeout(e)},{injector:t})})}var DB=()=>{},S_=new j(""),tu=(()=>{class t{currentNavigation=Jt(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=Jt(null);events=new Xe;transitionAbortWithErrorSubject=new Xe;configLoader=N(Jh);environmentInjector=N(Se);destroyRef=N(Yt);urlSerializer=N(ui);rootContexts=N(Io);location=N(oi);inputBindingEnabled=N(Xc,{optional:!0})!==null;titleStrategy=N(D_);options=N(li,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=N(Zh);createViewTransition=N(b_,{optional:!0});navigationErrorHandler=N(S_,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Y(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Vh(i)),r=i=>this.events.next(new jh(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;Nt(()=>{this.transitions?.next(_e(x({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(n){return this.transitions=new st(null),this.transitions.pipe(Et(r=>r!==null),$e(r=>{let i=!1,o=new AbortController;return Y(r).pipe($e(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Tt.SupersededByNewNavigation),St;this.currentTransition=r;let a=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:a?_e(x({},a),{previousNavigation:null}):null,abort:()=>o.abort()});let c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!c&&l!=="reload")return this.events.next(new $n(s.id,this.urlSerializer.serialize(s.rawUrl),"",Ms.IgnoredSameUrlNavigation)),s.resolve(!1),St;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return Y(s).pipe($e(h=>(this.events.next(new ci(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),h.id!==this.navigationId?St:Promise.resolve(h))),mB(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),ft(h=>{r.targetSnapshot=h.targetSnapshot,r.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation.update(g=>(g.finalUrl=h.urlAfterRedirects,g));let p=new Wc(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:h,extractedUrl:p,source:g,restoredState:y,extras:T}=s,A=new ci(h,this.urlSerializer.serialize(p),g,y);this.events.next(A);let S=U0(this.rootComponentType).snapshot;return this.currentTransition=r=_e(x({},s),{targetSnapshot:S,urlAfterRedirects:p,extras:_e(x({},T),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(P=>(P.finalUrl=p,P)),Y(r)}else return this.events.next(new $n(s.id,this.urlSerializer.serialize(s.extractedUrl),"",Ms.IgnoredByUrlHandlingStrategy)),s.resolve(!1),St}),ft(s=>{let a=new Oh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),de(s=>(this.currentTransition=r=_e(x({},s),{guards:MU(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),$U(this.environmentInjector,s=>this.events.next(s)),ft(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Wh(this.urlSerializer,s.guardsResult);let a=new xh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Et(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Tt.GuardRejected),!1)),s_(s=>{if(s.guards.canActivateChecks.length!==0)return Y(s).pipe(ft(a=>{let c=new Lh(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),$e(a=>{let c=!1;return Y(a).pipe(yB(this.paramsInheritanceStrategy,this.environmentInjector),ft({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",Tt.NoDataFromResolver)}}))}),ft(a=>{let c=new Fh(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),s_(s=>{let a=l=>{let h=[];if(l.routeConfig?._loadedComponent)l.component=l.routeConfig?._loadedComponent;else if(l.routeConfig?.loadComponent){let p=Fs(l)??this.environmentInjector;h.push(this.configLoader.loadComponent(p,l.routeConfig).then(g=>{l.component=g}))}for(let p of l.children)h.push(...a(p));return h},c=a(s.targetSnapshot.root);return c.length===0?Y(s):Ee(Promise.all(c).then(()=>s))}),s_(()=>this.afterPreactivation()),$e(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?Ee(c).pipe(de(()=>r)):Y(r)}),de(s=>{let a=CU(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=_e(x({},s),{targetRouterState:a}),this.currentNavigation.update(c=>(c.targetRouterState=a,c)),r}),ft(()=>{this.events.next(new Kc)}),NU(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Sn(1),Ga(K0(o.signal).pipe(Et(()=>!i&&!r.targetRouterState),ft(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",Tt.Aborted)}))),ft({next:s=>{i=!0,this.currentNavigation.update(a=>(a.abort=DB,a)),this.lastSuccessfulNavigation.set(Nt(this.currentNavigation)),this.events.next(new Ut(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Ga(this.transitionAbortWithErrorSubject.pipe(ft(s=>{throw s}))),ns(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",Tt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Bi(s=>{if(this.destroyed)return r.resolve(!1),St;if(i=!0,G0(s))this.events.next(new Bn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),RU(s)?this.events.next(new Os(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Ps(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=ke(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof xs){let{message:l,cancellationCode:h}=Wh(this.urlSerializer,c);this.events.next(new Bn(r.id,this.urlSerializer.serialize(r.extractedUrl),l,h)),this.events.next(new Os(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return St}))}))}cancelNavigationTransition(n,r,i){let o=new Bn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Nt(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function bB(t){return t!==Rs}var aR=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:()=>N(CB),providedIn:"root"})}return t})(),Qh=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},CB=(()=>{class t extends Qh{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Tc(t)))(i||t)}})();static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),A_=(()=>{class t{urlSerializer=N(ui);options=N(li,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=N(oi);urlHandlingStrategy=N(Zh);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new En;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof En?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=U0(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:()=>N(cR),providedIn:"root"})}return t})(),cR=(()=>{class t extends A_{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof ci?this.updateStateMemento():n instanceof $n?this.commitTransition(r):n instanceof Wc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Kc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Bn&&n.code!==Tt.SupersededByNewNavigation&&n.code!==Tt.Redirect?this.restoreHistory(r):n instanceof Ps?this.restoreHistory(r,!0):n instanceof Ut&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,c=x(x({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",c)}else{let a=x(x({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Tc(t)))(i||t)}})();static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Xh(t,e){t.events.pipe(Et(n=>n instanceof Ut||n instanceof Bn||n instanceof Ps||n instanceof $n),de(n=>n instanceof Ut||n instanceof $n?0:(n instanceof Bn?n.code===Tt.Redirect||n.code===Tt.SupersededByNewNavigation:!1)?2:1),Et(n=>n!==2),Sn(1)).subscribe(()=>{e()})}var SB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},AB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Xt=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=N(th);stateManager=N(A_);options=N(li,{optional:!0})||{};pendingTasks=N(hr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=N(tu);urlSerializer=N(ui);location=N(oi);urlHandlingStrategy=N(Zh);injector=N(Se);_events=new Xe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=N(aR);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=N(wo,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!N(Xc,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ke;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Nt(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Bn&&r.code!==Tt.Redirect&&r.code!==Tt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ut)this.navigated=!0;else if(r instanceof Os){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=x({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||bB(i.source)},s);this.scheduleNavigation(a,Rs,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}wU(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Rs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=x({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(Rt)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Nt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(T_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=x(x({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=L0(g)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return F0(p,n,h,l??null,this.urlSerializer)}navigateByUrl(n,r={skipLocationChange:!1}){let i=ai(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Rs,null,r)}navigate(n,r={skipLocationChange:!1}){return RB(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(Nn(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=x({},SB):r===!1?i=x({},AB):i=r,ai(n))return g0(this.currentUrlTree,n,i);let o=this.parseUrl(n);return g0(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,c=g});let h=this.pendingTasks.add();return Xh(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function RB(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new V(4008,!1)}var ef=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Jt(null);get href(){return Nt(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Xe;applicationErrorHandler=N(Rt);options=N(li,{optional:!0});constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(N(new uh("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,r=i=>i==="merge"||i==="preserve";n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Ut&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ai(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:ai(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(Ye(Xt),Ye(Hn),Dc("tabindex"),Ye(ws),Ye(Ln),Ye(vn))};static \u0275dir=ri({type:t,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&sh("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&ih("href",i.reactiveHref(),Qy)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",kc],skipLocationChange:[2,"skipLocationChange","skipLocationChange",kc],replaceUrl:[2,"replaceUrl","replaceUrl",kc],routerLink:"routerLink"},features:[uo]})}return t})(),NB=(()=>{class t{router;element;renderer;cdr;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new gt;link=N(ef,{optional:!0});constructor(n,r,i,o){this.router=n,this.element=r,this.renderer=i,this.cdr=o,this.routerEventsSubscription=n.events.subscribe(s=>{s instanceof Ut&&this.update()})}ngAfterContentInit(){Y(this.links.changes,Y(null)).pipe(Ur()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Ee(n).pipe(Ur()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=MB(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?n.isActive(o,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static \u0275fac=function(r){return new(r||t)(Ye(Xt),Ye(Ln),Ye(ws),Ye(po))};static \u0275dir=ri({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&Rv(o,ef,5),r&2){let s;Nv(s=Mv())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[uo]})}return t})();function MB(t){return!!t.paths}var nu=class{};var uR=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,i,o){this.router=n,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Et(n=>n instanceof Ut),Br(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Ts(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Ee(i).pipe(Ur())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=Ee(this.loader.loadChildren(n,r)):i=Y(null);let o=i.pipe(at(s=>s===null?Y(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(n,r);return Ee([o,s]).pipe(Ur())}else return o})}static \u0275fac=function(r){return new(r||t)($(Xt),$(Se),$(nu),$(Jh))};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),N_=new j(""),lR=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Rs;restoredId=0;store={};constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof ci?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Ut?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof $n&&n.code===Ms.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{if(!(n instanceof ks))return;let r={behavior:"instant"};n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position,r):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(async()=>{await new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new ks(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){gv()};static \u0275prov=F({token:t,factory:t.\u0275fac})}return t})();function PB(t,...e){return et([{provide:wo,multi:!0,useValue:t},[],{provide:Hn,useFactory:dR},{provide:Nc,multi:!0,useFactory:hR},e.map(n=>n.\u0275providers)])}function dR(){return N(Xt).routerState.root}function js(t,e){return{\u0275kind:t,\u0275providers:e}}function kB(t={}){return js(4,[{provide:N_,useFactory:()=>{let n=N(Hv),r=N(Ie),i=N(tu),o=N(ui);return new lR(o,i,n,r,t)}}])}function hR(){let t=N(Pe);return e=>{let n=t.get(fo);if(e!==n.components[0])return;let r=t.get(Xt),i=t.get(fR);t.get(M_)===1&&r.initialNavigation(),t.get(mR,null,{optional:!0})?.setUpPreloading(),t.get(N_,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var fR=new j("",{factory:()=>new Xe}),M_=new j("",{factory:()=>1});function pR(){let t=[{provide:Hd,useValue:!0},{provide:M_,useValue:0},rh(()=>{let e=N(Pe);return e.get(Vv,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(Xt),o=e.get(fR);Xh(i,()=>{r(!0)}),e.get(tu).afterPreactivation=()=>(r(!0),o.closed?Y(void 0):o),i.initialNavigation()}))})];return js(2,t)}function gR(){let t=[rh(()=>{N(Xt).setUpLocationChangeListener()}),{provide:M_,useValue:2}];return js(3,t)}var mR=new j("");function yR(t){return js(0,[{provide:mR,useExisting:uR},{provide:nu,useExisting:t}])}function vR(){return js(8,[I_,{provide:Xc,useExisting:I_}])}function _R(t){pn("NgRouterViewTransitions");let e=[{provide:b_,useValue:sR},{provide:C_,useValue:x({skipNextTransition:!!t?.skipInitialTransition},t)}];return js(9,e)}var ER=[oi,{provide:ui,useClass:_r},Xt,Io,{provide:Hn,useFactory:dR},Jh,[]],OB=(()=>{class t{constructor(){}static forRoot(n,r){return{ngModule:t,providers:[ER,[],{provide:wo,multi:!0,useValue:n},[],r?.errorHandler?{provide:S_,useValue:r.errorHandler}:[],{provide:li,useValue:r||{}},r?.useHash?LB():FB(),xB(),r?.preloadingStrategy?yR(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?VB(r):[],r?.bindToComponentInputs?vR().\u0275providers:[],r?.enableViewTransitions?_R().\u0275providers:[],jB()]}}static forChild(n){return{ngModule:t,providers:[{provide:wo,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=ni({type:t});static \u0275inj=ar({})}return t})();function xB(){return{provide:N_,useFactory:()=>{let t=N(Hv),e=N(Ie),n=N(li),r=N(tu),i=N(ui);return n.scrollOffset&&t.setOffset(n.scrollOffset),new lR(i,r,t,e,n)}}}function LB(){return{provide:vn,useClass:Bv}}function FB(){return{provide:vn,useClass:hh}}function VB(t){return[t.initialNavigation==="disabled"?gR().\u0275providers:[],t.initialNavigation==="enabledBlocking"?pR().\u0275providers:[]]}var R_=new j("");function jB(){return[{provide:R_,useFactory:hR},{provide:Nc,multi:!0,useExisting:R_}]}var IR=()=>{};var DR=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},UB=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},tf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,y=l&63;c||(y=64,s||(g=64)),r.push(n[h],n[p],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(DR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):UB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new k_;let g=o<<2|a>>4;if(r.push(g),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let T=l<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},k_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},BB=function(t){let e=DR(t);return tf.encodeByteArray(e,!0)},iu=function(t){return BB(t).replace(/\./g,"")},nf=function(t){try{return tf.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function x_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var $B=()=>x_().__FIREBASE_DEFAULTS__,HB=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&nf(t[1]);return e&&JSON.parse(e)},rf=()=>{try{return IR()||$B()||HB()||zB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},L_=t=>{var e,n;return(n=(e=rf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},bR=t=>{let e=L_(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},F_=()=>{var t;return(t=rf())===null||t===void 0?void 0:t.config},V_=t=>{var e;return(e=rf())===null||e===void 0?void 0:e[`_${t}`]};var To=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function di(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function of(t){return(await fetch(t,{credentials:"include"})).ok}function CR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[iu(JSON.stringify(n)),iu(JSON.stringify(s)),""].join(".")}var ru={};function qB(){let t={prod:[],emulator:[]};for(let e of Object.keys(ru))ru[e]?t.emulator.push(e):t.prod.push(e);return t}function GB(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var wR=!1;function sf(t,e){if(typeof window>"u"||typeof document>"u"||!di(window.location.host)||ru[t]===e||ru[t]||wR)return;ru[t]=e;function n(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=qB().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{wR=!0,s()},g}function h(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=GB(r),y=n("text"),T=document.getElementById(y)||document.createElement("span"),A=n("learnmore"),S=document.getElementById(A)||document.createElement("a"),P=n("preprendIcon"),B=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let H=g.element;a(H),h(S,A);let G=l();c(B,P),H.append(B,T,S,G),document.body.appendChild(H)}o?(T.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function nt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nt())}function WB(){var t;let e=(t=rf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RR(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function NR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MR(){let t=nt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function PR(){return!WB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ou(){try{return typeof indexedDB=="object"}catch{return!1}}function kR(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var KB="FirebaseError",Bt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=KB,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,In.prototype.create)}},In=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?QB(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Bt(i,a,r)}};function QB(t,e){return t.replace(YB,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var YB=/\{\$([^}]+)}/g;function OR(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function en(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(TR(o)&&TR(s)){if(!en(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function TR(t){return t!==null&&typeof t=="object"}function Us(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Bs(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function $s(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function xR(t,e){let n=new O_(t,e);return n.subscribe.bind(n)}var O_=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");JB(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=P_),i.error===void 0&&(i.error=P_),i.complete===void 0&&(i.complete=P_);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function JB(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function P_(){}var ooe=14400*1e3;function Fe(t){return t&&t._delegate?t._delegate:t}var Dt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Do="[DEFAULT]";var j_=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new To;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XB(e))try{this.getOrInitializeService({instanceIdentifier:Do})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Do){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Do){return this.instances.has(e)}getOptions(e=Do){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ZB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Do){return this.component?this.component.multipleInstances?e:Do:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function ZB(t){return t===Do?void 0:t}function XB(t){return t.instantiationMode==="EAGER"}var af=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new j_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var e$=[],ae=(function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t})(ae||{}),t$={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},n$=ae.INFO,r$={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},i$=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=r$[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},zn=class{constructor(e){this.name=e,this._logLevel=n$,this._logHandler=i$,this._userLogHandler=null,e$.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?t$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}};var o$=(t,e)=>e.some(n=>t instanceof n),LR,FR;function s$(){return LR||(LR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function a$(){return FR||(FR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var VR=new WeakMap,B_=new WeakMap,jR=new WeakMap,U_=new WeakMap,H_=new WeakMap;function c$(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(qn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&VR.set(n,t)}).catch(()=>{}),H_.set(e,t),e}function u$(t){if(B_.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});B_.set(t,e)}var $_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return B_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function UR(t){$_=t($_)}function l$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(cf(this),e,...n);return jR.set(r,e.sort?e.sort():[e]),qn(r)}:a$().includes(t)?function(...e){return t.apply(cf(this),e),qn(VR.get(this))}:function(...e){return qn(t.apply(cf(this),e))}}function d$(t){return typeof t=="function"?l$(t):(t instanceof IDBTransaction&&u$(t),o$(t,s$())?new Proxy(t,$_):t)}function qn(t){if(t instanceof IDBRequest)return c$(t);if(U_.has(t))return U_.get(t);let e=d$(t);return e!==t&&(U_.set(t,e),H_.set(e,t)),e}var cf=t=>H_.get(t);function $R(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=qn(s);return r&&s.addEventListener("upgradeneeded",c=>{r(qn(s.result),c.oldVersion,c.newVersion,qn(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var h$=["get","getKey","getAll","getAllKeys","count"],f$=["put","add","delete","clear"],z_=new Map;function BR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(z_.get(e))return z_.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=f$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||h$.includes(n)))return;let o=async function(s,...a){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&c.done]))[0]};return z_.set(e,o),o}UR(t=>_e(x({},t),{get:(e,n,r)=>BR(e,n)||t.get(e,n,r),has:(e,n)=>!!BR(e,n)||t.has(e,n)}));var G_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(p$(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function p$(t){let e=t.getComponent();return e?.type==="VERSION"}var W_="@firebase/app",HR="0.13.2";var Er=new zn("@firebase/app"),g$="@firebase/app-compat",m$="@firebase/analytics-compat",y$="@firebase/analytics",v$="@firebase/app-check-compat",_$="@firebase/app-check",E$="@firebase/auth",I$="@firebase/auth-compat",w$="@firebase/database",T$="@firebase/data-connect",D$="@firebase/database-compat",b$="@firebase/functions",C$="@firebase/functions-compat",S$="@firebase/installations",A$="@firebase/installations-compat",R$="@firebase/messaging",N$="@firebase/messaging-compat",M$="@firebase/performance",P$="@firebase/performance-compat",k$="@firebase/remote-config",O$="@firebase/remote-config-compat",x$="@firebase/storage",L$="@firebase/storage-compat",F$="@firebase/firestore",V$="@firebase/ai",j$="@firebase/firestore-compat",U$="firebase",B$="11.10.0";var K_="[DEFAULT]",$$={[W_]:"fire-core",[g$]:"fire-core-compat",[y$]:"fire-analytics",[m$]:"fire-analytics-compat",[_$]:"fire-app-check",[v$]:"fire-app-check-compat",[E$]:"fire-auth",[I$]:"fire-auth-compat",[w$]:"fire-rtdb",[T$]:"fire-data-connect",[D$]:"fire-rtdb-compat",[b$]:"fire-fn",[C$]:"fire-fn-compat",[S$]:"fire-iid",[A$]:"fire-iid-compat",[R$]:"fire-fcm",[N$]:"fire-fcm-compat",[M$]:"fire-perf",[P$]:"fire-perf-compat",[k$]:"fire-rc",[O$]:"fire-rc-compat",[x$]:"fire-gcs",[L$]:"fire-gcs-compat",[F$]:"fire-fst",[j$]:"fire-fst-compat",[V$]:"fire-vertex","fire-js":"fire-js",[U$]:"fire-js-all"};var su=new Map,H$=new Map,Q_=new Map;function zR(t,e){try{t.container.addComponent(e)}catch(n){Er.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wn(t){let e=t.name;if(Q_.has(e))return Er.debug(`There were multiple attempts to register component ${e}.`),!1;Q_.set(e,t);for(let n of su.values())zR(n,t);for(let n of H$.values())zR(n,t);return!0}function Hs(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function bt(t){return t==null?!1:t.settings!==void 0}var z$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hi=new In("app","Firebase",z$);var Y_=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Dt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hi.create("app-deleted",{appName:this._name})}};var fi=B$;function X_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:K_,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw hi.create("bad-app-name",{appName:String(i)});if(n||(n=F_()),!n)throw hi.create("no-options");let o=su.get(i);if(o){if(en(n,o.options)&&en(r,o.config))return o;throw hi.create("duplicate-app",{appName:i})}let s=new af(i);for(let c of Q_.values())s.addComponent(c);let a=new Y_(n,r,s);return su.set(i,a),a}function bo(t=K_){let e=su.get(t);if(!e&&t===K_&&F_())return X_();if(!e)throw hi.create("no-app",{appName:t});return e}function uf(){return Array.from(su.values())}function Ve(t,e,n){var r;let i=(r=$$[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Er.warn(a.join(" "));return}wn(new Dt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var q$="firebase-heartbeat-database",G$=1,au="firebase-heartbeat-store",q_=null;function KR(){return q_||(q_=$R(q$,G$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(au)}catch(n){console.warn(n)}}}}).catch(t=>{throw hi.create("idb-open",{originalErrorMessage:t.message})})),q_}async function W$(t){try{let n=(await KR()).transaction(au),r=await n.objectStore(au).get(QR(t));return await n.done,r}catch(e){if(e instanceof Bt)Er.warn(e.message);else{let n=hi.create("idb-get",{originalErrorMessage:e?.message});Er.warn(n.message)}}}async function qR(t,e){try{let r=(await KR()).transaction(au,"readwrite");await r.objectStore(au).put(e,QR(t)),await r.done}catch(n){if(n instanceof Bt)Er.warn(n.message);else{let r=hi.create("idb-set",{originalErrorMessage:n?.message});Er.warn(r.message)}}}function QR(t){return`${t.name}!${t.options.appId}`}var K$=1024,Q$=30,J_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Z_(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=GR();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Q$){let s=J$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Er.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=GR(),{heartbeatsToSend:r,unsentEntries:i}=Y$(this._heartbeatsCache.heartbeats),o=iu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Er.warn(n),""}}};function GR(){return new Date().toISOString().substring(0,10)}function Y$(t,e=K$){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),WR(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),WR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Z_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ou()?kR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let n=await W$(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){let i=await this.read();return qR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){let i=await this.read();return qR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}};function WR(t){return iu(JSON.stringify({version:2,heartbeats:t})).length}function J$(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function Z$(t){wn(new Dt("platform-logger",e=>new G_(e),"PRIVATE")),wn(new Dt("heartbeat",e=>new J_(e),"PRIVATE")),Ve(W_,HR,t),Ve(W_,HR,"esm2017"),Ve("fire-js","")}Z$("");var YR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},JR={};var Ir,eE;(function(){var t;function e(w,v){function _(){}_.prototype=v.prototype,w.D=v.prototype,w.prototype=new _,w.prototype.constructor=w,w.C=function(I,D,C){for(var E=Array(arguments.length-2),tr=2;tr<arguments.length;tr++)E[tr-2]=arguments[tr];return v.prototype[D].apply(I,E)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,v,_){_||(_=0);var I=Array(16);if(typeof v=="string")for(var D=0;16>D;++D)I[D]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(D=0;16>D;++D)I[D]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=w.g[0],_=w.g[1],D=w.g[2];var C=w.g[3],E=v+(C^_&(D^C))+I[0]+3614090360&4294967295;v=_+(E<<7&4294967295|E>>>25),E=C+(D^v&(_^D))+I[1]+3905402710&4294967295,C=v+(E<<12&4294967295|E>>>20),E=D+(_^C&(v^_))+I[2]+606105819&4294967295,D=C+(E<<17&4294967295|E>>>15),E=_+(v^D&(C^v))+I[3]+3250441966&4294967295,_=D+(E<<22&4294967295|E>>>10),E=v+(C^_&(D^C))+I[4]+4118548399&4294967295,v=_+(E<<7&4294967295|E>>>25),E=C+(D^v&(_^D))+I[5]+1200080426&4294967295,C=v+(E<<12&4294967295|E>>>20),E=D+(_^C&(v^_))+I[6]+2821735955&4294967295,D=C+(E<<17&4294967295|E>>>15),E=_+(v^D&(C^v))+I[7]+4249261313&4294967295,_=D+(E<<22&4294967295|E>>>10),E=v+(C^_&(D^C))+I[8]+1770035416&4294967295,v=_+(E<<7&4294967295|E>>>25),E=C+(D^v&(_^D))+I[9]+2336552879&4294967295,C=v+(E<<12&4294967295|E>>>20),E=D+(_^C&(v^_))+I[10]+4294925233&4294967295,D=C+(E<<17&4294967295|E>>>15),E=_+(v^D&(C^v))+I[11]+2304563134&4294967295,_=D+(E<<22&4294967295|E>>>10),E=v+(C^_&(D^C))+I[12]+1804603682&4294967295,v=_+(E<<7&4294967295|E>>>25),E=C+(D^v&(_^D))+I[13]+4254626195&4294967295,C=v+(E<<12&4294967295|E>>>20),E=D+(_^C&(v^_))+I[14]+2792965006&4294967295,D=C+(E<<17&4294967295|E>>>15),E=_+(v^D&(C^v))+I[15]+1236535329&4294967295,_=D+(E<<22&4294967295|E>>>10),E=v+(D^C&(_^D))+I[1]+4129170786&4294967295,v=_+(E<<5&4294967295|E>>>27),E=C+(_^D&(v^_))+I[6]+3225465664&4294967295,C=v+(E<<9&4294967295|E>>>23),E=D+(v^_&(C^v))+I[11]+643717713&4294967295,D=C+(E<<14&4294967295|E>>>18),E=_+(C^v&(D^C))+I[0]+3921069994&4294967295,_=D+(E<<20&4294967295|E>>>12),E=v+(D^C&(_^D))+I[5]+3593408605&4294967295,v=_+(E<<5&4294967295|E>>>27),E=C+(_^D&(v^_))+I[10]+38016083&4294967295,C=v+(E<<9&4294967295|E>>>23),E=D+(v^_&(C^v))+I[15]+3634488961&4294967295,D=C+(E<<14&4294967295|E>>>18),E=_+(C^v&(D^C))+I[4]+3889429448&4294967295,_=D+(E<<20&4294967295|E>>>12),E=v+(D^C&(_^D))+I[9]+568446438&4294967295,v=_+(E<<5&4294967295|E>>>27),E=C+(_^D&(v^_))+I[14]+3275163606&4294967295,C=v+(E<<9&4294967295|E>>>23),E=D+(v^_&(C^v))+I[3]+4107603335&4294967295,D=C+(E<<14&4294967295|E>>>18),E=_+(C^v&(D^C))+I[8]+1163531501&4294967295,_=D+(E<<20&4294967295|E>>>12),E=v+(D^C&(_^D))+I[13]+2850285829&4294967295,v=_+(E<<5&4294967295|E>>>27),E=C+(_^D&(v^_))+I[2]+4243563512&4294967295,C=v+(E<<9&4294967295|E>>>23),E=D+(v^_&(C^v))+I[7]+1735328473&4294967295,D=C+(E<<14&4294967295|E>>>18),E=_+(C^v&(D^C))+I[12]+2368359562&4294967295,_=D+(E<<20&4294967295|E>>>12),E=v+(_^D^C)+I[5]+4294588738&4294967295,v=_+(E<<4&4294967295|E>>>28),E=C+(v^_^D)+I[8]+2272392833&4294967295,C=v+(E<<11&4294967295|E>>>21),E=D+(C^v^_)+I[11]+1839030562&4294967295,D=C+(E<<16&4294967295|E>>>16),E=_+(D^C^v)+I[14]+4259657740&4294967295,_=D+(E<<23&4294967295|E>>>9),E=v+(_^D^C)+I[1]+2763975236&4294967295,v=_+(E<<4&4294967295|E>>>28),E=C+(v^_^D)+I[4]+1272893353&4294967295,C=v+(E<<11&4294967295|E>>>21),E=D+(C^v^_)+I[7]+4139469664&4294967295,D=C+(E<<16&4294967295|E>>>16),E=_+(D^C^v)+I[10]+3200236656&4294967295,_=D+(E<<23&4294967295|E>>>9),E=v+(_^D^C)+I[13]+681279174&4294967295,v=_+(E<<4&4294967295|E>>>28),E=C+(v^_^D)+I[0]+3936430074&4294967295,C=v+(E<<11&4294967295|E>>>21),E=D+(C^v^_)+I[3]+3572445317&4294967295,D=C+(E<<16&4294967295|E>>>16),E=_+(D^C^v)+I[6]+76029189&4294967295,_=D+(E<<23&4294967295|E>>>9),E=v+(_^D^C)+I[9]+3654602809&4294967295,v=_+(E<<4&4294967295|E>>>28),E=C+(v^_^D)+I[12]+3873151461&4294967295,C=v+(E<<11&4294967295|E>>>21),E=D+(C^v^_)+I[15]+530742520&4294967295,D=C+(E<<16&4294967295|E>>>16),E=_+(D^C^v)+I[2]+3299628645&4294967295,_=D+(E<<23&4294967295|E>>>9),E=v+(D^(_|~C))+I[0]+4096336452&4294967295,v=_+(E<<6&4294967295|E>>>26),E=C+(_^(v|~D))+I[7]+1126891415&4294967295,C=v+(E<<10&4294967295|E>>>22),E=D+(v^(C|~_))+I[14]+2878612391&4294967295,D=C+(E<<15&4294967295|E>>>17),E=_+(C^(D|~v))+I[5]+4237533241&4294967295,_=D+(E<<21&4294967295|E>>>11),E=v+(D^(_|~C))+I[12]+1700485571&4294967295,v=_+(E<<6&4294967295|E>>>26),E=C+(_^(v|~D))+I[3]+2399980690&4294967295,C=v+(E<<10&4294967295|E>>>22),E=D+(v^(C|~_))+I[10]+4293915773&4294967295,D=C+(E<<15&4294967295|E>>>17),E=_+(C^(D|~v))+I[1]+2240044497&4294967295,_=D+(E<<21&4294967295|E>>>11),E=v+(D^(_|~C))+I[8]+1873313359&4294967295,v=_+(E<<6&4294967295|E>>>26),E=C+(_^(v|~D))+I[15]+4264355552&4294967295,C=v+(E<<10&4294967295|E>>>22),E=D+(v^(C|~_))+I[6]+2734768916&4294967295,D=C+(E<<15&4294967295|E>>>17),E=_+(C^(D|~v))+I[13]+1309151649&4294967295,_=D+(E<<21&4294967295|E>>>11),E=v+(D^(_|~C))+I[4]+4149444226&4294967295,v=_+(E<<6&4294967295|E>>>26),E=C+(_^(v|~D))+I[11]+3174756917&4294967295,C=v+(E<<10&4294967295|E>>>22),E=D+(v^(C|~_))+I[2]+718787259&4294967295,D=C+(E<<15&4294967295|E>>>17),E=_+(C^(D|~v))+I[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(D+(E<<21&4294967295|E>>>11))&4294967295,w.g[2]=w.g[2]+D&4294967295,w.g[3]=w.g[3]+C&4294967295}r.prototype.u=function(w,v){v===void 0&&(v=w.length);for(var _=v-this.blockSize,I=this.B,D=this.h,C=0;C<v;){if(D==0)for(;C<=_;)i(this,w,C),C+=this.blockSize;if(typeof w=="string"){for(;C<v;)if(I[D++]=w.charCodeAt(C++),D==this.blockSize){i(this,I),D=0;break}}else for(;C<v;)if(I[D++]=w[C++],D==this.blockSize){i(this,I),D=0;break}}this.h=D,this.o+=v},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;var _=8*this.o;for(v=w.length-8;v<w.length;++v)w[v]=_&255,_/=256;for(this.u(w),w=Array(16),v=_=0;4>v;++v)for(var I=0;32>I;I+=8)w[_++]=this.g[v]>>>I&255;return w};function o(w,v){var _=a;return Object.prototype.hasOwnProperty.call(_,w)?_[w]:_[w]=v(w)}function s(w,v){this.h=v;for(var _=[],I=!0,D=w.length-1;0<=D;D--){var C=w[D]|0;I&&C==v||(_[D]=C,I=!1)}this.g=_}var a={};function c(w){return-128<=w&&128>w?o(w,function(v){return new s([v|0],0>v?-1:0)}):new s([w|0],0>w?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return p;if(0>w)return S(l(-w));for(var v=[],_=1,I=0;w>=_;I++)v[I]=w/_|0,_*=4294967296;return new s(v,0)}function h(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return S(h(w.substring(1),v));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(v,8)),I=p,D=0;D<w.length;D+=8){var C=Math.min(8,w.length-D),E=parseInt(w.substring(D,D+C),v);8>C?(C=l(Math.pow(v,C)),I=I.j(C).add(l(E))):(I=I.j(_),I=I.add(l(E)))}return I}var p=c(0),g=c(1),y=c(16777216);t=s.prototype,t.m=function(){if(A(this))return-S(this).m();for(var w=0,v=1,_=0;_<this.g.length;_++){var I=this.i(_);w+=(0<=I?I:4294967296+I)*v,v*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(T(this))return"0";if(A(this))return"-"+S(this).toString(w);for(var v=l(Math.pow(w,6)),_=this,I="";;){var D=G(_,v).g;_=P(_,D.j(v));var C=((0<_.g.length?_.g[0]:_.h)>>>0).toString(w);if(_=D,T(_))return C+I;for(;6>C.length;)C="0"+C;I=C+I}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function T(w){if(w.h!=0)return!1;for(var v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function A(w){return w.h==-1}t.l=function(w){return w=P(this,w),A(w)?-1:T(w)?0:1};function S(w){for(var v=w.g.length,_=[],I=0;I<v;I++)_[I]=~w.g[I];return new s(_,~w.h).add(g)}t.abs=function(){return A(this)?S(this):this},t.add=function(w){for(var v=Math.max(this.g.length,w.g.length),_=[],I=0,D=0;D<=v;D++){var C=I+(this.i(D)&65535)+(w.i(D)&65535),E=(C>>>16)+(this.i(D)>>>16)+(w.i(D)>>>16);I=E>>>16,C&=65535,E&=65535,_[D]=E<<16|C}return new s(_,_[_.length-1]&-2147483648?-1:0)};function P(w,v){return w.add(S(v))}t.j=function(w){if(T(this)||T(w))return p;if(A(this))return A(w)?S(this).j(S(w)):S(S(this).j(w));if(A(w))return S(this.j(S(w)));if(0>this.l(y)&&0>w.l(y))return l(this.m()*w.m());for(var v=this.g.length+w.g.length,_=[],I=0;I<2*v;I++)_[I]=0;for(I=0;I<this.g.length;I++)for(var D=0;D<w.g.length;D++){var C=this.i(I)>>>16,E=this.i(I)&65535,tr=w.i(D)>>>16,Ta=w.i(D)&65535;_[2*I+2*D]+=E*Ta,B(_,2*I+2*D),_[2*I+2*D+1]+=C*Ta,B(_,2*I+2*D+1),_[2*I+2*D+1]+=E*tr,B(_,2*I+2*D+1),_[2*I+2*D+2]+=C*tr,B(_,2*I+2*D+2)}for(I=0;I<v;I++)_[I]=_[2*I+1]<<16|_[2*I];for(I=v;I<2*v;I++)_[I]=0;return new s(_,0)};function B(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function H(w,v){this.g=w,this.h=v}function G(w,v){if(T(v))throw Error("division by zero");if(T(w))return new H(p,p);if(A(w))return v=G(S(w),v),new H(S(v.g),S(v.h));if(A(v))return v=G(w,S(v)),new H(S(v.g),v.h);if(30<w.g.length){if(A(w)||A(v))throw Error("slowDivide_ only works with positive integers.");for(var _=g,I=v;0>=I.l(w);)_=Ce(_),I=Ce(I);var D=se(_,1),C=se(I,1);for(I=se(I,2),_=se(_,2);!T(I);){var E=C.add(I);0>=E.l(w)&&(D=D.add(_),C=E),I=se(I,1),_=se(_,1)}return v=P(w,D.j(v)),new H(D,v)}for(D=p;0<=w.l(v);){for(_=Math.max(1,Math.floor(w.m()/v.m())),I=Math.ceil(Math.log(_)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),C=l(_),E=C.j(v);A(E)||0<E.l(w);)_-=I,C=l(_),E=C.j(v);T(C)&&(C=g),D=D.add(C),w=P(w,E)}return new H(D,w)}t.A=function(w){return G(this,w).h},t.and=function(w){for(var v=Math.max(this.g.length,w.g.length),_=[],I=0;I<v;I++)_[I]=this.i(I)&w.i(I);return new s(_,this.h&w.h)},t.or=function(w){for(var v=Math.max(this.g.length,w.g.length),_=[],I=0;I<v;I++)_[I]=this.i(I)|w.i(I);return new s(_,this.h|w.h)},t.xor=function(w){for(var v=Math.max(this.g.length,w.g.length),_=[],I=0;I<v;I++)_[I]=this.i(I)^w.i(I);return new s(_,this.h^w.h)};function Ce(w){for(var v=w.g.length+1,_=[],I=0;I<v;I++)_[I]=w.i(I)<<1|w.i(I-1)>>>31;return new s(_,w.h)}function se(w,v){var _=v>>5;v%=32;for(var I=w.g.length-_,D=[],C=0;C<I;C++)D[C]=0<v?w.i(C+_)>>>v|w.i(C+_+1)<<32-v:w.i(C+_);return new s(D,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,eE=JR.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Ir=JR.Integer=s}).apply(typeof YR<"u"?YR:typeof self<"u"?self:typeof window<"u"?window:{});var lf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wr={};var tE,X$,zs,nE,cu,df,rE,iE,oE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,d,f){return u==Array.prototype||u==Object.prototype||(u[d]=f.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof lf=="object"&&lf];for(var d=0;d<u.length;++d){var f=u[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(u,d){if(d)e:{var f=r;u=u.split(".");for(var m=0;m<u.length-1;m++){var b=u[m];if(!(b in f))break e;f=f[b]}u=u[u.length-1],m=f[u],d=d(m),d!=m&&d!=null&&e(f,u,{configurable:!0,writable:!0,value:d})}}function o(u,d){u instanceof String&&(u+="");var f=0,m=!1,b={next:function(){if(!m&&f<u.length){var R=f++;return{value:d(R,u[R]),done:!1}}return m=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(u){return u||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function c(u){var d=typeof u;return d=d!="object"?d:u?Array.isArray(u)?"array":d:"null",d=="array"||d=="object"&&typeof u.length=="number"}function l(u){var d=typeof u;return d=="object"&&u!=null||d=="function"}function h(u,d,f){return u.call.apply(u.bind,arguments)}function p(u,d,f){if(!u)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,m),u.apply(d,b)}}return function(){return u.apply(d,arguments)}}function g(u,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function y(u,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),u.apply(this,m)}}function T(u,d){function f(){}f.prototype=d.prototype,u.aa=d.prototype,u.prototype=new f,u.prototype.constructor=u,u.Qb=function(m,b,R){for(var O=Array(arguments.length-2),we=2;we<arguments.length;we++)O[we-2]=arguments[we];return d.prototype[b].apply(m,O)}}function A(u){let d=u.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=u[m];return f}return[]}function S(u,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(c(m)){let b=u.length||0,R=m.length||0;u.length=b+R;for(let O=0;O<R;O++)u[b+O]=m[O]}else u.push(m)}}class P{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function B(u){return/^[\s\xa0]*$/.test(u)}function H(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function G(u){return G[" "](u),u}G[" "]=function(){};var Ce=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function se(u,d,f){for(let m in u)d.call(f,u[m],m,u)}function w(u,d){for(let f in u)d.call(void 0,u[f],f,u)}function v(u){let d={};for(let f in u)d[f]=u[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,d){let f,m;for(let b=1;b<arguments.length;b++){m=arguments[b];for(f in m)u[f]=m[f];for(let R=0;R<_.length;R++)f=_[R],Object.prototype.hasOwnProperty.call(m,f)&&(u[f]=m[f])}}function D(u){var d=1;u=u.split(":");let f=[];for(;0<d&&u.length;)f.push(u.shift()),d--;return u.length&&f.push(u.join(":")),f}function C(u){a.setTimeout(()=>{throw u},0)}function E(){var u=Fp;let d=null;return u.g&&(d=u.g,u.g=u.g.next,u.g||(u.h=null),d.next=null),d}class tr{constructor(){this.h=this.g=null}add(d,f){let m=Ta.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var Ta=new P(()=>new Xk,u=>u.reset());class Xk{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Da,ba=!1,Fp=new tr,IT=()=>{let u=a.Promise.resolve(void 0);Da=()=>{u.then(eO)}};var eO=()=>{for(var u;u=E();){try{u.h.call(u.g)}catch(f){C(f)}var d=Ta;d.j(u),100>d.h&&(d.h++,u.next=d.g,d.g=u)}ba=!1};function kr(){this.s=this.s,this.C=this.C}kr.prototype.s=!1,kr.prototype.ma=function(){this.s||(this.s=!0,this.N())},kr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ut(u,d){this.type=u,this.g=this.target=d,this.defaultPrevented=!1}ut.prototype.h=function(){this.defaultPrevented=!0};var tO=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,d=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return u})();function Ca(u,d){if(ut.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var f=this.type=u.type,m=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=d,d=u.relatedTarget){if(Ce){e:{try{G(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=u.fromElement:f=="mouseout"&&(d=u.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:nO[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ca.aa.h.call(this)}}T(Ca,ut);var nO={2:"touch",3:"pen",4:"mouse"};Ca.prototype.h=function(){Ca.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Sa="closure_listenable_"+(1e6*Math.random()|0),rO=0;function iO(u,d,f,m,b){this.listener=u,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=b,this.key=++rO,this.da=this.fa=!1}function Hu(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function zu(u){this.src=u,this.g={},this.h=0}zu.prototype.add=function(u,d,f,m,b){var R=u.toString();u=this.g[R],u||(u=this.g[R]=[],this.h++);var O=jp(u,d,m,b);return-1<O?(d=u[O],f||(d.fa=!1)):(d=new iO(d,this.src,R,!!m,b),d.fa=f,u.push(d)),d};function Vp(u,d){var f=d.type;if(f in u.g){var m=u.g[f],b=Array.prototype.indexOf.call(m,d,void 0),R;(R=0<=b)&&Array.prototype.splice.call(m,b,1),R&&(Hu(d),u.g[f].length==0&&(delete u.g[f],u.h--))}}function jp(u,d,f,m){for(var b=0;b<u.length;++b){var R=u[b];if(!R.da&&R.listener==d&&R.capture==!!f&&R.ha==m)return b}return-1}var Up="closure_lm_"+(1e6*Math.random()|0),Bp={};function wT(u,d,f,m,b){if(m&&m.once)return DT(u,d,f,m,b);if(Array.isArray(d)){for(var R=0;R<d.length;R++)wT(u,d[R],f,m,b);return null}return f=qp(f),u&&u[Sa]?u.K(d,f,l(m)?!!m.capture:!!m,b):TT(u,d,f,!1,m,b)}function TT(u,d,f,m,b,R){if(!d)throw Error("Invalid event type");var O=l(b)?!!b.capture:!!b,we=Hp(u);if(we||(u[Up]=we=new zu(u)),f=we.add(d,f,m,O,R),f.proxy)return f;if(m=oO(),f.proxy=m,m.src=u,m.listener=f,u.addEventListener)tO||(b=O),b===void 0&&(b=!1),u.addEventListener(d.toString(),m,b);else if(u.attachEvent)u.attachEvent(CT(d.toString()),m);else if(u.addListener&&u.removeListener)u.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function oO(){function u(f){return d.call(u.src,u.listener,f)}let d=sO;return u}function DT(u,d,f,m,b){if(Array.isArray(d)){for(var R=0;R<d.length;R++)DT(u,d[R],f,m,b);return null}return f=qp(f),u&&u[Sa]?u.L(d,f,l(m)?!!m.capture:!!m,b):TT(u,d,f,!0,m,b)}function bT(u,d,f,m,b){if(Array.isArray(d))for(var R=0;R<d.length;R++)bT(u,d[R],f,m,b);else m=l(m)?!!m.capture:!!m,f=qp(f),u&&u[Sa]?(u=u.i,d=String(d).toString(),d in u.g&&(R=u.g[d],f=jp(R,f,m,b),-1<f&&(Hu(R[f]),Array.prototype.splice.call(R,f,1),R.length==0&&(delete u.g[d],u.h--)))):u&&(u=Hp(u))&&(d=u.g[d.toString()],u=-1,d&&(u=jp(d,f,m,b)),(f=-1<u?d[u]:null)&&$p(f))}function $p(u){if(typeof u!="number"&&u&&!u.da){var d=u.src;if(d&&d[Sa])Vp(d.i,u);else{var f=u.type,m=u.proxy;d.removeEventListener?d.removeEventListener(f,m,u.capture):d.detachEvent?d.detachEvent(CT(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=Hp(d))?(Vp(f,u),f.h==0&&(f.src=null,d[Up]=null)):Hu(u)}}}function CT(u){return u in Bp?Bp[u]:Bp[u]="on"+u}function sO(u,d){if(u.da)u=!0;else{d=new Ca(d,this);var f=u.listener,m=u.ha||u.src;u.fa&&$p(u),u=f.call(m,d)}return u}function Hp(u){return u=u[Up],u instanceof zu?u:null}var zp="__closure_events_fn_"+(1e9*Math.random()>>>0);function qp(u){return typeof u=="function"?u:(u[zp]||(u[zp]=function(d){return u.handleEvent(d)}),u[zp])}function lt(){kr.call(this),this.i=new zu(this),this.M=this,this.F=null}T(lt,kr),lt.prototype[Sa]=!0,lt.prototype.removeEventListener=function(u,d,f,m){bT(this,u,d,f,m)};function vt(u,d){var f,m=u.F;if(m)for(f=[];m;m=m.F)f.push(m);if(u=u.M,m=d.type||d,typeof d=="string")d=new ut(d,u);else if(d instanceof ut)d.target=d.target||u;else{var b=d;d=new ut(m,u),I(d,b)}if(b=!0,f)for(var R=f.length-1;0<=R;R--){var O=d.g=f[R];b=qu(O,m,!0,d)&&b}if(O=d.g=u,b=qu(O,m,!0,d)&&b,b=qu(O,m,!1,d)&&b,f)for(R=0;R<f.length;R++)O=d.g=f[R],b=qu(O,m,!1,d)&&b}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var u=this.i,d;for(d in u.g){for(var f=u.g[d],m=0;m<f.length;m++)Hu(f[m]);delete u.g[d],u.h--}}this.F=null},lt.prototype.K=function(u,d,f,m){return this.i.add(String(u),d,!1,f,m)},lt.prototype.L=function(u,d,f,m){return this.i.add(String(u),d,!0,f,m)};function qu(u,d,f,m){if(d=u.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,R=0;R<d.length;++R){var O=d[R];if(O&&!O.da&&O.capture==f){var we=O.listener,ot=O.ha||O.src;O.fa&&Vp(u.i,O),b=we.call(ot,m)!==!1&&b}}return b&&!m.defaultPrevented}function ST(u,d,f){if(typeof u=="function")f&&(u=g(u,f));else if(u&&typeof u.handleEvent=="function")u=g(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(u,d||0)}function AT(u){u.g=ST(()=>{u.g=null,u.i&&(u.i=!1,AT(u))},u.l);let d=u.h;u.h=null,u.m.apply(null,d)}class aO extends kr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:AT(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Aa(u){kr.call(this),this.h=u,this.g={}}T(Aa,kr);var RT=[];function NT(u){se(u.g,function(d,f){this.g.hasOwnProperty(f)&&$p(d)},u),u.g={}}Aa.prototype.N=function(){Aa.aa.N.call(this),NT(this)},Aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gp=a.JSON.stringify,cO=a.JSON.parse,uO=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Wp(){}Wp.prototype.h=null;function MT(u){return u.h||(u.h=u.i())}function PT(){}var Ra={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kp(){ut.call(this,"d")}T(Kp,ut);function Qp(){ut.call(this,"c")}T(Qp,ut);var ki={},kT=null;function Gu(){return kT=kT||new lt}ki.La="serverreachability";function OT(u){ut.call(this,ki.La,u)}T(OT,ut);function Na(u){let d=Gu();vt(d,new OT(d))}ki.STAT_EVENT="statevent";function xT(u,d){ut.call(this,ki.STAT_EVENT,u),this.stat=d}T(xT,ut);function _t(u){let d=Gu();vt(d,new xT(d,u))}ki.Ma="timingevent";function LT(u,d){ut.call(this,ki.Ma,u),this.size=d}T(LT,ut);function Ma(u,d){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},d)}function Pa(){this.g=!0}Pa.prototype.xa=function(){this.g=!1};function lO(u,d,f,m,b,R){u.info(function(){if(u.g)if(R)for(var O="",we=R.split("&"),ot=0;ot<we.length;ot++){var pe=we[ot].split("=");if(1<pe.length){var dt=pe[0];pe=pe[1];var ht=dt.split("_");O=2<=ht.length&&ht[1]=="type"?O+(dt+"="+pe+"&"):O+(dt+"=redacted&")}}else O=null;else O=R;return"XMLHTTP REQ ("+m+") [attempt "+b+"]: "+d+`
`+f+`
`+O})}function dO(u,d,f,m,b,R,O){u.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+b+"]: "+d+`
`+f+`
`+R+" "+O})}function zo(u,d,f,m){u.info(function(){return"XMLHTTP TEXT ("+d+"): "+fO(u,f)+(m?" "+m:"")})}function hO(u,d){u.info(function(){return"TIMEOUT: "+d})}Pa.prototype.info=function(){};function fO(u,d){if(!u.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(u=0;u<f.length;u++)if(Array.isArray(f[u])){var m=f[u];if(!(2>m.length)){var b=m[1];if(Array.isArray(b)&&!(1>b.length)){var R=b[0];if(R!="noop"&&R!="stop"&&R!="close")for(var O=1;O<b.length;O++)b[O]=""}}}}return Gp(f)}catch{return d}}var Wu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},FT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yp;function Ku(){}T(Ku,Wp),Ku.prototype.g=function(){return new XMLHttpRequest},Ku.prototype.i=function(){return{}},Yp=new Ku;function Or(u,d,f,m){this.j=u,this.i=d,this.l=f,this.R=m||1,this.U=new Aa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new VT}function VT(){this.i=null,this.g="",this.h=!1}var jT={},Jp={};function Zp(u,d,f){u.L=1,u.v=Zu(nr(d)),u.m=f,u.P=!0,UT(u,null)}function UT(u,d){u.F=Date.now(),Qu(u),u.A=nr(u.v);var f=u.A,m=u.R;Array.isArray(m)||(m=[String(m)]),eD(f.i,"t",m),u.C=0,f=u.j.J,u.h=new VT,u.g=vD(u.j,f?d:null,!u.m),0<u.O&&(u.M=new aO(g(u.Y,u,u.g),u.O)),d=u.U,f=u.g,m=u.ca;var b="readystatechange";Array.isArray(b)||(b&&(RT[0]=b.toString()),b=RT);for(var R=0;R<b.length;R++){var O=wT(f,b[R],m||d.handleEvent,!1,d.h||d);if(!O)break;d.g[O.key]=O}d=u.H?v(u.H):{},u.m?(u.u||(u.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,d)):(u.u="GET",u.g.ea(u.A,u.u,null,d)),Na(),lO(u.i,u.u,u.A,u.l,u.R,u.m)}Or.prototype.ca=function(u){u=u.target;let d=this.M;d&&rr(u)==3?d.j():this.Y(u)},Or.prototype.Y=function(u){try{if(u==this.g)e:{let ht=rr(this.g);var d=this.g.Ba();let Wo=this.g.Z();if(!(3>ht)&&(ht!=3||this.g&&(this.h.h||this.g.oa()||aD(this.g)))){this.J||ht!=4||d==7||(d==8||0>=Wo?Na(3):Na(2)),Xp(this);var f=this.g.Z();this.X=f;t:if(BT(this)){var m=aD(this.g);u="";var b=m.length,R=rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Oi(this),ka(this);var O="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,u+=this.h.i.decode(m[d],{stream:!(R&&d==b-1)});m.length=0,this.h.g+=u,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=f==200,dO(this.i,this.u,this.A,this.l,this.R,ht,f),this.o){if(this.T&&!this.K){t:{if(this.g){var we,ot=this.g;if((we=ot.g?ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(we)){var pe=we;break t}}pe=null}if(f=pe)zo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,eg(this,f);else{this.o=!1,this.s=3,_t(12),Oi(this),ka(this);break e}}if(this.P){f=!0;let sn;for(;!this.J&&this.C<O.length;)if(sn=pO(this,O),sn==Jp){ht==4&&(this.s=4,_t(14),f=!1),zo(this.i,this.l,null,"[Incomplete Response]");break}else if(sn==jT){this.s=4,_t(15),zo(this.i,this.l,O,"[Invalid Chunk]"),f=!1;break}else zo(this.i,this.l,sn,null),eg(this,sn);if(BT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||O.length!=0||this.h.h||(this.s=1,_t(16),f=!1),this.o=this.o&&f,!f)zo(this.i,this.l,O,"[Invalid Chunked Response]"),Oi(this),ka(this);else if(0<O.length&&!this.W){this.W=!0;var dt=this.j;dt.g==this&&dt.ba&&!dt.M&&(dt.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),sg(dt),dt.M=!0,_t(11))}}else zo(this.i,this.l,O,null),eg(this,O);ht==4&&Oi(this),this.o&&!this.J&&(ht==4?pD(this.j,this):(this.o=!1,Qu(this)))}else MO(this.g),f==400&&0<O.indexOf("Unknown SID")?(this.s=3,_t(12)):(this.s=0,_t(13)),Oi(this),ka(this)}}}catch{}finally{}};function BT(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function pO(u,d){var f=u.C,m=d.indexOf(`
`,f);return m==-1?Jp:(f=Number(d.substring(f,m)),isNaN(f)?jT:(m+=1,m+f>d.length?Jp:(d=d.slice(m,m+f),u.C=m+f,d)))}Or.prototype.cancel=function(){this.J=!0,Oi(this)};function Qu(u){u.S=Date.now()+u.I,$T(u,u.I)}function $T(u,d){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ma(g(u.ba,u),d)}function Xp(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Or.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(hO(this.i,this.A),this.L!=2&&(Na(),_t(17)),Oi(this),this.s=2,ka(this)):$T(this,this.S-u)};function ka(u){u.j.G==0||u.J||pD(u.j,u)}function Oi(u){Xp(u);var d=u.M;d&&typeof d.ma=="function"&&d.ma(),u.M=null,NT(u.U),u.g&&(d=u.g,u.g=null,d.abort(),d.ma())}function eg(u,d){try{var f=u.j;if(f.G!=0&&(f.g==u||tg(f.h,u))){if(!u.K&&tg(f.h,u)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var b=m;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<u.F)rl(f),tl(f);else break e;og(f),_t(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ma(g(f.Za,f),6e3));if(1>=qT(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Li(f,11)}else if((u.K||f.g==u)&&rl(f),!B(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let pe=b[d];if(f.T=pe[0],pe=pe[1],f.G==2)if(pe[0]=="c"){f.K=pe[1],f.ia=pe[2];let dt=pe[3];dt!=null&&(f.la=dt,f.j.info("VER="+f.la));let ht=pe[4];ht!=null&&(f.Aa=ht,f.j.info("SVER="+f.Aa));let Wo=pe[5];Wo!=null&&typeof Wo=="number"&&0<Wo&&(m=1.5*Wo,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let sn=u.g;if(sn){let ol=sn.g?sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ol){var R=m.h;R.g||ol.indexOf("spdy")==-1&&ol.indexOf("quic")==-1&&ol.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&(ng(R,R.h),R.h=null))}if(m.D){let ag=sn.g?sn.g.getResponseHeader("X-HTTP-Session-Id"):null;ag&&(m.ya=ag,De(m.I,m.D,ag))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-u.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var O=u;if(m.qa=yD(m,m.J?m.ia:null,m.W),O.K){GT(m.h,O);var we=O,ot=m.L;ot&&(we.I=ot),we.B&&(Xp(we),Qu(we)),m.g=O}else hD(m);0<f.i.length&&nl(f)}else pe[0]!="stop"&&pe[0]!="close"||Li(f,7);else f.G==3&&(pe[0]=="stop"||pe[0]=="close"?pe[0]=="stop"?Li(f,7):ig(f):pe[0]!="noop"&&f.l&&f.l.ta(pe),f.v=0)}}Na(4)}catch{}}var gO=class{constructor(u,d){this.g=u,this.map=d}};function HT(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zT(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function qT(u){return u.h?1:u.g?u.g.size:0}function tg(u,d){return u.h?u.h==d:u.g?u.g.has(d):!1}function ng(u,d){u.g?u.g.add(d):u.h=d}function GT(u,d){u.h&&u.h==d?u.h=null:u.g&&u.g.has(d)&&u.g.delete(d)}HT.prototype.cancel=function(){if(this.i=WT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function WT(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let d=u.i;for(let f of u.g.values())d=d.concat(f.D);return d}return A(u.i)}function mO(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var d=[],f=u.length,m=0;m<f;m++)d.push(u[m]);return d}d=[],f=0;for(m in u)d[f++]=u[m];return d}function yO(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var d=[];u=u.length;for(var f=0;f<u;f++)d.push(f);return d}d=[],f=0;for(let m in u)d[f++]=m;return d}}}function KT(u,d){if(u.forEach&&typeof u.forEach=="function")u.forEach(d,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,d,void 0);else for(var f=yO(u),m=mO(u),b=m.length,R=0;R<b;R++)d.call(void 0,m[R],f&&f[R],u)}var QT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vO(u,d){if(u){u=u.split("&");for(var f=0;f<u.length;f++){var m=u[f].indexOf("="),b=null;if(0<=m){var R=u[f].substring(0,m);b=u[f].substring(m+1)}else R=u[f];d(R,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function xi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof xi){this.h=u.h,Yu(this,u.j),this.o=u.o,this.g=u.g,Ju(this,u.s),this.l=u.l;var d=u.i,f=new La;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),YT(this,f),this.m=u.m}else u&&(d=String(u).match(QT))?(this.h=!1,Yu(this,d[1]||"",!0),this.o=Oa(d[2]||""),this.g=Oa(d[3]||"",!0),Ju(this,d[4]),this.l=Oa(d[5]||"",!0),YT(this,d[6]||"",!0),this.m=Oa(d[7]||"")):(this.h=!1,this.i=new La(null,this.h))}xi.prototype.toString=function(){var u=[],d=this.j;d&&u.push(xa(d,JT,!0),":");var f=this.g;return(f||d=="file")&&(u.push("//"),(d=this.o)&&u.push(xa(d,JT,!0),"@"),u.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&u.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&u.push("/"),u.push(xa(f,f.charAt(0)=="/"?IO:EO,!0))),(f=this.i.toString())&&u.push("?",f),(f=this.m)&&u.push("#",xa(f,TO)),u.join("")};function nr(u){return new xi(u)}function Yu(u,d,f){u.j=f?Oa(d,!0):d,u.j&&(u.j=u.j.replace(/:$/,""))}function Ju(u,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);u.s=d}else u.s=null}function YT(u,d,f){d instanceof La?(u.i=d,DO(u.i,u.h)):(f||(d=xa(d,wO)),u.i=new La(d,u.h))}function De(u,d,f){u.i.set(d,f)}function Zu(u){return De(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Oa(u,d){return u?d?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function xa(u,d,f){return typeof u=="string"?(u=encodeURI(u).replace(d,_O),f&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function _O(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var JT=/[#\/\?@]/g,EO=/[#\?:]/g,IO=/[#\?]/g,wO=/[#\?@]/g,TO=/#/g;function La(u,d){this.h=this.g=null,this.i=u||null,this.j=!!d}function xr(u){u.g||(u.g=new Map,u.h=0,u.i&&vO(u.i,function(d,f){u.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=La.prototype,t.add=function(u,d){xr(this),this.i=null,u=qo(this,u);var f=this.g.get(u);return f||this.g.set(u,f=[]),f.push(d),this.h+=1,this};function ZT(u,d){xr(u),d=qo(u,d),u.g.has(d)&&(u.i=null,u.h-=u.g.get(d).length,u.g.delete(d))}function XT(u,d){return xr(u),d=qo(u,d),u.g.has(d)}t.forEach=function(u,d){xr(this),this.g.forEach(function(f,m){f.forEach(function(b){u.call(d,b,m,this)},this)},this)},t.na=function(){xr(this);let u=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let b=u[m];for(let R=0;R<b.length;R++)f.push(d[m])}return f},t.V=function(u){xr(this);let d=[];if(typeof u=="string")XT(this,u)&&(d=d.concat(this.g.get(qo(this,u))));else{u=Array.from(this.g.values());for(let f=0;f<u.length;f++)d=d.concat(u[f])}return d},t.set=function(u,d){return xr(this),this.i=null,u=qo(this,u),XT(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[d]),this.h+=1,this},t.get=function(u,d){return u?(u=this.V(u),0<u.length?String(u[0]):d):d};function eD(u,d,f){ZT(u,d),0<f.length&&(u.i=null,u.g.set(qo(u,d),A(f)),u.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let R=encodeURIComponent(String(m)),O=this.V(m);for(m=0;m<O.length;m++){var b=R;O[m]!==""&&(b+="="+encodeURIComponent(String(O[m]))),u.push(b)}}return this.i=u.join("&")};function qo(u,d){return d=String(d),u.j&&(d=d.toLowerCase()),d}function DO(u,d){d&&!u.j&&(xr(u),u.i=null,u.g.forEach(function(f,m){var b=m.toLowerCase();m!=b&&(ZT(this,m),eD(this,b,f))},u)),u.j=d}function bO(u,d){let f=new Pa;if(a.Image){let m=new Image;m.onload=y(Lr,f,"TestLoadImage: loaded",!0,d,m),m.onerror=y(Lr,f,"TestLoadImage: error",!1,d,m),m.onabort=y(Lr,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=y(Lr,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=u}else d(!1)}function CO(u,d){let f=new Pa,m=new AbortController,b=setTimeout(()=>{m.abort(),Lr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(u,{signal:m.signal}).then(R=>{clearTimeout(b),R.ok?Lr(f,"TestPingServer: ok",!0,d):Lr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),Lr(f,"TestPingServer: error",!1,d)})}function Lr(u,d,f,m,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),m(f)}catch{}}function SO(){this.g=new uO}function AO(u,d,f){let m=f||"";try{KT(u,function(b,R){let O=b;l(b)&&(O=Gp(b)),d.push(m+R+"="+encodeURIComponent(O))})}catch(b){throw d.push(m+"type="+encodeURIComponent("_badmap")),b}}function Fa(u){this.l=u.Ub||null,this.j=u.eb||!1}T(Fa,Wp),Fa.prototype.g=function(){return new Xu(this.l,this.j)},Fa.prototype.i=(function(u){return function(){return u}})({});function Xu(u,d){lt.call(this),this.D=u,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Xu,lt),t=Xu.prototype,t.open=function(u,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=d,this.readyState=1,ja(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(d.body=u),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Va(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ja(this)),this.g&&(this.readyState=3,ja(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tD(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function tD(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var d=u.value?u.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!u.done}))&&(this.response=this.responseText+=d)}u.done?Va(this):ja(this),this.readyState==3&&tD(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Va(this))},t.Qa=function(u){this.g&&(this.response=u,Va(this))},t.ga=function(){this.g&&Va(this)};function Va(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ja(u)}t.setRequestHeader=function(u,d){this.u.append(u,d)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,u.push(f[0]+": "+f[1]),f=d.next();return u.join(`\r
`)};function ja(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Xu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function nD(u){let d="";return se(u,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function rg(u,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=nD(f),typeof u=="string"?f!=null&&encodeURIComponent(String(f)):De(u,d,f))}function Me(u){lt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Me,lt);var RO=/^https?$/i,NO=["POST","PUT"];t=Me.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);d=d?d.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yp.g(),this.v=this.o?MT(this.o):MT(Yp),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(u),!0),this.B=!1}catch(R){rD(this,R);return}if(u=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var b in m)f.set(b,m[b]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let R of m.keys())f.set(R,m.get(R));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(R=>R.toLowerCase()=="content-type"),b=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(NO,d,void 0))||m||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[R,O]of f)this.g.setRequestHeader(R,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sD(this),this.u=!0,this.g.send(u),this.u=!1}catch(R){rD(this,R)}};function rD(u,d){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=d,u.m=5,iD(u),el(u)}function iD(u){u.A||(u.A=!0,vt(u,"complete"),vt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,vt(this,"complete"),vt(this,"abort"),el(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),el(this,!0)),Me.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?oD(this):this.bb())},t.bb=function(){oD(this)};function oD(u){if(u.h&&typeof s<"u"&&(!u.v[1]||rr(u)!=4||u.Z()!=2)){if(u.u&&rr(u)==4)ST(u.Ea,0,u);else if(vt(u,"readystatechange"),rr(u)==4){u.h=!1;try{let O=u.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=O===0){var b=String(u.D).match(QT)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),m=!RO.test(b?b.toLowerCase():"")}f=m}if(f)vt(u,"complete"),vt(u,"success");else{u.m=6;try{var R=2<rr(u)?u.g.statusText:""}catch{R=""}u.l=R+" ["+u.Z()+"]",iD(u)}}finally{el(u)}}}}function el(u,d){if(u.g){sD(u);let f=u.g,m=u.v[0]?()=>{}:null;u.g=null,u.v=null,d||vt(u,"ready");try{f.onreadystatechange=m}catch{}}}function sD(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function rr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<rr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var d=this.g.responseText;return u&&d.indexOf(u)==0&&(d=d.substring(u.length)),cO(d)}};function aD(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function MO(u){let d={};u=(u.g&&2<=rr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<u.length;m++){if(B(u[m]))continue;var f=D(u[m]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let R=d[b]||[];d[b]=R,R.push(f)}w(d,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ua(u,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[u]||d}function cD(u){this.Aa=0,this.i=[],this.j=new Pa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ua("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ua("baseRetryDelayMs",5e3,u),this.cb=Ua("retryDelaySeedMs",1e4,u),this.Wa=Ua("forwardChannelMaxRetries",2,u),this.wa=Ua("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new HT(u&&u.concurrentRequestLimit),this.Da=new SO,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=cD.prototype,t.la=8,t.G=1,t.connect=function(u,d,f,m){_t(0),this.W=u,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=yD(this,null,this.W),nl(this)};function ig(u){if(uD(u),u.G==3){var d=u.U++,f=nr(u.I);if(De(f,"SID",u.K),De(f,"RID",d),De(f,"TYPE","terminate"),Ba(u,f),d=new Or(u,u.j,d),d.L=2,d.v=Zu(nr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=vD(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Qu(d)}mD(u)}function tl(u){u.g&&(sg(u),u.g.cancel(),u.g=null)}function uD(u){tl(u),u.u&&(a.clearTimeout(u.u),u.u=null),rl(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function nl(u){if(!zT(u.h)&&!u.s){u.s=!0;var d=u.Ga;Da||IT(),ba||(Da(),ba=!0),Fp.add(d,u),u.B=0}}function PO(u,d){return qT(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=d.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ma(g(u.Ga,u,d),gD(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let b=new Or(this,this.j,u),R=this.o;if(this.S&&(R?(R=v(R),I(R,this.S)):R=this.S),this.m!==null||this.O||(b.H=R,R=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=dD(this,b,d),f=nr(this.I),De(f,"RID",u),De(f,"CVER",22),this.D&&De(f,"X-HTTP-Session-Id",this.D),Ba(this,f),R&&(this.O?d="headers="+encodeURIComponent(String(nD(R)))+"&"+d:this.m&&rg(f,this.m,R)),ng(this.h,b),this.Ua&&De(f,"TYPE","init"),this.P?(De(f,"$req",d),De(f,"SID","null"),b.T=!0,Zp(b,f,null)):Zp(b,f,d),this.G=2}}else this.G==3&&(u?lD(this,u):this.i.length==0||zT(this.h)||lD(this))};function lD(u,d){var f;d?f=d.l:f=u.U++;let m=nr(u.I);De(m,"SID",u.K),De(m,"RID",f),De(m,"AID",u.T),Ba(u,m),u.m&&u.o&&rg(m,u.m,u.o),f=new Or(u,u.j,f,u.B+1),u.m===null&&(f.H=u.o),d&&(u.i=d.D.concat(u.i)),d=dD(u,f,1e3),f.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ng(u.h,f),Zp(f,m,d)}function Ba(u,d){u.H&&se(u.H,function(f,m){De(d,m,f)}),u.l&&KT({},function(f,m){De(d,m,f)})}function dD(u,d,f){f=Math.min(u.i.length,f);var m=u.l?g(u.l.Na,u.l,u):null;e:{var b=u.i;let R=-1;for(;;){let O=["count="+f];R==-1?0<f?(R=b[0].g,O.push("ofs="+R)):R=0:O.push("ofs="+R);let we=!0;for(let ot=0;ot<f;ot++){let pe=b[ot].g,dt=b[ot].map;if(pe-=R,0>pe)R=Math.max(0,b[ot].g-100),we=!1;else try{AO(dt,O,"req"+pe+"_")}catch{m&&m(dt)}}if(we){m=O.join("&");break e}}}return u=u.i.splice(0,f),d.D=u,m}function hD(u){if(!u.g&&!u.u){u.Y=1;var d=u.Fa;Da||IT(),ba||(Da(),ba=!0),Fp.add(d,u),u.v=0}}function og(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ma(g(u.Fa,u),gD(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,fD(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ma(g(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_t(10),tl(this),fD(this))};function sg(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function fD(u){u.g=new Or(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var d=nr(u.qa);De(d,"RID","rpc"),De(d,"SID",u.K),De(d,"AID",u.T),De(d,"CI",u.F?"0":"1"),!u.F&&u.ja&&De(d,"TO",u.ja),De(d,"TYPE","xmlhttp"),Ba(u,d),u.m&&u.o&&rg(d,u.m,u.o),u.L&&(u.g.I=u.L);var f=u.g;u=u.ia,f.L=1,f.v=Zu(nr(d)),f.m=null,f.P=!0,UT(f,u)}t.Za=function(){this.C!=null&&(this.C=null,tl(this),og(this),_t(19))};function rl(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function pD(u,d){var f=null;if(u.g==d){rl(u),sg(u),u.g=null;var m=2}else if(tg(u.h,d))f=d.D,GT(u.h,d),m=1;else return;if(u.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=u.B;m=Gu(),vt(m,new LT(m,f)),nl(u)}else hD(u);else if(b=d.s,b==3||b==0&&0<d.X||!(m==1&&PO(u,d)||m==2&&og(u)))switch(f&&0<f.length&&(d=u.h,d.i=d.i.concat(f)),b){case 1:Li(u,5);break;case 4:Li(u,10);break;case 3:Li(u,6);break;default:Li(u,2)}}}function gD(u,d){let f=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(f*=2),f*d}function Li(u,d){if(u.j.info("Error code "+d),d==2){var f=g(u.fb,u),m=u.Xa;let b=!m;m=new xi(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Yu(m,"https"),Zu(m),b?bO(m.toString(),f):CO(m.toString(),f)}else _t(2);u.G=0,u.l&&u.l.sa(d),mD(u),uD(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function mD(u){if(u.G=0,u.ka=[],u.l){let d=WT(u.h);(d.length!=0||u.i.length!=0)&&(S(u.ka,d),S(u.ka,u.i),u.h.i.length=0,A(u.i),u.i.length=0),u.l.ra()}}function yD(u,d,f){var m=f instanceof xi?nr(f):new xi(f);if(m.g!="")d&&(m.g=d+"."+m.g),Ju(m,m.s);else{var b=a.location;m=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var R=new xi(null);m&&Yu(R,m),d&&(R.g=d),b&&Ju(R,b),f&&(R.l=f),m=R}return f=u.D,d=u.ya,f&&d&&De(m,f,d),De(m,"VER",u.la),Ba(u,m),m}function vD(u,d,f){if(d&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=u.Ca&&!u.pa?new Me(new Fa({eb:f})):new Me(u.pa),d.Ha(u.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function _D(){}t=_D.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function il(){}il.prototype.g=function(u,d){return new kt(u,d)};function kt(u,d){lt.call(this),this.g=new cD(d),this.l=u,this.h=d&&d.messageUrlParams||null,u=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(u?u["X-WebChannel-Content-Type"]=d.messageContentType:u={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(u?u["X-WebChannel-Client-Profile"]=d.va:u={"X-WebChannel-Client-Profile":d.va}),this.g.S=u,(u=d&&d.Sb)&&!B(u)&&(this.g.m=u),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!B(d)&&(this.g.D=d,u=this.h,u!==null&&d in u&&(u=this.h,d in u&&delete u[d])),this.j=new Go(this)}T(kt,lt),kt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kt.prototype.close=function(){ig(this.g)},kt.prototype.o=function(u){var d=this.g;if(typeof u=="string"){var f={};f.__data__=u,u=f}else this.u&&(f={},f.__data__=Gp(u),u=f);d.i.push(new gO(d.Ya++,u)),d.G==3&&nl(d)},kt.prototype.N=function(){this.g.l=null,delete this.j,ig(this.g),delete this.g,kt.aa.N.call(this)};function ED(u){Kp.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var d=u.__sm__;if(d){e:{for(let f in d){u=f;break e}u=void 0}(this.i=u)&&(u=this.i,d=d!==null&&u in d?d[u]:void 0),this.data=d}else this.data=u}T(ED,Kp);function ID(){Qp.call(this),this.status=1}T(ID,Qp);function Go(u){this.g=u}T(Go,_D),Go.prototype.ua=function(){vt(this.g,"a")},Go.prototype.ta=function(u){vt(this.g,new ED(u))},Go.prototype.sa=function(u){vt(this.g,new ID)},Go.prototype.ra=function(){vt(this.g,"b")},il.prototype.createWebChannel=il.prototype.g,kt.prototype.send=kt.prototype.o,kt.prototype.open=kt.prototype.m,kt.prototype.close=kt.prototype.close,oE=wr.createWebChannelTransport=function(){return new il},iE=wr.getStatEventTarget=function(){return Gu()},rE=wr.Event=ki,df=wr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Wu.NO_ERROR=0,Wu.TIMEOUT=8,Wu.HTTP_ERROR=6,cu=wr.ErrorCode=Wu,FT.COMPLETE="complete",nE=wr.EventType=FT,PT.EventType=Ra,Ra.OPEN="a",Ra.CLOSE="b",Ra.ERROR="c",Ra.MESSAGE="d",lt.prototype.listen=lt.prototype.K,zs=wr.WebChannel=PT,X$=wr.FetchXmlHttpFactory=Fa,Me.prototype.listenOnce=Me.prototype.L,Me.prototype.getLastError=Me.prototype.Ka,Me.prototype.getLastErrorCode=Me.prototype.Ba,Me.prototype.getStatus=Me.prototype.Z,Me.prototype.getResponseJson=Me.prototype.Oa,Me.prototype.getResponseText=Me.prototype.oa,Me.prototype.send=Me.prototype.ea,Me.prototype.setWithCredentials=Me.prototype.Ha,tE=wr.XhrIo=Me}).apply(typeof lf<"u"?lf:typeof self<"u"?self:typeof window<"u"?window:{});var ZR="@firebase/firestore",XR="4.8.0";var rt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};rt.UNAUTHENTICATED=new rt(null),rt.GOOGLE_CREDENTIALS=new rt("google-credentials-uid"),rt.FIRST_PARTY=new rt("first-party-uid"),rt.MOCK_USER=new rt("mock-user");var fa="11.10.0";var No=new zn("@firebase/firestore");function qs(){return No.logLevel}function U(t,...e){if(No.logLevel<=ae.DEBUG){let n=e.map(QI);No.debug(`Firestore (${fa}): ${t}`,...n)}}function Tr(t,...e){if(No.logLevel<=ae.ERROR){let n=e.map(QI);No.error(`Firestore (${fa}): ${t}`,...n)}}function vi(t,...e){if(No.logLevel<=ae.WARN){let n=e.map(QI);No.warn(`Firestore (${fa}): ${t}`,...n)}}function QI(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function W(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,qN(t,r,n)}function qN(t,e,n){let r=`FIRESTORE (${fa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Tr(r),new Error(r)}function ve(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||qN(e,i,r)}function te(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends Bt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Gn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var vf=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},lE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(rt.UNAUTHENTICATED))}shutdown(){}},dE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},hE=class{constructor(e){this.t=e,this.currentUser=rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ve(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),o=new Gn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Gn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Gn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ve(typeof r.accessToken=="string",31837,{l:r}),new vf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ve(e===null||typeof e=="string",2055,{h:e}),new rt(e)}},fE=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=rt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},pE=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new fE(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},_f=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},gE=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ve(this.o===void 0,3512);let r=o=>{o.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,U("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new _f(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ve(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new _f(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function eH(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function GN(){return new TextEncoder}var pu=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=eH(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function oe(t,e){return t<e?-1:t>e?1:0}function mE(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return oe(r,i);{let o=GN(),s=tH(o.encode(eN(t,n)),o.encode(eN(e,n)));return s!==0?s:oe(r,i)}}n+=r>65535?2:1}return oe(t.length,e.length)}function eN(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function tH(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return oe(t[n],e[n]);return oe(t.length,e.length)}function Xs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var tN="__name__",Ef=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&W(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&W(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return oe(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):mE(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ir.fromString(e.substring(4,e.length-2))}},Re=class t extends Ef{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new L(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},nH=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ht=class t extends Ef{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return nH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tN}static keyField(){return new t([tN])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new L(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new L(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new L(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new L(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var q=class t{constructor(e){this.path=e}static fromPath(e){return new t(Re.fromString(e))}static fromName(e){return new t(Re.fromString(e).popFirst(5))}static empty(){return new t(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Re.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Re(e.slice()))}};function WN(t,e,n){if(!n)throw new L(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rH(t,e,n,r){if(e===!0&&r===!0)throw new L(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function nN(t){if(!q.isDocumentKey(t))throw new L(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function rN(t){if(q.isDocumentKey(t))throw new L(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function KN(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function tp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":W(12329,{type:typeof t})}function rn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=tp(t);throw new L(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Ge(t,e){let n={typeString:t};return e&&(n.value=e),n}function bu(t,e){if(!KN(t))throw new L(M.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new L(M.INVALID_ARGUMENT,n);return!0}var iN=-62135596800,oN=1e6,We=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*oN);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<iN)throw new L(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/oN}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bu(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-iN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};We._jsonSchemaVersion="firestore/timestamp/1.0",We._jsonSchema={type:Ge("string",We._jsonSchemaVersion),seconds:Ge("number"),nanoseconds:Ge("number")};var re=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new We(0,0))}static max(){return new t(new We(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var gu=-1,yE=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};yE.UNKNOWN_ID=-1;function iH(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=re.fromTimestamp(r===1e9?new We(n+1,0):new We(n,r));return new Mo(i,q.empty(),e)}function oH(t){return new Mo(t.readTime,t.key,gu)}var Mo=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(re.min(),q.empty(),gu)}static max(){return new t(re.max(),q.empty(),gu)}};function sH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=q.comparator(t.documentKey,e.documentKey),n!==0?n:oe(t.largestBatchId,e.largestBatchId))}var aH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",vE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function pa(t){if(t.code!==M.FAILED_PRECONDITION||t.message!==aH)throw t;U("LocalStore","Unexpectedly lost primary lease")}var k=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&W(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let l=c;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function cH(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ga(t){return t.name==="IndexedDbTransactionError"}var YI=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ae&&this.ae(n),n}}t.ue=-1;return t})(),JI=-1;function np(t){return t==null}function mu(t){return t===0&&1/t==-1/0}function uH(t){return typeof t=="number"&&Number.isInteger(t)&&!mu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var QN="";function lH(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=sN(e)),e=dH(t.get(n),e);return sN(e)}function dH(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case QN:n+="";break;default:n+=o}}return n}function sN(t){return t+QN+""}var hH="remoteDocuments",YN="owner";var JN="mutationQueues";var ZN="mutations";var XN="documentMutations",fH="remoteDocumentsV14";var eM="remoteDocumentGlobal";var tM="targets";var nM="targetDocuments";var rM="targetGlobal",iM="collectionParents";var oM="clientMetadata";var sM="bundles";var aM="namedQueries";var pH="indexConfiguration";var gH="indexState";var mH="indexEntries";var cM="documentOverlays";var yH="globals";var vH=[JN,ZN,XN,hH,tM,YN,rM,nM,oM,eM,iM,sM,aM],Foe=[...vH,cM],_H=[JN,ZN,XN,fH,tM,YN,rM,nM,oM,eM,iM,sM,aM,cM],EH=_H,IH=[...EH,pH,gH,mH];var Voe=[...IH,yH];function aN(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Di(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function uM(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var je=class t{constructor(e,n){this.comparator=e,this.root=n||Wn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qs(this.root,e,this.comparator,!0)}},Qs=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Wn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw W(43730,{key:this.key,value:this.value});if(this.right.isRed())throw W(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw W(27949);return e+(this.isRed()?0:1)}};Wn.EMPTY=null,Wn.RED=!0,Wn.BLACK=!1;Wn.EMPTY=new class{constructor(){this.size=0}get key(){throw W(57766)}get value(){throw W(16141)}get color(){throw W(16727)}get left(){throw W(29726)}get right(){throw W(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Wn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var it=class t{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new If(this.data.getIterator())}getIteratorFrom(e){return new If(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},If=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var nn=class t{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new t([])}unionWith(e){let n=new it(Ht.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var wf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var yt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new wf("Invalid base64 string: "+o):o}})(e);return new t(n)}static fromUint8Array(e){let n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};yt.EMPTY_BYTE_STRING=new yt("");var wH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dr(t){if(ve(!!t,39018),typeof t=="string"){let e=0,n=wH.exec(t);if(ve(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ae(t.seconds),nanos:Ae(t.nanos)}}function Ae(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function br(t){return typeof t=="string"?yt.fromBase64String(t):yt.fromUint8Array(t)}var lM="server_timestamp",dM="__type__",hM="__previous_value__",fM="__local_write_time__";function ZI(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[dM])===null||n===void 0?void 0:n.stringValue)===lM}function rp(t){let e=t.mapValue.fields[hM];return ZI(e)?rp(e):e}function yu(t){let e=Dr(t.mapValue.fields[fM].timestampValue);return new We(e.seconds,e.nanos)}var _E=class{constructor(e,n,r,i,o,s,a,c,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l,this.isUsingEmulator=h}},Tf="(default)",Df=class t{constructor(e,n){this.projectId=e,this.database=n||Tf}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===Tf}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var XI="__type__",pM="__max__",hf={mapValue:{fields:{__type__:{stringValue:pM}}}},ew="__vector__",ea="value";function _i(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ZI(t)?4:mM(t)?9007199254740991:gM(t)?10:11:W(28295,{value:t})}function Jn(t,e){if(t===e)return!0;let n=_i(t);if(n!==_i(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yu(t).isEqual(yu(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Dr(i.timestampValue),a=Dr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return br(i.bytesValue).isEqual(br(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return Ae(i.geoPointValue.latitude)===Ae(o.geoPointValue.latitude)&&Ae(i.geoPointValue.longitude)===Ae(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Ae(i.integerValue)===Ae(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ae(i.doubleValue),a=Ae(o.doubleValue);return s===a?mu(s)===mu(a):isNaN(s)&&isNaN(a)}return!1})(t,e);case 9:return Xs(t.arrayValue.values||[],e.arrayValue.values||[],Jn);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(aN(s)!==aN(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Jn(s[c],a[c])))return!1;return!0})(t,e);default:return W(52216,{left:t})}}function vu(t,e){return(t.values||[]).find(n=>Jn(n,e))!==void 0}function ta(t,e){if(t===e)return 0;let n=_i(t),r=_i(e);if(n!==r)return oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return oe(t.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=Ae(o.integerValue||o.doubleValue),c=Ae(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1})(t,e);case 3:return cN(t.timestampValue,e.timestampValue);case 4:return cN(yu(t),yu(e));case 5:return mE(t.stringValue,e.stringValue);case 6:return(function(o,s){let a=br(o),c=br(s);return a.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){let h=oe(a[l],c[l]);if(h!==0)return h}return oe(a.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=oe(Ae(o.latitude),Ae(s.latitude));return a!==0?a:oe(Ae(o.longitude),Ae(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return uN(t.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,c,l,h;let p=o.fields||{},g=s.fields||{},y=(a=p[ea])===null||a===void 0?void 0:a.arrayValue,T=(c=g[ea])===null||c===void 0?void 0:c.arrayValue,A=oe(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=T?.values)===null||h===void 0?void 0:h.length)||0);return A!==0?A:uN(y,T)})(t.mapValue,e.mapValue);case 11:return(function(o,s){if(o===hf.mapValue&&s===hf.mapValue)return 0;if(o===hf.mapValue)return 1;if(s===hf.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),l=s.fields||{},h=Object.keys(l);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){let g=mE(c[p],h[p]);if(g!==0)return g;let y=ta(a[c[p]],l[h[p]]);if(y!==0)return y}return oe(c.length,h.length)})(t.mapValue,e.mapValue);default:throw W(23264,{le:n})}}function cN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return oe(t,e);let n=Dr(t),r=Dr(e),i=oe(n.seconds,r.seconds);return i!==0?i:oe(n.nanos,r.nanos)}function uN(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=ta(n[i],r[i]);if(o)return o}return oe(n.length,r.length)}function na(t){return EE(t)}function EE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){let r=Dr(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return br(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return q.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=EE(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${EE(n.fields[s])}`;return i+"}"})(t.mapValue):W(61005,{value:t})}function gf(t){switch(_i(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=rp(t);return e?16+gf(e):16;case 5:return 2*t.stringValue.length;case 6:return br(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+gf(o),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Di(r.fields,(o,s)=>{i+=o.length+gf(s)}),i})(t.mapValue);default:throw W(13486,{value:t})}}function lN(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function IE(t){return!!t&&"integerValue"in t}function tw(t){return!!t&&"arrayValue"in t}function dN(t){return!!t&&"nullValue"in t}function hN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mf(t){return!!t&&"mapValue"in t}function gM(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[XI])===null||n===void 0?void 0:n.stringValue)===ew}function lu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Di(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=lu(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=lu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function mM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===pM}var Uoe={mapValue:{fields:{[XI]:{stringValue:ew},[ea]:{arrayValue:{}}}}};var $t=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!mf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=lu(n)}setAll(e){let n=Ht.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=lu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());mf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Jn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];mf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Di(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(lu(this.value))}};function yM(t){let e=[];return Di(t.fields,(n,r)=>{let i=new Ht([n]);if(mf(r)){let o=yM(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new nn(e)}var Tn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,re.min(),re.min(),re.min(),$t.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,re.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,re.min(),re.min(),$t.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,re.min(),re.min(),$t.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ra=class{constructor(e,n){this.position=e,this.inclusive=n}};function fN(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=q.comparator(q.fromName(s.referenceValue),n.key):r=ta(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function pN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Jn(t.position[n],e.position[n]))return!1;return!0}var ia=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function TH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var bf=class{},qe=class t extends bf{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new TE(e,n,r):n==="array-contains"?new CE(e,r):n==="in"?new SE(e,r):n==="not-in"?new AE(e,r):n==="array-contains-any"?new RE(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new DE(e,r):new bE(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ta(n,this.value)):n!==null&&_i(this.value)===_i(n)&&this.matchesComparison(ta(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return W(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Dn=class t extends bf{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new t(e,n)}matches(e){return vM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function vM(t){return t.op==="and"}function _M(t){return DH(t)&&vM(t)}function DH(t){for(let e of t.filters)if(e instanceof Dn)return!1;return!0}function wE(t){if(t instanceof qe)return t.field.canonicalString()+t.op.toString()+na(t.value);if(_M(t))return t.filters.map(e=>wE(e)).join(",");{let e=t.filters.map(n=>wE(n)).join(",");return`${t.op}(${e})`}}function EM(t,e){return t instanceof qe?(function(r,i){return i instanceof qe&&r.op===i.op&&r.field.isEqual(i.field)&&Jn(r.value,i.value)})(t,e):t instanceof Dn?(function(r,i){return i instanceof Dn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&EM(s,i.filters[a]),!0):!1})(t,e):void W(19439)}function IM(t){return t instanceof qe?(function(n){return`${n.field.canonicalString()} ${n.op} ${na(n.value)}`})(t):t instanceof Dn?(function(n){return n.op.toString()+" {"+n.getFilters().map(IM).join(" ,")+"}"})(t):"Filter"}var TE=class extends qe{constructor(e,n,r){super(e,n,r),this.key=q.fromName(r.referenceValue)}matches(e){let n=q.comparator(e.key,this.key);return this.matchesComparison(n)}},DE=class extends qe{constructor(e,n){super(e,"in",n),this.keys=wM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},bE=class extends qe{constructor(e,n){super(e,"not-in",n),this.keys=wM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function wM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}var CE=class extends qe{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return tw(n)&&vu(n.arrayValue,this.value)}},SE=class extends qe{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&vu(this.value.arrayValue,n)}},AE=class extends qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!vu(this.value.arrayValue,n)}},RE=class extends qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!tw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>vu(this.value.arrayValue,r))}};var NE=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function gN(t,e=null,n=[],r=[],i=null,o=null,s=null){return new NE(t,e,n,r,i,o,s)}function nw(t){let e=te(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>wE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),np(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>na(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>na(r)).join(",")),e.Pe=n}return e.Pe}function rw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!TH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!EM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!pN(t.startAt,e.startAt)&&pN(t.endAt,e.endAt)}function ME(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Po=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function bH(t,e,n,r,i,o,s,a){return new Po(t,e,n,r,i,o,s,a)}function ip(t){return new Po(t)}function mN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function TM(t){return t.collectionGroup!==null}function du(t){let e=te(t);if(e.Te===null){e.Te=[];let n=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new it(Ht.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new ia(o,r))}),n.has(Ht.keyField().canonicalString())||e.Te.push(new ia(Ht.keyField(),r))}return e.Te}function Kn(t){let e=te(t);return e.Ie||(e.Ie=CH(e,du(t))),e.Ie}function CH(t,e){if(t.limitType==="F")return gN(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ia(i.field,o)});let n=t.endAt?new ra(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ra(t.startAt.position,t.startAt.inclusive):null;return gN(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function PE(t,e){let n=t.filters.concat([e]);return new Po(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function kE(t,e,n){return new Po(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function op(t,e){return rw(Kn(t),Kn(e))&&t.limitType===e.limitType}function DM(t){return`${nw(Kn(t))}|lt:${t.limitType}`}function Gs(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>IM(i)).join(", ")}]`),np(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>na(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>na(i)).join(",")),`Target(${r})`})(Kn(t))}; limitType=${t.limitType})`}function sp(t,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):q.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(let o of du(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,c){let l=fN(s,a,c);return s.inclusive?l<=0:l<0})(r.startAt,du(r),i)||r.endAt&&!(function(s,a,c){let l=fN(s,a,c);return s.inclusive?l>=0:l>0})(r.endAt,du(r),i))})(t,e)}function SH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function bM(t){return(e,n)=>{let r=!1;for(let i of du(t)){let o=AH(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function AH(t,e,n){let r=t.field.isKeyField()?q.comparator(e.key,n.key):(function(o,s,a){let c=s.data.field(o),l=a.data.field(o);return c!==null&&l!==null?ta(c,l):W(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return W(19790,{direction:t.dir})}}var Cr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Di(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return uM(this.inner)}size(){return this.innerSize}};var RH=new je(q.comparator);function Sr(){return RH}var CM=new je(q.comparator);function uu(...t){let e=CM;for(let n of t)e=e.insert(n.key,n);return e}function SM(t){let e=CM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Co(){return hu()}function AM(){return hu()}function hu(){return new Cr(t=>t.toString(),(t,e)=>t.isEqual(e))}var NH=new je(q.comparator),MH=new it(q.comparator);function ce(...t){let e=MH;for(let n of t)e=e.add(n);return e}var PH=new it(oe);function kH(){return PH}function iw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mu(e)?"-0":e}}function RM(t){return{integerValue:""+t}}function OH(t,e){return uH(e)?RM(e):iw(t,e)}var oa=class{constructor(){this._=void 0}};function xH(t,e,n){return t instanceof sa?(function(i,o){let s={fields:{[dM]:{stringValue:lM},[fM]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&ZI(o)&&(o=rp(o)),o&&(s.fields[hM]=o),{mapValue:s}})(n,e):t instanceof Ei?MM(t,e):t instanceof Ii?PM(t,e):(function(i,o){let s=NM(i,o),a=yN(s)+yN(i.Ee);return IE(s)&&IE(i.Ee)?RM(a):iw(i.serializer,a)})(t,e)}function LH(t,e,n){return t instanceof Ei?MM(t,e):t instanceof Ii?PM(t,e):n}function NM(t,e){return t instanceof aa?(function(r){return IE(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var sa=class extends oa{},Ei=class extends oa{constructor(e){super(),this.elements=e}};function MM(t,e){let n=kM(e);for(let r of t.elements)n.some(i=>Jn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ii=class extends oa{constructor(e){super(),this.elements=e}};function PM(t,e){let n=kM(e);for(let r of t.elements)n=n.filter(i=>!Jn(i,r));return{arrayValue:{values:n}}}var aa=class extends oa{constructor(e,n){super(),this.serializer=e,this.Ee=n}};function yN(t){return Ae(t.integerValue||t.doubleValue)}function kM(t){return tw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Cf=class{constructor(e,n){this.field=e,this.transform=n}};function FH(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Ei&&i instanceof Ei||r instanceof Ii&&i instanceof Ii?Xs(r.elements,i.elements,Jn):r instanceof aa&&i instanceof aa?Jn(r.Ee,i.Ee):r instanceof sa&&i instanceof sa})(t.transform,e.transform)}var OE=class{constructor(e,n){this.version=e,this.transformResults=n}},Qn=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function yf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ca=class{};function OM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new _u(t.key,Qn.none()):new ko(t.key,t.data,Qn.none());{let n=t.data,r=$t.empty(),i=new it(Ht.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Zn(t.key,r,new nn(i.toArray()),Qn.none())}}function VH(t,e,n){t instanceof ko?(function(i,o,s){let a=i.value.clone(),c=_N(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(t,e,n):t instanceof Zn?(function(i,o,s){if(!yf(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=_N(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(xM(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(t,e,n):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function fu(t,e,n,r){return t instanceof ko?(function(o,s,a,c){if(!yf(o.precondition,s))return a;let l=o.value.clone(),h=EN(o.fieldTransforms,c,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(t,e,n,r):t instanceof Zn?(function(o,s,a,c){if(!yf(o.precondition,s))return a;let l=EN(o.fieldTransforms,c,s),h=s.data;return h.setAll(xM(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(t,e,n,r):(function(o,s,a){return yf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(t,e,n)}function jH(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=NM(r.transform,i||null);o!=null&&(n===null&&(n=$t.empty()),n.set(r.field,o))}return n||null}function vN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Xs(r,i,(o,s)=>FH(o,s))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ko=class extends ca{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Zn=class extends ca{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function xM(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function _N(t,e,n){let r=new Map;ve(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,LH(s,a,n[i]))}return r}function EN(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,xH(o,s,e))}return r}var _u=class extends ca{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},xE=class extends ca{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var LE=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&VH(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=fu(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=fu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=AM();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let c=OM(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ce())}isEqual(e){return this.batchId===e.batchId&&Xs(this.mutations,e.mutations,(n,r)=>vN(n,r))&&Xs(this.baseMutations,e.baseMutations,(n,r)=>vN(n,r))}},FE=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ve(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return NH})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var VE=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var jE=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var He,he;function UH(t){switch(t){case M.OK:return W(64938);case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0;default:return W(15467,{code:t})}}function LM(t){if(t===void 0)return Tr("GRPC error has no .code"),M.UNKNOWN;switch(t){case He.OK:return M.OK;case He.CANCELLED:return M.CANCELLED;case He.UNKNOWN:return M.UNKNOWN;case He.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case He.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case He.INTERNAL:return M.INTERNAL;case He.UNAVAILABLE:return M.UNAVAILABLE;case He.UNAUTHENTICATED:return M.UNAUTHENTICATED;case He.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case He.NOT_FOUND:return M.NOT_FOUND;case He.ALREADY_EXISTS:return M.ALREADY_EXISTS;case He.PERMISSION_DENIED:return M.PERMISSION_DENIED;case He.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case He.ABORTED:return M.ABORTED;case He.OUT_OF_RANGE:return M.OUT_OF_RANGE;case He.UNIMPLEMENTED:return M.UNIMPLEMENTED;case He.DATA_LOSS:return M.DATA_LOSS;default:return W(39323,{code:t})}}(he=He||(He={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";var IN=null;var BH=new Ir([4294967295,4294967295],0);function wN(t){let e=GN().encode(t),n=new eE;return n.update(e),new Uint8Array(n.digest())}function TN(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ir([n,r],0),new Ir([i,o],0)]}var UE=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new So(`Invalid padding: ${n}`);if(r<0)throw new So(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new So(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new So(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Ir.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(Ir.fromNumber(r)));return i.compare(BH)===1&&(i=new Ir([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let n=wN(e),[r,i]=TN(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let n=wN(e),[r,i]=TN(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},So=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Sf=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Eu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(re.min(),i,new je(oe),Sr(),ce())}},Eu=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ce(),ce(),ce())}};var Ys=class{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}},Af=class{constructor(e,n){this.targetId=e,this.De=n}},Rf=class{constructor(e,n,r=yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Nf=class{constructor(){this.ve=0,this.Ce=DN(),this.Fe=yt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ce(),n=ce(),r=ce();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:W(38017,{changeType:o})}}),new Eu(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=DN()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ve(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},BE=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=Sr(),this.je=ff(),this.Je=ff(),this.He=new je(oe)}Ye(e){for(let n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(let n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{let r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:W(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){let n=e.targetId,r=e.De.count,i=this.st(n);if(i){let o=i.target;if(ME(o))if(r===0){let s=new q(o.path);this.Xe(n,s,Tn.newNoDocument(s,re.min()))}else ve(r===1,20013,{expectedCount:r});else{let s=this.ot(n);if(s!==r){let a=this._t(e),c=a?this.ut(a,e,s):1;if(c!==0){this.rt(n);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,l)}IN?.ct((function(h,p,g,y,T){var A,S,P,B,H,G;let Ce={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},se=p.unchangedNames;return se&&(Ce.bloomFilter={applied:T===0,hashCount:(A=se?.hashCount)!==null&&A!==void 0?A:0,bitmapLength:(B=(P=(S=se?.bits)===null||S===void 0?void 0:S.bitmap)===null||P===void 0?void 0:P.length)!==null&&B!==void 0?B:0,padding:(G=(H=se?.bits)===null||H===void 0?void 0:H.padding)!==null&&G!==void 0?G:0,mightContain:w=>{var v;return(v=y?.mightContain(w))!==null&&v!==void 0&&v}}),Ce})(s,e.De,this.We.lt(),a,c))}}}}_t(e){let n=e.De.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=br(r).toUint8Array()}catch(c){if(c instanceof wf)return vi("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new UE(s,i,o)}catch(c){return vi(c instanceof So?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){let r=this.We.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,o,null),i++)}),i}Pt(e){let n=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&ME(a.target)){let c=new q(a.target.path);this.Tt(c).has(s)||this.It(s,c)||this.Xe(s,c,Tn.newNoDocument(c,e))}o.Ne&&(n.set(s,o.Le()),o.ke())}});let r=ce();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let l=this.st(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new Sf(e,n,this.He,this.ze,r);return this.ze=Sr(),this.je=ff(),this.Je=ff(),this.He=new je(oe),i}Ze(e,n){if(!this.nt(e))return;let r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new Nf,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new it(oe),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new it(oe),this.je=this.je.insert(e,n)),n}nt(e){let n=this.st(e)!==null;return n||U("WatchChangeAggregator","Detected inactive target",e),n}st(e){let n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Nf),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}};function ff(){return new je(q.comparator)}function DN(){return new je(q.comparator)}var $H={asc:"ASCENDING",desc:"DESCENDING"},HH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zH={and:"AND",or:"OR"},$E=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function HE(t,e){return t.useProto3Json||np(e)?e:{value:e}}function Mf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function qH(t,e){return Mf(t,e.toTimestamp())}function Yn(t){return ve(!!t,49232),re.fromTimestamp((function(n){let r=Dr(n);return new We(r.seconds,r.nanos)})(t))}function ow(t,e){return zE(t,e).canonicalString()}function zE(t,e){let n=(function(i){return new Re(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function VM(t){let e=Re.fromString(t);return ve(HM(e),10190,{key:e.toString()}),e}function qE(t,e){return ow(t.databaseId,e.path)}function sE(t,e){let n=VM(e);if(n.get(1)!==t.databaseId.projectId)throw new L(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new L(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new q(UM(n))}function jM(t,e){return ow(t.databaseId,e)}function GH(t){let e=VM(t);return e.length===4?Re.emptyPath():UM(e)}function GE(t){return new Re(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function UM(t){return ve(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function bN(t,e,n){return{name:qE(t,e),fields:n.value.mapValue.fields}}function WH(t,e){let n;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:W(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,h){return l.useProto3Json?(ve(h===void 0||typeof h=="string",58123),yt.fromBase64String(h||"")):(ve(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),yt.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let h=l.code===void 0?M.UNKNOWN:LM(l.code);return new L(h,l.message||"")})(s);n=new Rf(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=sE(t,r.document.name),o=Yn(r.document.updateTime),s=r.document.createTime?Yn(r.document.createTime):re.min(),a=new $t({mapValue:{fields:r.document.fields}}),c=Tn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Ys(l,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=sE(t,r.document),o=r.readTime?Yn(r.readTime):re.min(),s=Tn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Ys([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=sE(t,r.document),o=r.removedTargetIds||[];n=new Ys([],o,i,null)}else{if(!("filter"in e))return W(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new jE(i,o),a=r.targetId;n=new Af(a,s)}}return n}function KH(t,e){let n;if(e instanceof ko)n={update:bN(t,e.key,e.value)};else if(e instanceof _u)n={delete:qE(t,e.key)};else if(e instanceof Zn)n={update:bN(t,e.key,e.data),updateMask:r4(e.fieldMask)};else{if(!(e instanceof xE))return W(16599,{Rt:e.type});n={verify:qE(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof sa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ei)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ii)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof aa)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw W(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:qH(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:W(27497)})(t,e.precondition)),n}function QH(t,e){return t&&t.length>0?(ve(e!==void 0,14353),t.map(n=>(function(i,o){let s=i.updateTime?Yn(i.updateTime):Yn(o);return s.isEqual(re.min())&&(s=Yn(o)),new OE(s,i.transformResults||[])})(n,e))):[]}function YH(t,e){return{documents:[jM(t,e.path)]}}function JH(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=jM(t,i);let o=(function(l){if(l.length!==0)return $M(Dn.create(l,"and"))})(e.filters);o&&(n.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(h=>(function(g){return{field:Ws(g.field),direction:e4(g.dir)}})(h))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=HE(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:n,parent:i}}function ZH(t){let e=GH(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ve(r===1,65062);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=(function(p){let g=BM(p);return g instanceof Dn&&_M(g)?g.getFilters():[g]})(n.where));let s=[];n.orderBy&&(s=(function(p){return p.map(g=>(function(T){return new ia(Ks(T.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(g))})(n.orderBy));let a=null;n.limit&&(a=(function(p){let g;return g=typeof p=="object"?p.value:p,np(g)?null:g})(n.limit));let c=null;n.startAt&&(c=(function(p){let g=!!p.before,y=p.values||[];return new ra(y,g)})(n.startAt));let l=null;return n.endAt&&(l=(function(p){let g=!p.before,y=p.values||[];return new ra(y,g)})(n.endAt)),bH(e,i,s,o,a,"F",c,l)}function XH(t,e){let n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return W(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function BM(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Ks(n.unaryFilter.field);return qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ks(n.unaryFilter.field);return qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ks(n.unaryFilter.field);return qe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ks(n.unaryFilter.field);return qe.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return W(61313);default:return W(60726)}})(t):t.fieldFilter!==void 0?(function(n){return qe.create(Ks(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return W(58110);default:return W(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Dn.create(n.compositeFilter.filters.map(r=>BM(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return W(1026)}})(n.compositeFilter.op))})(t):W(30097,{filter:t})}function e4(t){return $H[t]}function t4(t){return HH[t]}function n4(t){return zH[t]}function Ws(t){return{fieldPath:t.canonicalString()}}function Ks(t){return Ht.fromServerFormat(t.fieldPath)}function $M(t){return t instanceof qe?(function(n){if(n.op==="=="){if(hN(n.value))return{unaryFilter:{field:Ws(n.field),op:"IS_NAN"}};if(dN(n.value))return{unaryFilter:{field:Ws(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hN(n.value))return{unaryFilter:{field:Ws(n.field),op:"IS_NOT_NAN"}};if(dN(n.value))return{unaryFilter:{field:Ws(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ws(n.field),op:t4(n.op),value:n.value}}})(t):t instanceof Dn?(function(n){let r=n.getFilters().map(i=>$M(i));return r.length===1?r[0]:{compositeFilter:{op:n4(n.op),filters:r}}})(t):W(54877,{filter:t})}function r4(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function HM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Iu=class t{constructor(e,n,r,i,o=re.min(),s=re.min(),a=yt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var WE=class{constructor(e){this.gt=e}};function i4(t){let e=ZH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?kE(e,e.limit,"L"):e}var Pf=class{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(Ae(e.integerValue));else if("doubleValue"in e){let r=Ae(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),mu(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),typeof r=="string"&&(r=Dr(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(br(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?mM(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):gM(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):W(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){let r=e.fields||{};this.Ct(n,55);for(let i of Object.keys(r))this.xt(i,n),this.Dt(r[i],n)}Lt(e,n){var r,i;let o=e.fields||{};this.Ct(n,53);let s=ea,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(n,15),n.Ft(Ae(a)),this.xt(s,n),this.Dt(o[s],n)}qt(e,n){let r=e.values||[];this.Ct(n,50);for(let i of r)this.Dt(i,n)}Bt(e,n){this.Ct(n,37),q.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}};Pf.Ut=new Pf;var KE=class{constructor(){this.Dn=new QE}addToCollectionParentIndex(e,n){return this.Dn.add(n),k.resolve()}getCollectionParents(e,n){return k.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return k.resolve()}deleteFieldIndex(e,n){return k.resolve()}deleteAllFieldIndexes(e){return k.resolve()}createTargetIndexes(e,n){return k.resolve()}getDocumentsMatchingTarget(e,n){return k.resolve(null)}getIndexType(e,n){return k.resolve(0)}getFieldIndexes(e,n){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,n){return k.resolve(Mo.min())}getMinOffsetFromCollectionGroup(e,n){return k.resolve(Mo.min())}updateCollectionGroup(e,n,r){return k.resolve()}updateIndexEntries(e,n){return k.resolve()}},QE=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new it(Re.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new it(Re.comparator)).toArray()}};var Boe=new Uint8Array(0);var CN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zM=41943040,tn=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(zM,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);var wu=class t{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new t(0)}static ur(){return new t(-1)}};var SN="LruGarbageCollector",o4=1048576;function AN([t,e],[n,r]){let i=oe(t,n);return i===0?oe(e,r):i}var YE=class{constructor(e){this.Tr=e,this.buffer=new it(AN),this.Ir=0}dr(){return++this.Ir}Er(e){let n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();AN(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},JE=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){U(SN,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ga(n)?U(SN,"Ignoring IndexedDB error during garbage collection: ",n):await pa(n)}await this.Rr(3e5)})}},ZE=class{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return k.resolve(YI.ue);let r=new YE(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(U("LruGarbageCollector","Garbage collection skipped; disabled"),k.resolve(CN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(U("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),CN):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,o,s,a,c,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(U("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),qs()<=ae.DEBUG&&U("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${p} documents in `+(l-c)+`ms
Total Duration: ${l-h}ms`),k.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function s4(t,e){return new ZE(t,e)}var XE=class{constructor(){this.changes=new Cr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?k.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var eI=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var tI=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&fu(r.mutation,i,nn.empty(),We.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ce()){let i=Co();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=uu();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Co();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ce()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Sr(),s=hu(),a=(function(){return hu()})();return n.forEach((c,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Zn)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),fu(h.mutation,l,h.mutation.getFieldMask(),We.now())):s.set(l.key,nn.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new eI(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=hu(),i=new je((s,a)=>s-a),o=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(c=>{let l=n.get(c);if(l===null)return;let h=r.get(c)||nn.empty();h=a.applyToLocalView(l,h),r.set(c,h);let p=(i.get(a.batchId)||ce()).add(c);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,h=c.value,p=AM();h.forEach(g=>{if(!o.has(g)){let y=OM(n.get(g),r.get(g));y!==null&&p.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return k.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return(function(s){return q.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):TM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):k.resolve(Co()),a=gu,c=o;return s.next(l=>k.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?k.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{c=c.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,ce())).next(h=>({batchId:a,changes:SM(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(r=>{let i=uu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=uu();return this.indexManager.getCollectionParents(e,o).next(a=>k.forEach(a,c=>{let l=(function(p,g){return new Po(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Tn.newInvalidDocument(h)))});let a=uu();return s.forEach((c,l)=>{let h=o.get(c);h!==void 0&&fu(h.mutation,l,nn.empty(),We.now()),sp(n,l)&&(a=a.insert(c,l))}),a})}};var nI=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return k.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Yn(i.createTime)}})(n)),k.resolve()}getNamedQuery(e,n){return k.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(i){return{name:i.name,query:i4(i.bundledQuery),readTime:Yn(i.readTime)}})(n)),k.resolve()}};var rI=class{constructor(){this.overlays=new je(q.comparator),this.kr=new Map}getOverlay(e,n){return k.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Co();return k.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.wt(e,n,o)}),k.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),k.resolve()}getOverlaysForCollection(e,n,r){let i=Co(),o=n.length+1,s=new q(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return k.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new je((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Co(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Co(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return k.resolve(a)}wt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new VE(n,r));let o=this.kr.get(n);o===void 0&&(o=ce(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}};var iI=class{constructor(){this.sessionToken=yt.EMPTY_BYTE_STRING}getSessionToken(e){return k.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,k.resolve()}};var Tu=class{constructor(){this.qr=new it(ze.Qr),this.$r=new it(ze.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){let r=new ze(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new ze(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){let n=new q(new Re([])),r=new ze(n,e),i=new ze(n,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let n=new q(new Re([])),r=new ze(n,e),i=new ze(n,e+1),o=ce();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new ze(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},ze=class{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return q.comparator(e.key,n.key)||oe(e.Hr,n.Hr)}static Ur(e,n){return oe(e.Hr,n.Hr)||q.comparator(e.key,n.key)}};var oI=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new it(ze.Qr)}checkEmpty(e){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new LE(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new ze(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return k.resolve(s)}lookupMutationBatch(e,n){return k.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Xr(r),o=i<0?0:i;return k.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?JI:this.er-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new ze(n,0),i=new ze(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),k.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new it(oe);return n.forEach(i=>{let o=new ze(i,0),s=new ze(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),k.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;q.isDocumentKey(o)||(o=o.child(""));let s=new ze(new q(o),0),a=new it(oe);return this.Yr.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.Hr)),!0)},s),k.resolve(this.ei(a))}ei(e){let n=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ve(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return k.forEach(n.mutations,i=>{let o=new ze(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){let r=new ze(n,0),i=this.Yr.firstAfterOrEqual(r);return k.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,k.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var sI=class{constructor(e){this.ni=e,this.docs=(function(){return new je(q.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return k.resolve(r?r.document.mutableCopy():Tn.newInvalidDocument(n))}getEntries(e,n){let r=Sr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Tn.newInvalidDocument(i))}),k.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Sr(),s=n.path,a=new q(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:h}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||sH(oH(h),r)<=0||(i.has(h.key)||sp(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return k.resolve(o)}getAllFromCollectionGroup(e,n,r,i){W(9500)}ri(e,n){return k.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new aI(this)}getSize(e){return k.resolve(this.size)}},aI=class extends XE{constructor(e){super(),this.Or=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),k.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}};var cI=class{constructor(e){this.persistence=e,this.ii=new Cr(n=>nw(n),rw),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.si=0,this.oi=new Tu,this.targetCount=0,this._i=wu.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),k.resolve()}hr(e){this.ii.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this._i=new wu(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,k.resolve()}updateTargetData(e,n){return this.hr(n),k.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),k.waitFor(o).next(()=>i)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,n){let r=this.ii.get(n)||null;return k.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),k.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),k.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),k.resolve()}getMatchingKeysForTargetId(e,n){let r=this.oi.Jr(n);return k.resolve(r)}containsKey(e,n){return k.resolve(this.oi.containsKey(n))}};var kf=class{constructor(e,n){this.ai={},this.overlays={},this.ui=new YI(0),this.ci=!1,this.ci=!0,this.li=new iI,this.referenceDelegate=e(this),this.hi=new cI(this),this.indexManager=new KE,this.remoteDocumentCache=(function(i){return new sI(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new WE(n),this.Ti=new nI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new oI(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){U("MemoryPersistence","Starting transaction:",e);let i=new uI(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return k.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}},uI=class extends vE{constructor(e){super(),this.currentSequenceNumber=e}},lI=class t{constructor(e){this.persistence=e,this.Ai=new Tu,this.Ri=null}static Vi(e){return new t(e)}get mi(){if(this.Ri)return this.Ri;throw W(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),k.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),k.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),k.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.mi,r=>{let i=q.fromPath(r);return this.fi(e,i).next(o=>{o||n.removeEntry(i,re.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return k.or([()=>k.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}},Of=class t{constructor(e,n){this.persistence=e,this.gi=new Cr(r=>lH(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=s4(this,n)}static Vi(e,n){return new t(e,n)}Ii(){}di(e){return k.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){let n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return k.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?k.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,re.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),k.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),k.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),k.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),k.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=gf(e.data.value)),n}Sr(e,n,r){return k.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.gi.get(n);return k.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var dI=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=ce(),i=ce();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var hI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var fI=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return PR()?8:cH(nt())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ps(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new hI;return this.ws(e,n,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,n,s,a.size)})}).next(()=>o.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(qs()<=ae.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",Gs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),k.resolve()):(qs()<=ae.DEBUG&&U("QueryEngine","Query:",Gs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(qs()<=ae.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",Gs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kn(n))):k.resolve())}ps(e,n){if(mN(n))return k.resolve(null);let r=Kn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=kE(n,null,"F"),r=Kn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ce(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.bs(n,a);return this.Ds(n,l,s,c.readTime)?this.ps(e,kE(n,null,"F")):this.vs(e,l,n,c)}))})))}ys(e,n,r,i){return mN(n)||i.isEqual(re.min())?k.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(n,o);return this.Ds(n,s,r,i)?k.resolve(null):(qs()<=ae.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Gs(n)),this.vs(e,s,n,iH(i,gu)).next(a=>a))})}bs(e,n){let r=new it(bM(e));return n.forEach((i,o)=>{sp(e,o)&&(r=r.add(o))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,n,r){return qs()<=ae.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",Gs(n)),this.gs.getDocumentsMatchingQuery(e,n,Mo.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var sw="LocalStore",a4=3e8,pI=class{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new je(oe),this.Ms=new Cr(o=>nw(o),rw),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tI(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}};function c4(t,e,n,r){return new pI(t,e,n,r)}async function qM(t,e){let n=te(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=ce();for(let l of i){s.push(l.batchId);for(let h of l.mutations)c=c.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})}function u4(t,e){let n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return(function(a,c,l,h){let p=l.batch,g=p.keys(),y=k.resolve();return g.forEach(T=>{y=y.next(()=>h.getEntry(c,T)).next(A=>{let S=l.docVersions.get(T);ve(S!==null,48541),A.version.compareTo(S)<0&&(p.applyToRemoteDocument(A,l),A.isValidDocument()&&(A.setReadTime(l.commitVersion),h.addEntry(A)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(c,p))})(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let c=ce();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c})(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function GM(t){let e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function l4(t,e){let n=te(t),r=e.snapshotVersion,i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(n.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.hi.addMatchingKeys(o,h.addedDocuments,p)));let y=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(yt.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),(function(A,S,P){return A.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=a4?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(g,y,h)&&a.push(n.hi.updateTargetData(o,y))});let c=Sr(),l=ce();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(d4(o,s,e.documentUpdates).next(h=>{c=h.Ls,l=h.ks})),!r.isEqual(re.min())){let h=n.hi.getLastRemoteSnapshotVersion(o).next(p=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return k.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(n.Fs=i,o))}function d4(t,e,n){let r=ce(),i=ce();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Sr();return n.forEach((a,c)=>{let l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(re.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):U(sw,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{Ls:s,ks:i}})}function h4(t,e){let n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=JI),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function f4(t,e){let n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(o=>o?(i=o,k.resolve(i)):n.hi.allocateTargetId(r).next(s=>(i=new Iu(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function gI(t,e,n){let r=te(t),i=r.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ga(s))throw s;U(sw,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function RN(t,e,n){let r=te(t),i=re.min(),o=ce();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(c,l,h){let p=te(c),g=p.Ms.get(h);return g!==void 0?k.resolve(p.Fs.get(g)):p.hi.getTargetData(l,h)})(r,s,Kn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:re.min(),n?o:ce())).next(a=>(p4(r,SH(e),a),{documents:a,qs:o})))}function p4(t,e,n){let r=t.xs.get(e)||re.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.xs.set(e,r)}var xf=class{constructor(){this.activeTargetIds=kH()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var mI=class{constructor(){this.Fo=new xf,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new xf,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var yI=class{xo(e){}shutdown(){}};var NN="ConnectivityMonitor",Lf=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){U(NN,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){U(NN,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var pf=null;function vI(){return pf===null?pf=(function(){return 268435456+Math.round(2147483648*Math.random())})():pf++,"0x"+pf.toString(16)}var aE="RestConnection",g4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},_I=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Tf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){let s=vI(),a=this.Go(e,n.toUriEncodedString());U(aE,`Sending RPC '${e}' ${s}:`,a,r);let c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,i,o);let{host:l}=new URL(a),h=di(l);return this.jo(e,a,c,r,h).then(p=>(U(aE,`Received RPC '${e}' ${s}: `,p),p),p=>{throw vi(aE,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}zo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+fa})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,n){let r=g4[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}};var EI=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var mt="WebChannelConnection",II=class extends _I{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,o){let s=vI();return new Promise((a,c)=>{let l=new tE;l.setWithCredentials(!0),l.listenOnce(nE.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case cu.NO_ERROR:let p=l.getResponseJson();U(mt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case cu.TIMEOUT:U(mt,`RPC '${e}' ${s} timed out`),c(new L(M.DEADLINE_EXCEEDED,"Request time out"));break;case cu.HTTP_ERROR:let g=l.getStatus();if(U(mt,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let T=y?.error;if(T&&T.status&&T.message){let A=(function(P){let B=P.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(B)>=0?B:M.UNKNOWN})(T.status);c(new L(A,T.message))}else c(new L(M.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new L(M.UNAVAILABLE,"Connection failed."));break;default:W(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{U(mt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);U(mt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}P_(e,n,r){let i=vI(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=oE(),a=iE(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let h=o.join("");U(mt,`Creating RPC '${e}' stream ${i}: ${h}`,c);let p=s.createWebChannel(h,c);this.T_(p);let g=!1,y=!1,T=new EI({Ho:S=>{y?U(mt,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(g||(U(mt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),U(mt,`RPC '${e}' stream ${i} sending:`,S),p.send(S))},Yo:()=>p.close()}),A=(S,P,B)=>{S.listen(P,H=>{try{B(H)}catch(G){setTimeout(()=>{throw G},0)}})};return A(p,zs.EventType.OPEN,()=>{y||(U(mt,`RPC '${e}' stream ${i} transport opened.`),T.s_())}),A(p,zs.EventType.CLOSE,()=>{y||(y=!0,U(mt,`RPC '${e}' stream ${i} transport closed`),T.__(),this.I_(p))}),A(p,zs.EventType.ERROR,S=>{y||(y=!0,vi(mt,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),T.__(new L(M.UNAVAILABLE,"The operation could not be completed")))}),A(p,zs.EventType.MESSAGE,S=>{var P;if(!y){let B=S.data[0];ve(!!B,16349);let H=B,G=H?.error||((P=H[0])===null||P===void 0?void 0:P.error);if(G){U(mt,`RPC '${e}' stream ${i} received error:`,G);let Ce=G.status,se=(function(_){let I=He[_];if(I!==void 0)return LM(I)})(Ce),w=G.message;se===void 0&&(se=M.INTERNAL,w="Unknown error status: "+Ce+" with message "+G.message),y=!0,T.__(new L(se,w)),p.close()}else U(mt,`RPC '${e}' stream ${i} received:`,B),T.a_(B)}}),A(a,rE.STAT_EVENT,S=>{S.stat===df.PROXY?U(mt,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===df.NOPROXY&&U(mt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.o_()},0),T}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}};function cE(){return typeof document<"u"?document:null}function ap(t){return new $E(t,!0)}var Ff=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var MN="PersistentStream",Vf=class{constructor(e,n,r,i,o,s,a,c){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Ff(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(Tr(n.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;let e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{let i=new L(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){let r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return U(MN,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(U(MN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},wI=class extends Vf{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let n=WH(this.serializer,e),r=(function(o){if(!("targetChange"in o))return re.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?re.min():s.readTime?Yn(s.readTime):re.min()})(e);return this.listener.J_(n,r)}H_(e){let n={};n.database=GE(this.serializer),n.addTarget=(function(o,s){let a,c=s.target;if(a=ME(c)?{documents:YH(o,c)}:{query:JH(o,c).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=FM(o,s.resumeToken);let l=HE(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(re.min())>0){a.readTime=Mf(o,s.snapshotVersion.toTimestamp());let l=HE(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=XH(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){let n={};n.database=GE(this.serializer),n.removeTarget=e,this.k_(n)}},TI=class extends Vf{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let n=QH(e.writeResults,e.commitTime),r=Yn(e.commitTime);return this.listener.ta(r,n)}na(){let e={};e.database=GE(this.serializer),this.k_(e)}X_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>KH(this.serializer,r))};this.k_(n)}};var DI=class{},bI=class extends DI{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new L(M.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,zE(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(M.UNKNOWN,o.toString())})}Jo(e,n,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,zE(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(M.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},CI=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Tr(n),this._a=!1):U("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Oo="RemoteStore",SI=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(async()=>{Lo(this)&&(U(Oo,"Restarting streams for network reachability change."),await(async function(c){let l=te(c);l.Ia.add(4),await Cu(l),l.Aa.set("Unknown"),l.Ia.delete(4),await cp(l)})(this))})}),this.Aa=new CI(r,i)}};async function cp(t){if(Lo(t))for(let e of t.da)await e(!0)}async function Cu(t){for(let e of t.da)await e(!1)}function WM(t,e){let n=te(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),lw(n)?uw(n):ma(n).x_()&&cw(n,e))}function aw(t,e){let n=te(t),r=ma(n);n.Ta.delete(e),r.x_()&&KM(n,e),n.Ta.size===0&&(r.x_()?r.B_():Lo(n)&&n.Aa.set("Unknown"))}function cw(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ma(t).H_(e)}function KM(t,e){t.Ra.$e(e),ma(t).Y_(e)}function uw(t){t.Ra=new BE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),ma(t).start(),t.Aa.aa()}function lw(t){return Lo(t)&&!ma(t).M_()&&t.Ta.size>0}function Lo(t){return te(t).Ia.size===0}function QM(t){t.Ra=void 0}async function m4(t){t.Aa.set("Online")}async function y4(t){t.Ta.forEach((e,n)=>{cw(t,e)})}async function v4(t,e){QM(t),lw(t)?(t.Aa.la(e),uw(t)):t.Aa.set("Unknown")}async function _4(t,e,n){if(t.Aa.set("Online"),e instanceof Rf&&e.state===2&&e.cause)try{await(async function(i,o){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})(t,e)}catch(r){U(Oo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await jf(t,r)}else if(e instanceof Ys?t.Ra.Ye(e):e instanceof Af?t.Ra.it(e):t.Ra.et(e),!n.isEqual(re.min()))try{let r=await GM(t.localStore);n.compareTo(r)>=0&&await(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{let h=o.Ta.get(c);if(!h)return;o.Ta.set(c,h.withResumeToken(yt.EMPTY_BYTE_STRING,h.snapshotVersion)),KM(o,c);let p=new Iu(h.target,c,l,h.sequenceNumber);cw(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(t,n)}catch(r){U(Oo,"Failed to raise snapshot:",r),await jf(t,r)}}async function jf(t,e,n){if(!ga(e))throw e;t.Ia.add(1),await Cu(t),t.Aa.set("Offline"),n||(n=()=>GM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{U(Oo,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await cp(t)})}function YM(t,e){return e().catch(n=>jf(t,n,e))}async function up(t){let e=te(t),n=wi(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:JI;for(;E4(e);)try{let i=await h4(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,I4(e,i)}catch(i){await jf(e,i)}JM(e)&&ZM(e)}function E4(t){return Lo(t)&&t.Pa.length<10}function I4(t,e){t.Pa.push(e);let n=wi(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function JM(t){return Lo(t)&&!wi(t).M_()&&t.Pa.length>0}function ZM(t){wi(t).start()}async function w4(t){wi(t).na()}async function T4(t){let e=wi(t);for(let n of t.Pa)e.X_(n.mutations)}async function D4(t,e,n){let r=t.Pa.shift(),i=FE.from(r,e,n);await YM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await up(t)}async function b4(t,e){e&&wi(t).Z_&&await(async function(r,i){if((function(s){return UH(s)&&s!==M.ABORTED})(i.code)){let o=r.Pa.shift();wi(r).N_(),await YM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await up(r)}})(t,e),JM(t)&&ZM(t)}async function PN(t,e){let n=te(t);n.asyncQueue.verifyOperationInProgress(),U(Oo,"RemoteStore received new credentials");let r=Lo(n);n.Ia.add(3),await Cu(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await cp(n)}async function C4(t,e){let n=te(t);e?(n.Ia.delete(2),await cp(n)):e||(n.Ia.add(2),await Cu(n),n.Aa.set("Unknown"))}function ma(t){return t.Va||(t.Va=(function(n,r,i){let o=te(n);return o.ia(),new wI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:m4.bind(null,t),e_:y4.bind(null,t),n_:v4.bind(null,t),J_:_4.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),lw(t)?uw(t):t.Aa.set("Unknown")):(await t.Va.stop(),QM(t))})),t.Va}function wi(t){return t.ma||(t.ma=(function(n,r,i){let o=te(n);return o.ia(),new TI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:w4.bind(null,t),n_:b4.bind(null,t),ea:T4.bind(null,t),ta:D4.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await up(t)):(await t.ma.stop(),t.Pa.length>0&&(U(Oo,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}var AI=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Gn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function dw(t,e){if(Tr("AsyncQueue",`${e}: ${t}`),ga(t))return new L(M.UNAVAILABLE,`${e}: ${t}`);throw t}var Uf=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=uu(),this.sortedSet=new je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Bf=class{constructor(){this.fa=new je(q.comparator)}track(e){let n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):W(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){let e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}},ua=class t{constructor(e,n,r,i,o,s,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Uf.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&op(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var RI=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},NI=class{constructor(){this.queries=kN(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){let i=te(n),o=i.queries;i.queries=kN(),o.forEach((s,a)=>{for(let c of a.wa)c.onError(r)})})(this,new L(M.ABORTED,"Firestore shutting down"))}};function kN(){return new Cr(t=>DM(t),op)}async function XM(t,e){let n=te(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new RI,r=e.ba()?0:1);try{switch(r){case 0:o.ya=await n.onListen(i,!0);break;case 1:o.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){let a=dw(s,`Initialization of query '${Gs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&hw(n)}async function eP(t,e){let n=te(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function S4(t,e){let n=te(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&hw(n)}function A4(t,e,n){let r=te(t),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(n);r.queries.delete(e)}function hw(t){t.Da.forEach(e=>{e.next()})}var MI,ON;(ON=MI||(MI={})).Fa="default",ON.Cache="cache";var $f=class{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ua(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;let r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=ua.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==MI.Cache}};var Hf=class{constructor(e){this.key=e}},zf=class{constructor(e){this.key=e}},PI=class{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ce(),this.mutatedKeys=ce(),this.Xa=bM(e),this.eu=new Uf(this.Xa)}get tu(){return this.Ha}nu(e,n){let r=n?n.ru:new Bf,i=n?n.eu:this.eu,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),y=sp(this.query,p)?p:null,T=!!g&&this.mutatedKeys.has(g.key),A=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),S=!1;g&&y?g.data.isEqual(y.data)?T!==A&&(r.track({type:3,doc:y}),S=!0):this.iu(g,y)||(r.track({type:2,doc:y}),S=!0,(c&&this.Xa(y,c)>0||l&&this.Xa(y,l)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),S=!0):g&&!y&&(r.track({type:1,doc:g}),S=!0,(c||l)&&(a=!0)),S&&(y?(s=s.add(y),o=A?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>(function(y,T){let A=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return W(20277,{At:S})}};return A(y)-A(T)})(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=n&&!i?this.ou():[],c=this.Za.size===0&&this.current&&!i?1:0,l=c!==this.Ya;return this.Ya=c,s.length!==0||l?{snapshot:new ua(this.query,e.eu,o,s,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Bf,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=ce(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new zf(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new Hf(r))}),n}uu(e){this.Ha=e.qs,this.Za=ce();let n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return ua.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},fw="SyncEngine",kI=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},OI=class{constructor(e){this.key=e,this.lu=!1}},xI=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Cr(a=>DM(a),op),this.Tu=new Map,this.Iu=new Set,this.du=new je(q.comparator),this.Eu=new Map,this.Au=new Tu,this.Ru={},this.Vu=new Map,this.mu=wu.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};async function R4(t,e,n=!0){let r=sP(t),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=await tP(r,e,n,!0),i}async function N4(t,e){let n=sP(t);await tP(n,e,!0,!1)}async function tP(t,e,n,r){let i=await f4(t.localStore,Kn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=await M4(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&WM(t.remoteStore,i),a}async function M4(t,e,n,r,i){t.gu=(p,g,y)=>(async function(A,S,P,B){let H=S.view.nu(P);H.Ds&&(H=await RN(A.localStore,S.query,!1).then(({documents:w})=>S.view.nu(w,H)));let G=B&&B.targetChanges.get(S.targetId),Ce=B&&B.targetMismatches.get(S.targetId)!=null,se=S.view.applyChanges(H,A.isPrimaryClient,G,Ce);return LN(A,S.targetId,se._u),se.snapshot})(t,p,g,y);let o=await RN(t.localStore,e,!0),s=new PI(e,o.qs),a=s.nu(o.documents),c=Eu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,c);LN(t,n,l._u);let h=new kI(e,n,s);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),l.snapshot}async function P4(t,e,n){let r=te(t),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!op(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await gI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&aw(r.remoteStore,i.targetId),LI(r,i.targetId)}).catch(pa)):(LI(r,i.targetId),await gI(r.localStore,i.targetId,!0))}async function k4(t,e){let n=te(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),aw(n.remoteStore,r.targetId))}async function O4(t,e,n){let r=B4(t);try{let i=await(function(s,a){let c=te(s),l=We.now(),h=a.reduce((y,T)=>y.add(T.key),ce()),p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let T=Sr(),A=ce();return c.Os.getEntries(y,h).next(S=>{T=S,T.forEach((P,B)=>{B.isValidDocument()||(A=A.add(P))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,T)).next(S=>{p=S;let P=[];for(let B of a){let H=jH(B,p.get(B.key).overlayedDocument);H!=null&&P.push(new Zn(B.key,H,yM(H.value.mapValue),Qn.exists(!0)))}return c.mutationQueue.addMutationBatch(y,l,P,a)}).next(S=>{g=S;let P=S.applyToLocalDocumentSet(p,A);return c.documentOverlayCache.saveOverlays(y,S.batchId,P)})}).then(()=>({batchId:g.batchId,changes:SM(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,c){let l=s.Ru[s.currentUser.toKey()];l||(l=new je(oe)),l=l.insert(a,c),s.Ru[s.currentUser.toKey()]=l})(r,i.batchId,n),await Su(r,i.changes),await up(r.remoteStore)}catch(i){let o=dw(i,"Failed to persist write");n.reject(o)}}async function nP(t,e){let n=te(t);try{let r=await l4(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Eu.get(o);s&&(ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?ve(s.lu,14607):i.removedDocuments.size>0&&(ve(s.lu,42227),s.lu=!1))}),await Su(n,r,e)}catch(r){await pa(r)}}function xN(t,e,n){let r=te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let c=te(s);c.onlineState=a;let l=!1;c.queries.forEach((h,p)=>{for(let g of p.wa)g.va(a)&&(l=!0)}),l&&hw(c)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function x4(t,e,n){let r=te(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new je(q.comparator);s=s.insert(o,Tn.newNoDocument(o,re.min()));let a=ce().add(o),c=new Sf(re.min(),new Map,new je(oe),s,a);await nP(r,c),r.du=r.du.remove(o),r.Eu.delete(e),pw(r)}else await gI(r.localStore,e,!1).then(()=>LI(r,e,n)).catch(pa)}async function L4(t,e){let n=te(t),r=e.batch.batchId;try{let i=await u4(n.localStore,e);iP(n,r,null),rP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Su(n,i)}catch(i){await pa(i)}}async function F4(t,e,n){let r=te(t);try{let i=await(function(s,a){let c=te(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return c.mutationQueue.lookupMutationBatch(l,a).next(p=>(ve(p!==null,37113),h=p.keys(),c.mutationQueue.removeMutationBatch(l,p))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>c.localDocuments.getDocuments(l,h))})})(r.localStore,e);iP(r,e,n),rP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Su(r,i)}catch(i){await pa(i)}}function rP(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function iP(t,e,n){let r=te(t),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function LI(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||oP(t,r)})}function oP(t,e){t.Iu.delete(e.path.canonicalString());let n=t.du.get(e);n!==null&&(aw(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),pw(t))}function LN(t,e,n){for(let r of n)r instanceof Hf?(t.Au.addReference(r.key,e),V4(t,r)):r instanceof zf?(U(fw,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||oP(t,r.key)):W(19791,{yu:r})}function V4(t,e){let n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(U(fw,"New document in limbo: "+n),t.Iu.add(r),pw(t))}function pw(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){let e=t.Iu.values().next().value;t.Iu.delete(e);let n=new q(Re.fromString(e)),r=t.mu.next();t.Eu.set(r,new OI(n)),t.du=t.du.insert(n,r),WM(t.remoteStore,new Iu(Kn(ip(n.path)),r,"TargetPurposeLimboResolution",YI.ue))}}async function Su(t,e,n){let r=te(t),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,c)=>{s.push(r.gu(c,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(l){i.push(l);let p=dI.Es(c.targetId,l);o.push(p)}}))}),await Promise.all(s),r.hu.J_(i),await(async function(c,l){let h=te(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>k.forEach(l,g=>k.forEach(g.Is,y=>h.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>k.forEach(g.ds,y=>h.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!ga(p))throw p;U(sw,"Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let y=h.Fs.get(g),T=y.snapshotVersion,A=y.withLastLimboFreeSnapshotVersion(T);h.Fs=h.Fs.insert(g,A)}}})(r.localStore,o))}async function j4(t,e){let n=te(t);if(!n.currentUser.isEqual(e)){U(fw,"User change. New user:",e.toKey());let r=await qM(n.localStore,e);n.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(c=>{c.reject(new L(M.CANCELLED,s))})}),o.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Su(n,r.Bs)}}function U4(t,e){let n=te(t),r=n.Eu.get(e);if(r&&r.lu)return ce().add(r.key);{let i=ce(),o=n.Tu.get(e);if(!o)return i;for(let s of o){let a=n.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function sP(t){let e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=nP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=U4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=x4.bind(null,e),e.hu.J_=S4.bind(null,e.eventManager),e.hu.pu=A4.bind(null,e.eventManager),e}function B4(t){let e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=L4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=F4.bind(null,e),e}var aP=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(n){this.serializer=ap(n.databaseInfo.databaseId),this.sharedClientState=this.bu(n),this.persistence=this.Du(n),await this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Cu(n,this.localStore),this.indexBackfillerScheduler=this.Fu(n,this.localStore)}Cu(n,r){return null}Fu(n,r){return null}vu(n){return c4(this.persistence,new fI,n.initialUser,this.serializer)}Du(n){return new kf(lI.Vi,this.serializer)}bu(n){return new mI}async terminate(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return t.provider={build:()=>new t},t})(),FI=class extends aP{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){ve(this.persistence.referenceDelegate instanceof Of,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new JE(r,e.asyncQueue,n)}Du(e){let n=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new kf(r=>Of.Vi(r,n),this.serializer)}};var $4=(()=>{class t{async initialize(n,r){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>xN(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=j4.bind(null,this.syncEngine),await C4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(n){return(function(){return new NI})()}createDatastore(n){let r=ap(n.databaseInfo.databaseId),i=(function(s){return new II(s)})(n.databaseInfo);return(function(s,a,c,l){return new bI(s,a,c,l)})(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return(function(i,o,s,a,c){return new SI(i,o,s,a,c)})(this.localStore,this.datastore,n.asyncQueue,r=>xN(this.syncEngine,r,0),(function(){return Lf.C()?new Lf:new yI})())}createSyncEngine(n,r){return(function(o,s,a,c,l,h,p){let g=new xI(o,s,a,c,l,h);return p&&(g.fu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}async terminate(){var n,r;await(async function(o){let s=te(o);U(Oo,"RemoteStore shutting down."),s.Ia.add(5),await Cu(s),s.Ea.shutdown(),s.Aa.set("Unknown")})(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}return t.provider={build:()=>new t},t})();var qf=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Tr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Ti="FirestoreClient",VI=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=rt.UNAUTHENTICATED,this.clientId=pu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{U(Ti,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(U(Ti,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Gn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=dw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function uE(t,e){t.asyncQueue.verifyOperationInProgress(),U(Ti,"Initializing OfflineComponentProvider");let n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await qM(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{vi("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{U("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{vi("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function FN(t,e){t.asyncQueue.verifyOperationInProgress();let n=await H4(t);U(Ti,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>PN(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>PN(e.remoteStore,i)),t._onlineComponents=e}async function H4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){U(Ti,"Using user provided OfflineComponentProvider");try{await uE(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===M.FAILED_PRECONDITION||i.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;vi("Error using user provided cache. Falling back to memory cache: "+n),await uE(t,new aP)}}else U(Ti,"Using default OfflineComponentProvider"),await uE(t,new FI(void 0));return t._offlineComponents}async function cP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(U(Ti,"Using user provided OnlineComponentProvider"),await FN(t,t._uninitializedComponentsProvider._online)):(U(Ti,"Using default OnlineComponentProvider"),await FN(t,new $4))),t._onlineComponents}function z4(t){return cP(t).then(e=>e.syncEngine)}async function jI(t){let e=await cP(t),n=e.eventManager;return n.onListen=R4.bind(null,e.syncEngine),n.onUnlisten=P4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=N4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=k4.bind(null,e.syncEngine),n}function q4(t,e,n={}){let r=new Gn;return t.asyncQueue.enqueueAndForget(async()=>(function(o,s,a,c,l){let h=new qf({next:g=>{h.Ou(),s.enqueueAndForget(()=>eP(o,p));let y=g.docs.has(a);!y&&g.fromCache?l.reject(new L(M.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&c&&c.source==="server"?l.reject(new L(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new $f(ip(a.path),h,{includeMetadataChanges:!0,ka:!0});return XM(o,p)})(await jI(t),t.asyncQueue,e,n,r)),r.promise}function uP(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var VN=new Map;var lP="firestore.googleapis.com",jN=!0,Gf=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new L(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lP,this.ssl=jN}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:jN;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<o4)throw new L(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},la=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new L(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new L(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gf(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new lE;switch(r.type){case"firstParty":return new pE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){let r=VN.get(n);r&&(U("ComponentProvider","Removing Datastore"),VN.delete(n),r.terminate())})(this),Promise.resolve()}};function dP(t,e,n,r={}){var i;t=rn(t,la);let o=di(e),s=t._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;o&&(of(`https://${c}`),sf("Firestore",!0)),s.host!==lP&&s.host!==c&&vi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:r});if(!en(l,a)&&(t._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=rt.MOCK_USER;else{h=CR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new L(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new rt(g)}t._authCredentials=new dE(new vf(h,p))}}var da=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Ze=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(bu(n,t._jsonSchema))return new t(e,r||null,new q(Re.fromString(n.referencePath)))}};Ze._jsonSchemaVersion="firestore/documentReference/1.0",Ze._jsonSchema={type:Ge("string",Ze._jsonSchemaVersion),referencePath:Ge("string")};var pi=class t extends da{constructor(e,n,r){super(e,n,ip(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ze(this.firestore,null,new q(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function hP(t,e,...n){if(t=Fe(t),WN("collection","path",e),t instanceof la){let r=Re.fromString(e,...n);return rN(r),new pi(t,null,r)}{if(!(t instanceof Ze||t instanceof pi))throw new L(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Re.fromString(e,...n));return rN(r),new pi(t.firestore,null,r)}}function gw(t,e,...n){if(t=Fe(t),arguments.length===1&&(e=pu.newId()),WN("doc","path",e),t instanceof la){let r=Re.fromString(e,...n);return nN(r),new Ze(t,null,new q(r))}{if(!(t instanceof Ze||t instanceof pi))throw new L(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Re.fromString(e,...n));return nN(r),new Ze(t.firestore,t instanceof pi?t.converter:null,new q(r))}}var UN="AsyncQueue",Wf=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Ff(this,"async_queue_retry"),this.oc=()=>{let r=cE();r&&U(UN,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let n=cE();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let n=cE();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let n=new Gn;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!ga(e))throw e;U(UN,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){let n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Tr("INTERNAL UNHANDLED ERROR: ",BN(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);let i=AI.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&W(47125,{hc:BN(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(let n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let n=this.ec.indexOf(e);this.ec.splice(n,1)}};function BN(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function $N(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}var Xn=class extends la{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Wf,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Wf(e),this._firestoreClient=void 0,await e}}};function fP(t,e){let n=typeof t=="object"?t:bo(),r=typeof t=="string"?t:e||Tf,i=Hs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=bR("firestore");o&&dP(i,...o)}return i}function mw(t){if(t._terminated)throw new L(M.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||G4(t),t._firestoreClient}function G4(t){var e,n,r;let i=t._freezeSettings(),o=(function(a,c,l,h){return new _E(a,c,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,uP(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new VI(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&(function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}})(t._componentsProvider))}var gi=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(yt.fromBase64String(e))}catch(n){throw new L(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bu(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};gi._jsonSchemaVersion="firestore/bytes/1.0",gi._jsonSchema={type:Ge("string",gi._jsonSchemaVersion),bytes:Ge("string")};var ha=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var xo=class{constructor(e){this._methodName=e}};var mi=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(bu(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};mi._jsonSchemaVersion="firestore/geoPoint/1.0",mi._jsonSchema={type:Ge("string",mi._jsonSchemaVersion),latitude:Ge("number"),longitude:Ge("number")};var yi=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bu(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new L(M.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};yi._jsonSchemaVersion="firestore/vectorValue/1.0",yi._jsonSchema={type:Ge("string",yi._jsonSchemaVersion),vectorValues:Ge("object")};var W4=/^__.*__$/,UI=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Zn(e,this.data,this.fieldMask,n,this.fieldTransforms):new ko(e,this.data,n,this.fieldTransforms)}},Kf=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Zn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function pP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw W(40011,{Ec:t})}}var Qf=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Jf(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(pP(this.Ec)&&W4.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},BI=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ap(e)}Dc(e,n,r,i=!1){return new Qf({Ec:e,methodName:n,bc:r,path:Ht.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function lp(t){let e=t._freezeSettings(),n=ap(t._databaseId);return new BI(t._databaseId,!!e.ignoreUndefinedProperties,n)}function gP(t,e,n,r,i,o={}){let s=t.Dc(o.merge||o.mergeFields?2:0,e,n,i);yw("Data must be an object, but it was:",s,r);let a=yP(r,s),c,l;if(o.merge)c=new nn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=zI(e,p,n);if(!s.contains(g))throw new L(M.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);_P(h,g)||h.push(g)}c=new nn(h),l=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,l=s.fieldTransforms;return new UI(new $t(a),c,l)}var Yf=class t extends xo{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function mP(t,e,n){return new Qf({Ec:3,bc:e.settings.bc,methodName:t._methodName,mc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var $I=class t extends xo{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){let n=mP(this,e,!0),r=this.vc.map(o=>Fo(o,n)),i=new Ei(r);return new Cf(e.path,i)}isEqual(e){return e instanceof t&&en(this.vc,e.vc)}},HI=class t extends xo{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){let n=mP(this,e,!0),r=this.vc.map(o=>Fo(o,n)),i=new Ii(r);return new Cf(e.path,i)}isEqual(e){return e instanceof t&&en(this.vc,e.vc)}};function K4(t,e,n,r){let i=t.Dc(1,e,n);yw("Data must be an object, but it was:",i,r);let o=[],s=$t.empty();Di(r,(c,l)=>{let h=vw(e,c,n);l=Fe(l);let p=i.gc(h);if(l instanceof Yf)o.push(h);else{let g=Fo(l,p);g!=null&&(o.push(h),s.set(h,g))}});let a=new nn(o);return new Kf(s,a,i.fieldTransforms)}function Q4(t,e,n,r,i,o){let s=t.Dc(1,e,n),a=[zI(e,r,n)],c=[i];if(o.length%2!=0)throw new L(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(zI(e,o[g])),c.push(o[g+1]);let l=[],h=$t.empty();for(let g=a.length-1;g>=0;--g)if(!_P(l,a[g])){let y=a[g],T=c[g];T=Fe(T);let A=s.gc(y);if(T instanceof Yf)l.push(y);else{let S=Fo(T,A);S!=null&&(l.push(y),h.set(y,S))}}let p=new nn(l);return new Kf(h,p,s.fieldTransforms)}function Y4(t,e,n,r=!1){return Fo(n,t.Dc(r?4:3,e))}function Fo(t,e){if(vP(t=Fe(t)))return yw("Unsupported field value:",e,t),yP(t,e);if(t instanceof xo)return(function(r,i){if(!pP(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let c=Fo(a,i.yc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=Fe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return OH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=We.fromDate(r);return{timestampValue:Mf(i.serializer,o)}}if(r instanceof We){let o=new We(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Mf(i.serializer,o)}}if(r instanceof mi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof gi)return{bytesValue:FM(i.serializer,r._byteString)};if(r instanceof Ze){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ow(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof yi)return(function(s,a){return{mapValue:{fields:{[XI]:{stringValue:ew},[ea]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return iw(a.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${tp(r)}`)})(t,e)}function yP(t,e){let n={};return uM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Di(t,(r,i)=>{let o=Fo(i,e.Vc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function vP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof We||t instanceof mi||t instanceof gi||t instanceof Ze||t instanceof xo||t instanceof yi)}function yw(t,e,n){if(!vP(n)||!KN(n)){let r=tp(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function zI(t,e,n){if((e=Fe(e))instanceof ha)return e._internalPath;if(typeof e=="string")return vw(t,e);throw Jf("Field path arguments must be of type string or ",t,!1,void 0,n)}var J4=new RegExp("[~\\*/\\[\\]]");function vw(t,e,n){if(e.search(J4)>=0)throw Jf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ha(...e.split("."))._internalPath}catch{throw Jf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Jf(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new L(M.INVALID_ARGUMENT,a+t+c)}function _P(t,e){return t.some(n=>n.isEqual(e))}var Zf=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new qI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(_w("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},qI=class extends Zf{data(){return super.data()}};function _w(t,e){return typeof e=="string"?vw(t,e):e instanceof ha?e._internalPath:e._delegate._internalPath}function Z4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new L(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Du=class{},GI=class extends Du{};function EP(t,e,...n){let r=[];e instanceof Du&&r.push(e),r=r.concat(n),(function(o){let s=o.filter(c=>c instanceof WI).length,a=o.filter(c=>c instanceof Xf).length;if(s>1||s>0&&a>0)throw new L(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)t=i._apply(t);return t}var Xf=class t extends GI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return wP(e._query,n),new da(e.firestore,e.converter,PE(e._query,n))}_parse(e){let n=lp(e.firestore);return(function(o,s,a,c,l,h,p){let g;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new L(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){zN(p,h);let T=[];for(let A of p)T.push(HN(c,o,A));g={arrayValue:{values:T}}}else g=HN(c,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||zN(p,h),g=Y4(a,s,p,h==="in"||h==="not-in");return qe.create(l,h,g)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function IP(t,e,n){let r=e,i=_w("where",t);return Xf._create(i,r,n)}var WI=class t extends Du{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Dn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)wP(s,c),s=PE(s,c)})(e._query,n),new da(e.firestore,e.converter,PE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function HN(t,e,n){if(typeof(n=Fe(n))=="string"){if(n==="")throw new L(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!TM(e)&&n.indexOf("/")!==-1)throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Re.fromString(n));if(!q.isDocumentKey(r))throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return lN(t,new q(r))}if(n instanceof Ze)return lN(t,n._key);throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tp(n)}.`)}function zN(t,e){if(!Array.isArray(t)||t.length===0)throw new L(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wP(t,e){let n=(function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new L(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var KI=class{convertValue(e,n="none"){switch(_i(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ae(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(br(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw W(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Di(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[ea].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ae(s.doubleValue));return new yi(o)}convertGeoPoint(e){return new mi(Ae(e.latitude),Ae(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=rp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(yu(e));default:return null}}convertTimestamp(e){let n=Dr(e);return new We(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Re.fromString(e);ve(HM(r),9688,{name:e});let i=new Df(r.get(1),r.get(3)),o=new q(r.popFirst(5));return i.isEqual(n)||Tr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function TP(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Ao=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ro=class t extends Zf{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Js(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(_w("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new L(M.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Ro._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ro._jsonSchema={type:Ge("string",Ro._jsonSchemaVersion),bundleSource:Ge("string","DocumentSnapshot"),bundleName:Ge("string"),bundle:Ge("string")};var Js=class extends Ro{data(e={}){return super.data(e)}},Zs=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ao(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Js(this._firestore,this._userDataWriter,r.key,r,new Ao(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new Js(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ao(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new Js(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ao(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:X4(a.type),doc:c,oldIndex:l,newIndex:h}})}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new L(M.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=pu.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function X4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W(61501,{type:t})}}function DP(t){t=rn(t,Ze);let e=rn(t.firestore,Xn);return q4(mw(e),t._key).then(n=>RP(e,t,n))}Zs._jsonSchemaVersion="firestore/querySnapshot/1.0",Zs._jsonSchema={type:Ge("string",Zs._jsonSchemaVersion),bundleSource:Ge("string","QuerySnapshot"),bundleName:Ge("string"),bundle:Ge("string")};var ep=class extends KI{constructor(e){super(),this.firestore=e}convertBytes(e){return new gi(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ze(this.firestore,null,n)}};function bP(t,e,n){t=rn(t,Ze);let r=rn(t.firestore,Xn),i=TP(t.converter,e,n);return dp(r,[gP(lp(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Qn.none())])}function CP(t,e,n,...r){t=rn(t,Ze);let i=rn(t.firestore,Xn),o=lp(i),s;return s=typeof(e=Fe(e))=="string"||e instanceof ha?Q4(o,"updateDoc",t._key,e,n,r):K4(o,"updateDoc",t._key,e),dp(i,[s.toMutation(t._key,Qn.exists(!0))])}function SP(t){return dp(rn(t.firestore,Xn),[new _u(t._key,Qn.none())])}function AP(t,e){let n=rn(t.firestore,Xn),r=gw(t),i=TP(t.converter,e);return dp(n,[gP(lp(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Qn.exists(!1))]).then(()=>r)}function Ew(t,...e){var n,r,i;t=Fe(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||$N(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if($N(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let c,l,h;if(t instanceof Ze)l=rn(t.firestore,Xn),h=ip(t._key.path),c={next:p=>{e[s]&&e[s](RP(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=rn(t,da);l=rn(p.firestore,Xn),h=p._query;let g=new ep(l);c={next:y=>{e[s]&&e[s](new Zs(l,g,p,y))},error:e[s+1],complete:e[s+2]},Z4(t._query)}return(function(g,y,T,A){let S=new qf(A),P=new $f(y,S,T);return g.asyncQueue.enqueueAndForget(async()=>XM(await jI(g),P)),()=>{S.Ou(),g.asyncQueue.enqueueAndForget(async()=>eP(await jI(g),P))}})(mw(l),h,a,c)}function dp(t,e){return(function(r,i){let o=new Gn;return r.asyncQueue.enqueueAndForget(async()=>O4(await z4(r),i,o)),o.promise})(mw(t),e)}function RP(t,e,n){let r=n.docs.get(e._key),i=new ep(t);return new Ro(t,i,e._key,r,new Ao(n.hasPendingWrites,n.fromCache),e.converter)}function $oe(...t){return new $I("arrayUnion",t)}function Hoe(...t){return new HI("arrayRemove",t)}(function(e,n=!0){(function(i){fa=i})(fi),wn(new Dt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Xn(new hE(r.getProvider("auth-internal")),new gE(s,r.getProvider("app-check-internal")),(function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new L(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Df(l.options.projectId,h)})(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ve(ZR,XR,e),Ve(ZR,XR,"esm2017")})();var ez="firebase",tz="11.10.0";Ve(ez,tz,"app");function NP(t){t===void 0&&(t=N(Pe));let e=t.get(Xr);return n=>new J(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var bi=new $r("ANGULARFIRE2_VERSION");function Au(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var va=(t,e)=>{let n=e?[e]:uf(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ya=(function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t})(ya||{}),MP=Lv()&&typeof Zone<"u"?ya.WARN:ya.SILENT;var hp=class{zone;delegate;constructor(e,n=mg){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},Ci=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=N(Ie);this.outsideAngular=n.runOutsideAngular(()=>new hp(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new hp(typeof Zone>"u"?void 0:Zone.current,za))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),PP=!1;function nz(t,e){!PP&&(MP>ya.SILENT||Lv())&&(PP=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),MP>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function rz(t){let e=N(Ie,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function Vo(t){let e=N(Ie,{optional:!0});return e?e.run(()=>t()):t()}var iz=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),ke(n,()=>Vo(()=>t.apply(void 0,r)))),Ne=(t,e,n)=>(n||=e?ya.WARN:ya.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=N(Ci),s=N(Xr),a=N(Se)}catch{return nz(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Vo(()=>s.add())),i[l]=iz(i[l],r,a));let c=rz(()=>t.apply(this,i));return e?c instanceof J?c.pipe(Vr(o.outsideAngular),Fr(o.insideAngular),NP(a)):c instanceof Promise?Vo(()=>{let l=s.add();return new Promise((h,p)=>{c.then(g=>ke(a,()=>Vo(()=>h(g))),g=>ke(a,()=>Vo(()=>p(g)))).finally(l)})}):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:Vo(()=>c):c instanceof J?c.pipe(Vr(o.outsideAngular),Fr(o.insideAngular)):Vo(()=>c)});var Ar=class{constructor(e){return e}},jo=class{constructor(){return uf()}};function oz(t){return t&&t.length===1?t[0]:new Ar(bo())}var Iw=new j("angularfire2._apps"),sz={provide:Ar,useFactory:oz,deps:[[new Mt,Iw]]},az={provide:jo,deps:[[new Mt,Iw]]};function cz(t){return(e,n)=>{let r=n.get(lo);Ve("angularfire",bi.full,"core"),Ve("angularfire",bi.full,"app"),Ve("angular",Kg.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Ar(i)}}function yse(t,...e){return et([sz,az,{provide:Iw,useFactory:cz(t),multi:!0,deps:[Ie,Pe,Ci,...e]}])}var vse=Ne(X_,!0);var uz=new Map,lz={activated:!1,tokenObservers:[]},dz={initialized:!1,enabled:!1};function bn(t){return uz.get(t)||Object.assign({},lz)}function LP(){return dz}var hz="https://content-firebaseappcheck.googleapis.com/v1";var fz="exchangeDebugToken",kP={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},Sse=1440*60*1e3;var Dw=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new To,this.pending.promise.catch(n=>{}),await pz(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new To,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function pz(t){return new Promise(e=>{setTimeout(e,t)})}var gz={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Si=new In("appCheck","AppCheck",gz);function FP(t){if(!bn(t).activated)throw Si.create("use-before-activation",{appName:t.name})}async function VP({url:t,body:e},n){let r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){let p=await i.getHeartbeatsHeader();p&&(r["X-Firebase-Client"]=p)}let o={method:"POST",body:JSON.stringify(e),headers:r},s;try{s=await fetch(t,o)}catch(p){throw Si.create("fetch-network-error",{originalErrorMessage:p?.message})}if(s.status!==200)throw Si.create("fetch-status-error",{httpStatus:s.status});let a;try{a=await s.json()}catch(p){throw Si.create("fetch-parse-error",{originalErrorMessage:p?.message})}let c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw Si.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});let l=Number(c[1])*1e3,h=Date.now();return{token:a.token,expireTimeMillis:h+l,issuedAtTimeMillis:h}}function jP(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${hz}/projects/${n}/apps/${r}:${fz}?key=${i}`,body:{debug_token:e}}}var mz="firebase-app-check-database",yz=1,bw="firebase-app-check-store";var fp=null;function vz(){return fp||(fp=new Promise((t,e)=>{try{let n=indexedDB.open(mz,yz);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Si.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(bw,{keyPath:"compositeKey"})}}}catch(n){e(Si.create("storage-open",{originalErrorMessage:n?.message}))}}),fp)}function _z(t,e){return Ez(Iz(t),e)}async function Ez(t,e){let r=(await vz()).transaction(bw,"readwrite"),o=r.objectStore(bw).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(Si.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})}function Iz(t){return`${t.options.appId}-${t.name}`}var Ru=new zn("@firebase/app-check");function ww(t,e){return ou()?_z(t,e).catch(n=>{Ru.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function UP(){return LP().enabled}async function BP(){let t=LP();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}var wz={error:"UNKNOWN_ERROR"};function Tz(t){return tf.encodeString(JSON.stringify(t),!1)}async function Cw(t,e=!1,n=!1){let r=t.app;FP(r);let i=bn(r),o=i.token,s;if(o&&!Nu(o)&&(i.token=void 0,o=void 0),!o){let l=await i.cachedTokenPromise;l&&(Nu(l)?o=l:await ww(r,void 0))}if(!e&&o&&Nu(o))return{token:o.token};let a=!1;if(UP())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=VP(jP(r,await BP()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=await i.exchangeTokenPromise;return await ww(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Ru.warn(l.message):n&&Ru.error(l),Tw(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=await bn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Ru.warn(l.message):n&&Ru.error(l),s=l}let c;return o?s?Nu(o)?c={token:o.token,internalError:s}:c=Tw(s):(c={token:o.token},i.token=o,await ww(r,o)):c=Tw(s),a&&Sz(r,c),c}async function Dz(t){let e=t.app;FP(e);let{provider:n}=bn(e);if(UP()){let r=await BP(),{token:i}=await VP(jP(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=await n.getToken();return{token:r}}}function bz(t,e,n,r){let{app:i}=t,o=bn(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Nu(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),OP(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>OP(t))}function $P(t,e){let n=bn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function OP(t){let{app:e}=t,n=bn(e),r=n.tokenRefresher;r||(r=Cz(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Cz(t){let{app:e}=t;return new Dw(async()=>{let n=bn(e),r;if(n.token?r=await Cw(t,!0):r=await Cw(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{let n=bn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},kP.RETRIAL_MIN_WAIT,kP.RETRIAL_MAX_WAIT)}function Sz(t,e){let n=bn(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Nu(t){return t.expireTimeMillis-Date.now()>0}function Tw(t){return{token:Tz(wz),error:t}}var Sw=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=bn(this.app);for(let n of e)$P(this.app,n.next);return Promise.resolve()}};function Az(t,e){return new Sw(t,e)}function Rz(t){return{getToken:e=>Cw(t,e),getLimitedUseToken:()=>Dz(t),addTokenListener:e=>bz(t,"INTERNAL",e),removeTokenListener:e=>$P(t.app,e)}}var Nz="@firebase/app-check",Mz="0.10.1";var Pz="app-check",xP="app-check-internal";function kz(){wn(new Dt(Pz,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return Az(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(xP).initialize()})),wn(new Dt(xP,t=>{let e=t.getProvider("app-check").getImmediate();return Rz(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ve(Nz,Mz)}kz();var Oz="app-check";var _a=class{constructor(){return va(Oz)}};var xz=["localhost","0.0.0.0","127.0.0.1"],jse=typeof window<"u"&&xz.includes(window.location.hostname);function ik(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var ok=ik,sk=new In("auth","Firebase",ik());var _p=new zn("@firebase/auth");function Lz(t,...e){_p.logLevel<=ae.WARN&&_p.warn(`Auth (${fi}): ${t}`,...e)}function gp(t,...e){_p.logLevel<=ae.ERROR&&_p.error(`Auth (${fi}): ${t}`,...e)}function on(t,...e){throw Yw(t,...e)}function Cn(t,...e){return Yw(t,...e)}function Qw(t,e,n){let r=Object.assign(Object.assign({},ok()),{[e]:n});return new In("auth","Firebase",r).create(e,{appName:t.name})}function Mr(t){return Qw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Fz(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&on(t,"argument-error"),Qw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Yw(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return sk.create(t,...e)}function Q(t,e,...n){if(!t)throw Yw(e,...n)}function Rr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw gp(e),new Error(e)}function Pr(t,e){t||Rr(e)}function Nw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Vz(){return HP()==="http:"||HP()==="https:"}function HP(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function jz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Vz()||RR()||"connection"in navigator)?navigator.onLine:!0}function Uz(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Uo=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Pr(n>e,"Short delay should be less than long delay!"),this.isMobile=SR()||NR()}get(){return jz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Jw(t,e){Pr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Ep=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Bz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var $z=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Hz=new Uo(3e4,6e4);function Ni(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Mi(t,e,n,r,i={}){return ak(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});let a=Us(Object.assign({key:t.config.apiKey},s)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);let l=Object.assign({method:e,headers:c},o);return AR()||(l.referrerPolicy="no-referrer"),t.emulatorConfig&&di(t.emulatorConfig.host)&&(l.credentials="include"),Ep.fetch()(await ck(t,t.config.apiHost,n,a),l)})}async function ak(t,e,n){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},Bz),e);try{let i=new Mw(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw pp(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw pp(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw pp(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw pp(t,"user-disabled",s);let h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Qw(t,h,l);on(t,h)}}catch(i){if(i instanceof Bt)throw i;on(t,"network-request-failed",{message:String(i)})}}async function ju(t,e,n,r,i={}){let o=await Mi(t,e,n,r,i);return"mfaPendingCredential"in o&&on(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function ck(t,e,n,r){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?Jw(t.config,i):`${t.config.apiScheme}://${i}`;return $z.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function zz(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Mw=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Cn(this.auth,"network-request-failed")),Hz.get())})}};function pp(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Cn(t,e,r);return i.customData._tokenResponse=n,i}function zP(t){return t!==void 0&&t.enterprise!==void 0}var Pw=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return zz(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};async function qz(t,e){return Mi(t,"GET","/v2/recaptchaConfig",Ni(t,e))}async function Gz(t,e){return Mi(t,"POST","/v1/accounts:delete",e)}async function Ip(t,e){return Mi(t,"POST","/v1/accounts:lookup",e)}function Pu(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Zw(t,e=!1){let n=Fe(t),r=await n.getIdToken(e),i=Xw(r);Q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Pu(Aw(i.auth_time)),issuedAtTime:Pu(Aw(i.iat)),expirationTime:Pu(Aw(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Aw(t){return Number(t)*1e3}function Xw(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return gp("JWT malformed, contained fewer than 3 sections"),null;try{let i=nf(n);return i?JSON.parse(i):(gp("Failed to decode base64 JWT payload"),null)}catch(i){return gp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function qP(t){let e=Xw(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ou(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Bt&&Wz(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Wz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var kw=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var xu=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pu(this.lastLoginAt),this.creationTime=Pu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function wp(t){var e;let n=t.auth,r=await t.getIdToken(),i=await Ou(t,Ip(n,{idToken:r}));Q(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?uk(o.providerUserInfo):[],a=Kz(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=c?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new xu(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function eT(t){let e=Fe(t);await wp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Kz(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function uk(t){return t.map(e=>{var{providerId:n}=e,r=al(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function Qz(t,e){let n=await ak(t,{},async()=>{let r=Us({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await ck(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return t.emulatorConfig&&di(t.emulatorConfig.host)&&(c.credentials="include"),Ep.fetch()(s,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Yz(t,e){return Mi(t,"POST","/v2/accounts:revokeToken",Ni(t,e))}var ku=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Q(e.length!==0,"internal-error");let n=qP(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){let{accessToken:r,refreshToken:i,expiresIn:o}=await Qz(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(Q(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Q(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Q(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Rr("not implemented")}};function Ai(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ri=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=al(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new xu(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){let n=await Ou(this,this.stsTokenManager.getToken(this.auth,e));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Zw(this,e)}reload(){return eT(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await wp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bt(this.auth.app))return Promise.reject(Mr(this.auth));let e=await this.getIdToken();return await Ou(this,Gz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,T=(s=n.photoURL)!==null&&s!==void 0?s:void 0,A=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,P=(l=n.createdAt)!==null&&l!==void 0?l:void 0,B=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:H,emailVerified:G,isAnonymous:Ce,providerData:se,stsTokenManager:w}=n;Q(H&&w,e,"internal-error");let v=ku.fromJSON(this.name,w);Q(typeof H=="string",e,"internal-error"),Ai(p,e.name),Ai(g,e.name),Q(typeof G=="boolean",e,"internal-error"),Q(typeof Ce=="boolean",e,"internal-error"),Ai(y,e.name),Ai(T,e.name),Ai(A,e.name),Ai(S,e.name),Ai(P,e.name),Ai(B,e.name);let _=new t({uid:H,auth:e,email:g,emailVerified:G,displayName:p,isAnonymous:Ce,photoURL:T,phoneNumber:y,tenantId:A,stsTokenManager:v,createdAt:P,lastLoginAt:B});return se&&Array.isArray(se)&&(_.providerData=se.map(I=>Object.assign({},I))),S&&(_._redirectEventId=S),_}static async _fromIdTokenResponse(e,n,r=!1){let i=new ku;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await wp(o),o}static async _fromGetAccountInfoResponse(e,n,r){let i=n.users[0];Q(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?uk(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new ku;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new xu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c}};var GP=new Map;function Nr(t){Pr(t instanceof Function,"Expected a class definition");let e=GP.get(t);return e?(Pr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,GP.set(t,e),e)}var Jz=(()=>{class t{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(n,r){this.storage[n]=r}async _get(n){let r=this.storage[n];return r===void 0?null:r}async _remove(n){delete this.storage[n]}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Ow=Jz;function mp(t,e,n){return`firebase:${t}:${e}:${n}`}var Tp=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=mp(this.userKey,i.apiKey,o),this.fullPersistenceKey=mp("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=await Ip(this.auth,{idToken:e}).catch(()=>{});return n?Ri._fromGetAccountInfoResponse(this.auth,n,e):null}return Ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new t(Nr(Ow),e,r);let i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l),o=i[0]||Nr(Ow),s=mp(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=await l._get(s);if(h){let p;if(typeof h=="string"){let g=await Ip(e,{idToken:h}).catch(()=>{});if(!g)break;p=await Ri._fromGetAccountInfoResponse(e,g,h)}else p=Ri._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==o)try{await l._remove(s)}catch{}})),new t(o,e,r))}};function WP(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gk(e))return"Blackberry";if(mk(e))return"Webos";if(dk(e))return"Safari";if((e.includes("chrome/")||hk(e))&&!e.includes("edge/"))return"Chrome";if(pk(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function lk(t=nt()){return/firefox\//i.test(t)}function dk(t=nt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hk(t=nt()){return/crios\//i.test(t)}function fk(t=nt()){return/iemobile/i.test(t)}function pk(t=nt()){return/android/i.test(t)}function gk(t=nt()){return/blackberry/i.test(t)}function mk(t=nt()){return/webos/i.test(t)}function tT(t=nt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Zz(t=nt()){var e;return tT(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Xz(){return MR()&&document.documentMode===10}function yk(t=nt()){return tT(t)||pk(t)||mk(t)||gk(t)||/windows phone/i.test(t)||fk(t)}function vk(t,e=[]){let n;switch(t){case"Browser":n=WP(nt());break;case"Worker":n=`${WP(nt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fi}/${r}`}var xw=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function eq(t,e={}){return Mi(t,"GET","/v2/passwordPolicy",Ni(t,e))}var tq=6,Lw=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:tq,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Fw=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dp(this),this.idTokenSubscription=new Dp(this),this.beforeStateQueue=new xw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Nr(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Tp.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let n=await Ip(this,{idToken:e}),r=await Ri._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(bt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=await this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wp(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Uz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bt(this.app))return Promise.reject(Mr(this));let n=e?Fe(e):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bt(this.app)?Promise.reject(Mr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bt(this.app)?Promise.reject(Mr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await eq(this),n=new Lw(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new In("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){let n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Yz(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){let r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let n=e&&Nr(e)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=await Tp.create(this,[Nr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);let i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(bt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&Lz(`Error while retrieving App Check token: ${n.error}`),n?.token}};function Pi(t){return Fe(t)}var Dp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=xR(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var kp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nq(t){kp=t}function _k(t){return kp.loadJS(t)}function rq(){return kp.recaptchaEnterpriseScript}function iq(){return kp.gapiScript}function Ek(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var Vw=class{constructor(){this.enterprise=new jw}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}},jw=class{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}};var oq="recaptcha-enterprise",Ik="NO_RECAPTCHA",Uw=class{constructor(e){this.type=oq,this.auth=Pi(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{qz(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Pw(c);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(c=>{a(c)})})}function i(o,s,a){let c=window.grecaptcha;zP(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(Ik)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Vw().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&zP(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=rq();c.length!==0&&(c+=a),_k(c).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})}};async function Mu(t,e,n,r=!1,i=!1){let o=new Uw(t),s;if(i)s=Ik;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}let a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Bw(t,e,n,r,i){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=await Mu(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=await Mu(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=await Mu(t,e,n);return r(t,a).catch(async c=>{var l;if(((l=t._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let h=await Mu(t,e,n,!1,!0);return r(t,h)}return Promise.reject(c)})}else{let a=await Mu(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")}function nT(t,e){let n=Hs(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(en(o,e??{}))return i;on(i,"already-initialized")}return n.initialize({options:e})}function sq(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Nr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function rT(t,e,n){let r=Pi(t);Q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=wk(e),{host:s,port:a}=aq(e),c=a===null?"":`:${a}`,l={url:`${o}//${s}${c}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Q(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Q(en(l,r.config.emulator)&&en(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,di(s)?(of(`${o}//${s}${c}`),sf("Auth",!0)):i||cq()}function wk(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function aq(t){let e=wk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:KP(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:KP(s)}}}function KP(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function cq(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Ia=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Rr("not implemented")}_getIdTokenResponse(e){return Rr("not implemented")}_linkToIdToken(e,n){return Rr("not implemented")}_getReauthenticationResolver(e){return Rr("not implemented")}};async function uq(t,e){return Mi(t,"POST","/v1/accounts:signUp",e)}async function lq(t,e){return ju(t,"POST","/v1/accounts:signInWithPassword",Ni(t,e))}async function dq(t,e){return ju(t,"POST","/v1/accounts:signInWithEmailLink",Ni(t,e))}async function hq(t,e){return ju(t,"POST","/v1/accounts:signInWithEmailLink",Ni(t,e))}var Lu=class t extends Ia{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bw(e,n,"signInWithPassword",lq,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return dq(e,{email:this._email,oobCode:this._password});default:on(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bw(e,r,"signUpPassword",uq,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return hq(e,{idToken:n,email:this._email,oobCode:this._password});default:on(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};async function Ea(t,e){return ju(t,"POST","/v1/accounts:signInWithIdp",Ni(t,e))}var fq="http://localhost",bp=class t extends Ia{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):on("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=al(n,["providerId","signInMethod"]);if(!r||!i)return null;let s=new t(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let n=this.buildRequest();return Ea(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,Ea(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,Ea(e,n)}buildRequest(){let e={requestUri:fq,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Us(n)}return e}};function pq(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gq(t){let e=Bs($s(t)).link,n=e?Bs($s(e)).deep_link_id:null,r=Bs($s(t)).deep_link_id;return(r?Bs($s(r)).link:null)||r||n||e||t}var Cp=class t{constructor(e){var n,r,i,o,s,a;let c=Bs($s(e)),l=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,p=pq((i=c.mode)!==null&&i!==void 0?i:null);Q(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=gq(e);try{return new t(n)}catch{return null}}};var Tk=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Lu._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Cp.parseLink(r);return Q(i,"argument-error"),Lu._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Fu=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Sp=class extends Fu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var iT=(()=>{class t extends Sp{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return bp._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();async function mq(t,e){return ju(t,"POST","/v1/accounts:signUp",Ni(t,e))}var wa=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){let o=await Ri._fromIdTokenResponse(e,r,i),s=QP(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);let i=QP(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})}};function QP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var $w=class t extends Bt{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function Dk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?$w._fromErrorAndOperation(t,o,e,r):o})}async function yq(t,e,n=!1){let r=await Ou(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return wa._forOperation(t,"link",r)}async function vq(t,e,n=!1){let{auth:r}=t;if(bt(r.app))return Promise.reject(Mr(r));let i="reauthenticate";try{let o=await Ou(t,Dk(r,i,e,t),n);Q(o.idToken,r,"internal-error");let s=Xw(o.idToken);Q(s,r,"internal-error");let{sub:a}=s;return Q(t.uid===a,r,"user-mismatch"),wa._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&on(r,"user-mismatch"),o}}async function bk(t,e,n=!1){if(bt(t.app))return Promise.reject(Mr(t));let r="signIn",i=await Dk(t,r,e),o=await wa._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function oT(t,e){return bk(Pi(t),e)}async function Ck(t){let e=Pi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function sT(t,e,n){if(bt(t.app))return Promise.reject(Mr(t));let r=Pi(t),s=await Bw(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mq,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Ck(t),c}),a=await wa._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function aT(t,e,n){return bt(t.app)?Promise.reject(Mr(t)):oT(Fe(t),Tk.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Ck(t),r})}function Uu(t,e,n,r){return Fe(t).onIdTokenChanged(e,n,r)}function cT(t,e,n){return Fe(t).beforeAuthStateChanged(e,n)}function Op(t,e,n,r){return Fe(t).onAuthStateChanged(e,n,r)}function uT(t){return Fe(t).signOut()}var Ap="__sak";var Rp=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ap,"1"),this.storage.removeItem(Ap),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var _q=1e3,Eq=10,Iq=(()=>{class t extends Rp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yk(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);Xz()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,Eq):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},_q)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(n,r){await super._set(n,r),this.localCache[n]=JSON.stringify(r)}async _get(n){let r=await super._get(n);return this.localCache[n]=JSON.stringify(r),r}async _remove(n){await super._remove(n),delete this.localCache[n]}}return t.type="LOCAL",t})(),Sk=Iq;var wq=(()=>{class t extends Rp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),lT=wq;function Tq(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}var Dq=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}async handleEvent(n){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(async h=>h(r.origin,s)),l=await Tq(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function dT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Hw=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=dT("",20);i.port1.start();let h=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}};function er(){return window}function bq(t){er().location.href=t}function Ak(){return typeof er().WorkerGlobalScope<"u"&&typeof er().importScripts=="function"}async function Cq(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Sq(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Aq(){return Ak()?self:null}var Rk="firebaseLocalStorageDb",Rq=1,Np="firebaseLocalStorage",Nk="fbase_key",Bo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function xp(t,e){return t.transaction([Np],e?"readwrite":"readonly").objectStore(Np)}function Nq(){let t=indexedDB.deleteDatabase(Rk);return new Bo(t).toPromise()}function zw(){let t=indexedDB.open(Rk,Rq);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Np,{keyPath:Nk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{let r=t.result;r.objectStoreNames.contains(Np)?e(r):(r.close(),await Nq(),e(await zw()))})})}async function YP(t,e,n){let r=xp(t,!0).put({[Nk]:e,value:n});return new Bo(r).toPromise()}async function Mq(t,e){let n=xp(t,!1).get(e),r=await new Bo(n).toPromise();return r===void 0?null:r.value}function JP(t,e){let n=xp(t,!0).delete(e);return new Bo(n).toPromise()}var Pq=800,kq=3,Oq=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zw(),this.db)}async _withRetries(n){let r=0;for(;;)try{let i=await this._openDb();return await n(i)}catch(i){if(r++>kq)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ak()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dq._getInstance(Aq()),this.receiver._subscribe("keyChanged",async(n,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(n,r)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Cq(),!this.activeServiceWorker)return;this.sender=new Hw(this.activeServiceWorker);let i=await this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(n){if(!(!this.sender||!this.activeServiceWorker||Sq()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let n=await zw();return await YP(n,Ap,"1"),await JP(n,Ap),!0}catch{}return!1}async _withPendingWrite(n){this.pendingWrites++;try{await n()}finally{this.pendingWrites--}}async _set(n,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>YP(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)))}async _get(n){let r=await this._withRetries(i=>Mq(i,n));return this.localCache[n]=r,r}async _remove(n){return this._withPendingWrite(async()=>(await this._withRetries(r=>JP(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)))}async _poll(){let n=await this._withRetries(o=>{let s=xp(o,!1).getAll();return new Bo(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Pq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),Mk=Oq;var Wse=Ek("rcb"),Kse=new Uo(3e4,6e4);function Pk(t,e){return e?Nr(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Vu=class extends Ia{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ea(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ea(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ea(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function xq(t){return bk(t.auth,new Vu(t),t.bypassAuthState)}function Lq(t){let{auth:e,user:n}=t;return Q(n,e,"internal-error"),vq(n,new Vu(t),t.bypassAuthState)}async function Fq(t){let{auth:e,user:n}=t;return Q(n,e,"internal-error"),yq(n,new Vu(t),t.bypassAuthState)}var Mp=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xq;case"linkViaPopup":case"linkViaRedirect":return Fq;case"reauthViaPopup":case"reauthViaRedirect":return Lq;default:on(this.auth,"internal-error")}}resolve(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Vq=new Uo(2e3,1e4);async function hT(t,e,n){if(bt(t.app))return Promise.reject(Cn(t,"operation-not-supported-in-this-environment"));let r=Pi(t);Fz(t,e,Fu);let i=Pk(r,n);return new jq(r,"signInViaPopup",e,i).executeNotNull()}var jq=(()=>{class t extends Mp{constructor(n,r,i,o,s){super(n,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}async executeNotNull(){let n=await this.execute();return Q(n,this.auth,"internal-error"),n}async onExecution(){Pr(this.filter.length===1,"Popup operations only handle one event");let n=dT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Cn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(Cn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,Vq.get())};n()}}t.currentPopupAction=null;return t})(),Uq="pendingRedirect",yp=new Map,qw=class extends Mp{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=yp.get(this.auth._key());if(!e){try{let r=await Bq(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}yp.set(this.auth._key(),e)}return this.bypassAuthState||yp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function Bq(t,e){let n=zq(e),r=Hq(t);if(!await r._isAvailable())return!1;let i=await r._get(n)==="true";return await r._remove(n),i}function $q(t,e){yp.set(t._key(),e)}function Hq(t){return Nr(t._redirectPersistence)}function zq(t){return mp(Uq,t.config.apiKey,t.name)}async function qq(t,e,n=!1){if(bt(t.app))return Promise.reject(Mr(t));let r=Pi(t),i=Pk(r,e),s=await new qw(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}var Gq=600*1e3,Gw=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Wq(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!kk(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Cn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Gq&&this.cachedEventUids.clear(),this.cachedEventUids.has(ZP(e))}saveEventToCache(e){this.cachedEventUids.add(ZP(e)),this.lastProcessedEventTime=Date.now()}};function ZP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function kk({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Wq(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kk(t);default:return!1}}async function Kq(t,e={}){return Mi(t,"GET","/v1/projects",e)}var Qq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yq=/^https?/;async function Jq(t){if(t.config.emulator)return;let{authorizedDomains:e}=await Kq(t);for(let n of e)try{if(Zq(n))return}catch{}on(t,"unauthorized-domain")}function Zq(t){let e=Nw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!Yq.test(n))return!1;if(Qq.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var Xq=new Uo(3e4,6e4);function XP(){let t=er().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function e3(t){return new Promise((e,n)=>{var r,i,o;function s(){XP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{XP(),n(Cn(t,"network-request-failed"))},timeout:Xq.get()})}if(!((i=(r=er().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=er().gapi)===null||o===void 0)&&o.load)s();else{let a=Ek("iframefcb");return er()[a]=()=>{gapi.load?s():n(Cn(t,"network-request-failed"))},_k(`${iq()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw vp=null,e})}var vp=null;function t3(t){return vp=vp||e3(t),vp}var n3=new Uo(5e3,15e3),r3="__/auth/iframe",i3="emulator/auth/iframe",o3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},s3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function a3(t){let e=t.config;Q(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Jw(e,i3):`https://${t.config.authDomain}/${r3}`,r={apiKey:e.apiKey,appName:t.name,v:fi},i=s3.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Us(r).slice(1)}`}async function c3(t){let e=await t3(t),n=er().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:a3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:o3,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});let s=Cn(t,"network-request-failed"),a=er().setTimeout(()=>{o(s)},n3.get());function c(){er().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})}))}var u3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},l3=500,d3=600,h3="_blank",f3="http://localhost",Pp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function p3(t,e,n,r=l3,i=d3){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},u3),{width:r.toString(),height:i.toString(),top:o,left:s}),l=nt().toLowerCase();n&&(a=hk(l)?h3:n),lk(l)&&(e=e||f3,c.scrollbars="yes");let h=Object.entries(c).reduce((g,[y,T])=>`${g}${y}=${T},`,"");if(Zz(l)&&a!=="_self")return g3(e||"",a),new Pp(null);let p=window.open(e||"",a,h);Q(p,t,"popup-blocked");try{p.focus()}catch{}return new Pp(p)}function g3(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var m3="__/auth/handler",y3="emulator/auth/handler",v3=encodeURIComponent("fac");async function ek(t,e,n,r,i,o){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:fi,eventId:i};if(e instanceof Fu){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",OR(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof Sp){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let c=await t._getAppCheckToken(),l=c?`#${v3}=${encodeURIComponent(c)}`:"";return`${_3(t)}?${Us(a).slice(1)}${l}`}function _3({config:t}){return t.emulator?Jw(t,y3):`https://${t.authDomain}/${m3}`}var Rw="webStorageSupport",Ww=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lT,this._completeRedirectFn=qq,this._overrideRedirectResult=$q}async _openPopup(e,n,r,i){var o;Pr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=await ek(e,n,r,Nw(),i);return p3(e,s,dT())}async _openRedirect(e,n,r,i){await this._originValidation(e);let o=await ek(e,n,r,Nw(),i);return bq(o),new Promise(()=>{})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Pr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){let n=await c3(e),r=new Gw(e);return n.register("authEvent",i=>(Q(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rw,{type:Rw},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Rw];s!==void 0&&n(!!s),on(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Jq(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return yk()||dk()||tT()}},Ok=Ww;var tk="@firebase/auth",nk="1.10.8";var Kw=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function E3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function I3(t){wn(new Dt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Q(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vk(t)},l=new Fw(r,i,o,c);return sq(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),wn(new Dt("auth-internal",e=>{let n=Pi(e.getProvider("auth").getImmediate());return(r=>new Kw(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ve(tk,nk,E3(t)),Ve(tk,nk,"esm2017")}var w3=300,T3=V_("authIdTokenMaxAge")||w3,rk=null,D3=t=>async e=>{let n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>T3)return;let i=n?.token;rk!==i&&(rk=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function fT(t=bo()){let e=Hs(t,"auth");if(e.isInitialized())return e.getImmediate();let n=nT(t,{popupRedirectResolver:Ok,persistence:[Mk,Sk,lT]}),r=V_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=D3(o.toString());cT(n,s,()=>s(n.currentUser)),Uu(n,a=>s(a))}}let i=L_("auth");return i&&rT(n,`http://${i}`),n}function b3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}nq({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Cn("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",b3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});I3("Browser");function Lk(t){return new J(function(e){var n=Op(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}function Fk(t){return new J(function(e){var n=Uu(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var Vk="auth",$o=class{constructor(e){return e}},Bu=class{constructor(){return va(Vk)}};var pT=new j("angularfire2.auth-instances");function d6(t,e){let n=Au(Vk,t,e);return n&&new $o(n)}function h6(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new $o(r)}}var f6={provide:Bu,deps:[[new Mt,pT]]},p6={provide:$o,useFactory:d6,deps:[[new Mt,pT],Ar]};function Lae(t,...e){return Ve("angularfire",bi.full,"auth"),et([p6,f6,{provide:pT,useFactory:h6(t),multi:!0,deps:[Ie,Pe,Ci,jo,[new Mt,_a],...e]}])}var Fae=Ne(Lk,!0);var jk=Ne(Fk,!0);var Uk=Ne(sT,!0,2);var Vae=Ne(fT,!0);var Bk=Ne(aT,!0,2);var $k=Ne(hT,!0,2);var Hk=Ne(uT,!0,2);var Lp=function(){return Lp=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Lp.apply(this,arguments)};var y6={includeMetadataChanges:!1};function gT(t,e){return e===void 0&&(e=y6),new J(function(n){var r=Ew(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function zk(t){return gT(t,{includeMetadataChanges:!0})}function qk(t,e){return e===void 0&&(e={}),zk(t).pipe(de(function(n){return mT(n,e)}))}function mT(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Lp(Lp({},r),(n={},n[e.idField]=t.id,n))}function Gk(t){return gT(t,{includeMetadataChanges:!0}).pipe(de(function(e){return e.docs}))}function Wk(t,e){return e===void 0&&(e={}),Gk(t).pipe(de(function(n){return n.map(function(r){return mT(r,e)})}))}var Ho=class{constructor(e){return e}},Kk="firestore",yT=class{constructor(){return va(Kk)}};var vT=new j("angularfire2.firestore-instances");function v6(t,e){let n=Au(Kk,t,e);return n&&new Ho(n)}function _6(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ho(r)}}var E6={provide:yT,deps:[[new Mt,vT]]},I6={provide:Ho,useFactory:v6,deps:[[new Mt,vT],Ar]};function Zce(t,...e){return Ve("angularfire",bi.full,"fst"),et([I6,E6,{provide:vT,useFactory:_6(t),multi:!0,deps:[Ie,Pe,Ci,jo,[new Mt,Bu],[new Mt,_a],...e]}])}var Xce=Ne(Wk,!0);var Qk=Ne(qk,!0);var eue=Ne(AP,!0,2);var tue=Ne(hP,!0,2);var Yk=Ne(SP,!0,2);var $u=Ne(gw,!0,2);var _T=Ne(DP,!0);var nue=Ne(fP,!0);var rue=Ne(EP,!0,2);var ET=Ne(bP,!0,2);var Jk=Ne(CP,!0,2);var iue=Ne(IP,!0,2);var Zk=class t{auth=N($o);firestore=N(Ho);router=N(Xt);currentUser=Jt(null);currentProfile=Jt(null);currentRole=Jt(null);user$=jk(this.auth);constructor(){this.user$.pipe($e(e=>e?(this.currentUser.set(e),Qk($u(this.firestore,"users",e.uid))):(this.currentUser.set(null),Y(null)))).subscribe(e=>{e?(this.currentRole.set(e.role),this.currentProfile.set(e)):(this.currentRole.set(null),this.currentProfile.set(null))})}hasRole(e){return this.currentRole()===e}register(e,n){return Ee(Uk(this.auth,e,n)).pipe($e(async r=>{let i={uid:r.user.uid,email:e,role:"user",displayName:"Usuario Nuevo",photoURL:""};await ET($u(this.firestore,"users",r.user.uid),i),this.router.navigate(["/home"])}))}login(e,n){return Ee(Bk(this.auth,e,n)).pipe($e(r=>this._handleUserLogin(r.user)))}loginWithGoogle(){let e=new iT;return Ee($k(this.auth,e)).pipe($e(n=>this._handleUserLogin(n.user)))}logout(){return Ee(Hk(this.auth)).pipe($e(()=>(this.currentRole.set(null),this.currentProfile.set(null),this.router.navigate(["/login"]),Y(void 0))))}isAuthenticated(){return this.currentUser()!==null}async _handleUserLogin(e){let n=$u(this.firestore,`users/${e.uid}`),r=await _T(n);if(r.exists()){let i=r.data(),o=i.photoURL||e.photoURL||"";await Jk(n,{photoURL:o,displayName:i.displayName||e.displayName,email:e.email}),this.router.navigate(["/home"])}else{let i=$u(this.firestore,`users/${e.email}`),o=await _T(i),s="user";if(o.exists()){let c=o.data();c&&c.role==="Programador"&&(s="Programador",await Yk(i))}let a={uid:e.uid,email:e.email||"",displayName:e.displayName||"Usuario Google",photoURL:e.photoURL||"",role:s};await ET(n,a),this.router.navigate(["/home"])}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})};export{x as a,_e as b,LO as c,Xe as d,Ee as e,Y as f,de as g,Sl as h,sx as i,Bi as j,ix as k,Sn as l,qD as m,ns as n,$e as o,ft as p,V as q,Ql as r,F as s,ar as t,j as u,$ as v,N as w,et as x,Ob as y,xb as z,Wb as A,Kb as B,Pe as C,be as D,Yt as E,gt as F,Ie as G,Wx as H,Jt as I,Nt as J,uo as K,Tc as L,Ln as M,S1 as N,Zt as O,rL as P,vS as Q,oL as R,EL as S,pn as T,rv as U,Rc as V,oo as W,ws as X,Ye as Y,_v as Z,ni as _,ri as $,oA as aa,aA as ba,ho as ca,fo as da,ih as ea,CV as fa,Dv as ga,SV as ha,AV as ia,RV as ja,NV as ka,lA as la,bv as ma,Cv as na,oh as oa,Sv as pa,Av as qa,dA as ra,fA as sa,pA as ta,LV as ua,gA as va,mA as wa,sh as xa,vA as ya,jV as za,UV as Aa,IA as Ba,wA as Ca,JV as Da,cj as Ea,AA as Fa,Pv as Ga,hj as Ha,mj as Ia,yj as Ja,vj as Ka,Ej as La,wj as Ma,Dj as Na,Cj as Oa,po as Pa,mr as Qa,e2 as Ra,i2 as Sa,qA as Ta,Yv as Ua,E2 as Va,h0 as Wa,G2 as Xa,W2 as Ya,K2 as Za,Hn as _a,E_ as $a,Xt as ab,ef as bb,NB as cb,PB as db,kB as eb,OB as fb,yse as gb,vse as hb,$o as ib,Lae as jb,Fae as kb,Vae as lb,$oe as mb,Hoe as nb,Ho as ob,Zce as pb,Xce as qb,Qk as rb,eue as sb,tue as tb,Yk as ub,$u as vb,_T as wb,nue as xb,rue as yb,Jk as zb,iue as Ab,Zk as Bb};
