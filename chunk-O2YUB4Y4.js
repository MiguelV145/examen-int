import{a as m}from"./chunk-RAIKBLXF.js";var a=class{constructor(e=0,r="Network Error"){this.status=e,this.text=r}};var R=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}};var o={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:R()};var c=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{};var L=(t,e="https://api.emailjs.com")=>{if(!t)return;let r=c(t);o.publicKey=r.publicKey,o.blockHeadless=r.blockHeadless,o.storageProvider=r.storageProvider,o.blockList=r.blockList,o.limitRate=r.limitRate,o.origin=r.origin||e};var p=async(t,e,r={})=>{let s=await fetch(o.origin+t,{method:"POST",headers:r,body:e}),i=await s.text(),n=new a(s.status,i);if(s.ok)return n;throw n};var d=(t,e,r)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r||typeof r!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"};var S=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"};var f=t=>t.webdriver||!t.languages||t.languages.length===0;var u=()=>new a(451,"Unavailable For Headless Browser");var T=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"};var F=t=>!t.list?.length||!t.watchVariable,B=(t,e)=>t instanceof FormData?t.get(e):t[e],b=(t,e)=>{if(F(t))return!1;T(t.list,t.watchVariable);let r=B(e,t.watchVariable);return typeof r!="string"?!1:t.list.includes(r)};var h=()=>new a(403,"Forbidden");var j=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"};var O=async(t,e,r)=>{let s=Number(await r.get(t)||0);return e-Date.now()+s},g=async(t,e,r)=>{if(!e.throttle||!r)return!1;j(e.throttle,e.id);let s=e.id||t;return await O(s,e.throttle,r)>0?!0:(await r.set(s,Date.now().toString()),!1)};var v=()=>new a(429,"Too Many Requests");var H=async(t,e,r,s)=>{let i=c(s),n=i.publicKey||o.publicKey,w=i.blockHeadless||o.blockHeadless,y=i.storageProvider||o.storageProvider,k=m(m({},o.blockList),i.blockList),P=m(m({},o.limitRate),i.limitRate);return w&&f(navigator)?Promise.reject(u()):(d(n,t,e),S(r),r&&b(k,r)?Promise.reject(h()):await g(location.pathname,P,y)?Promise.reject(v()):p("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:n,service_id:t,template_id:e,template_params:r}),{"Content-type":"application/json"}))};var E=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"};var _=t=>typeof t=="string"?document.querySelector(t):t,V=async(t,e,r,s)=>{let i=c(s),n=i.publicKey||o.publicKey,w=i.blockHeadless||o.blockHeadless,y=o.storageProvider||i.storageProvider,k=m(m({},o.blockList),i.blockList),P=m(m({},o.limitRate),i.limitRate);if(w&&f(navigator))return Promise.reject(u());let x=_(r);d(n,t,e),E(x);let l=new FormData(x);return b(k,l)?Promise.reject(h()):await g(location.pathname,P,y)?Promise.reject(v()):(l.append("lib_version","4.4.1"),l.append("service_id",t),l.append("template_id",e),l.append("user_id",n),p("/api/v1.0/email/send-form",l))};var Mt={init:L,send:H,sendForm:V,EmailJSResponseStatus:a};export{Mt as a};
