<div class="min-h-screen bg-[#0f172a] text-base-content font-sans pb-20">
  
  <div class="hero py-20 bg-[#0f172a]">
    <div class="hero-content flex-col lg:flex-row justify-between w-full max-w-7xl px-4 lg:px-8">
      <div class="text-center lg:text-left lg:max-w-xl">
        <h1 class="text-5xl lg:text-6xl font-extrabold text-white leading-tight">
          Creando Experiencias Digitales con <span class="text-primary">InnovaciÃ³n.</span>
        </h1>
        <p class="py-6 text-lg text-gray-400">
          Somos un dÃºo creativo especializado en desarrollo web moderno, interfaces responsivas y aplicaciones centradas en el usuario.
        </p>
      </div>
      <div class="mt-10 lg:mt-0">
        <img src="https://www.galileo.edu/fisicc/files/2020/06/preview_video_fisicc-compressor.jpg" class="max-w-sm lg:max-w-md rounded-2xl shadow-2xl shadow-blue-900/50" alt="Design" />
      </div>
    </div>
  </div>

  <div class="container mx-auto px-4 mt-10">
    <div class="text-center mb-12">
      <h2 class="text-3xl font-bold text-white">Nuestros Talentos</h2>
      <p class="text-gray-500 mt-2">Programadores disponibles para asesorÃ­as personalizadas</p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto">
      @if (programmers$ | async; as programmers) {
        @for (prog of programmers; track prog.uid) {
          <div class="card bg-[#1e293b] border border-gray-700 shadow-xl hover:-translate-y-2 transition-transform duration-300">
            <div class="card-body items-center text-center">
              
              <div class="avatar mb-4">
                <div class="w-32 rounded-full ring ring-primary ring-offset-base-100 ring-offset-2">
                  <img [src]="prog.photoURL || 'https://ui-avatars.com/api/?name=' + prog.displayName" class="object-cover" />
                </div>
              </div>
              
              <h2 class="card-title text-2xl text-white">{{ prog.displayName || 'Programador' }}</h2>
              <p class="text-primary font-medium tracking-wide text-sm uppercase">{{ prog.specialty || 'Desarrollador' }}</p>
              
              @if (prog.availability) {
                <div class="badge badge-outline badge-accent mt-3 p-3 h-auto text-center gap-1">
                  ðŸ•’ {{ prog.availability.dias }} <br> <span class="text-xs opacity-75">({{ prog.availability.horas }})</span>
                </div>
              }

              <div class="card-actions w-full mt-6">
                <button (click)="openBookingModal(prog)" class="btn btn-primary btn-block font-bold">
                  ðŸ“© Contactar / Agendar
                </button>
              </div>

            </div>
          </div>
        }
        @if (programmers.length === 0) {
          <div class="col-span-full text-center py-10"><p class="text-gray-500 text-lg">No hay programadores disponibles.</p></div>
        }
      } @else {
        <div class="col-span-full text-center py-20"><span class="loading loading-spinner text-primary loading-lg"></span></div>
      }
    </div>
  </div>

</div>

<dialog id="booking_modal" class="modal modal-bottom sm:modal-middle backdrop-blur-sm">
  <div class="modal-box bg-[#0f172a] text-white border border-gray-700 w-11/12 max-w-2xl shadow-2xl p-6">
    
    <h3 class="font-bold text-2xl text-white mb-1">Contactar a <span class="text-primary">{{ selectedProg?.displayName }}</span></h3>
    <p class="text-gray-400 text-sm mb-6">Completa el formulario para enviar tu solicitud.</p>

    <form [formGroup]="bookingForm" (ngSubmit)="submitBooking()">
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
        <div class="form-control">
          <label class="label"><span class="label-text text-gray-300 font-semibold">Fecha Deseada</span></label>
          <input type="date" formControlName="date" class="input input-bordered bg-[#1e293b] border-gray-600 focus:border-primary text-white" />
        </div>
        <div class="form-control">
          <label class="label"><span class="label-text text-gray-300 font-semibold">Hora</span></label>
          <input type="time" formControlName="time" class="input input-bordered bg-[#1e293b] border-gray-600 focus:border-primary text-white" />
        </div>
      </div>

      <div class="form-control mb-4">
        <label class="label"><span class="label-text text-gray-300 font-semibold">Asunto</span></label>
        <input type="text" formControlName="subject" placeholder="Ej: Consulta Proyecto Angular" class="input input-bordered bg-[#1e293b] border-gray-600 focus:border-primary text-white" />
      </div>

      <div class="form-control mb-6">
        <label class="label"><span class="label-text text-gray-300 font-semibold">Mensaje</span></label>
        <textarea formControlName="comment" class="textarea textarea-bordered h-32 bg-[#1e293b] border-gray-600 focus:border-primary text-white text-base" placeholder="Hola, me gustarÃ­a saber si estÃ¡s disponible para..."></textarea>
      </div>

      <div class="modal-action">
        <button type="button" class="btn btn-ghost text-gray-400 hover:text-white" onclick="document.getElementById('booking_modal').close()">Cancelar</button>
        
        <button type="submit" class="btn btn-primary px-8" [disabled]="bookingForm.invalid || loadingBooking()">
          @if (loadingBooking()) { <span class="loading loading-spinner"></span> }
          Enviar Solicitud ðŸš€
        </button>
      </div>
    </form>
  </div>
  
  <form method="dialog" class="modal-backdrop">
    <button>close</button>
  </form>
</dialog>