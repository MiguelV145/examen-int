<div class="min-h-screen bg-[#0f172a] text-base-content font-sans pb-20">
  
  <div class="hero py-20 bg-[#0f172a]">
    <div class="hero-content flex-col lg:flex-row justify-between w-full max-w-7xl px-4 lg:px-8">
      
      <div class="text-center lg:text-left lg:max-w-xl">
        <h1 class="text-5xl lg:text-6xl font-extrabold text-white leading-tight">
          Creando Experiencias Digitales con <span class="text-primary">InnovaciÃ³n.</span>
        </h1>
        <p class="py-6 text-lg text-gray-400">
          Somos un dÃºo creativo especializado en desarrollo web moderno, interfaces responsivas y aplicaciones centradas en el usuario.
        </p>
      </div>

      <div class="mt-10 lg:mt-0">
        <img
          src="https://www.galileo.edu/fisicc/files/2020/06/preview_video_fisicc-compressor.jpg"
          class="max-w-sm lg:max-w-md rounded-2xl shadow-2xl shadow-blue-900/50"
          alt="Abstract Design"
        />
      </div>
    </div>
  </div>

  <div class="container mx-auto px-4 mt-10">
    
    <div class="text-center mb-12">
      <h2 class="text-3xl font-bold text-white">Nuestros Talentos</h2>
      <p class="text-gray-500 mt-2">Programadores disponibles para asesorÃ­as personalizadas</p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto">
      
      @if (programmers$ | async; as programmers) {
        
        @for (prog of programmers; track prog.uid) {
          <div class="card bg-[#1e293b] border border-gray-700 shadow-xl hover:-translate-y-2 transition-transform duration-300">
            <div class="card-body items-center text-center">
              
              <div class="avatar mb-4">
                <div class="w-32 rounded-full ring ring-primary ring-offset-base-100 ring-offset-2">
                  <img 
                    [src]="prog.photoURL || 'https://ui-avatars.com/api/?name=' + prog.displayName" 
                    [alt]="prog.displayName" 
                  />
                </div>
              </div>
              
              <h2 class="card-title text-2xl text-white">
                {{ prog.displayName || 'Programador' }}
              </h2>
              
              <p class="text-primary font-medium tracking-wide text-sm uppercase">
                {{ prog.specialty || 'Desarrollador' }}
              </p>
              
              <p class="text-gray-400 mt-2 text-sm px-4 min-h-[60px] line-clamp-3">
                {{ prog.description || 'Sin descripciÃ³n disponible.' }}
              </p>

              @if (prog.availability) {
                <div class="badge badge-outline badge-accent mt-3 p-3 h-auto text-center gap-1">
                  ðŸ•’ {{ prog.availability.dias }} <br> 
                  <span class="text-xs opacity-75">({{ prog.availability.horas }})</span>
                </div>
              }

              <div class="card-actions w-full mt-6 flex flex-col gap-3">
                <button (click)="openBookingModal(prog)" class="btn btn-primary btn-block font-bold">
                  ðŸ“… Agendar AsesorÃ­a
                </button>
              </div>

            </div>
          </div>
        }

        @if (programmers.length === 0) {
          <div class="col-span-full text-center py-10">
            <p class="text-gray-500 text-lg">No hay programadores registrados en este momento.</p>
          </div>
        }

      } @else {
        <div class="col-span-full text-center py-20">
          <span class="loading loading-spinner text-primary loading-lg"></span>
        </div>
      }

    </div>
  </div>

</div>

<dialog id="booking_modal" class="modal modal-bottom sm:modal-middle">
  <div class="modal-box bg-[#1e293b] text-white border border-gray-700">
    
    <h3 class="font-bold text-lg text-primary mb-1">Solicitar AsesorÃ­a</h3>
    
    <p class="text-sm opacity-80 mb-2">
      EstÃ¡s agendando con: <strong class="text-white">{{ selectedProg?.displayName }}</strong>
    </p>

    @if (selectedProg?.availability) {
      <div class="alert alert-info bg-opacity-10 border-info/30 text-info py-2 px-3 text-xs mb-4 rounded-lg flex items-start gap-2">
        <span>ðŸ•’</span>
        <span>
          <strong>Horario Disponible:</strong> <br>
          {{ selectedProg?.availability?.dias }} <br>
          {{ selectedProg?.availability?.horas }}
        </span>
      </div>
    }

    <form [formGroup]="bookingForm" (ngSubmit)="submitBooking()">
      
      <div class="form-control w-full mb-3">
        <label class="label"><span class="label-text text-gray-300">Fecha Deseada</span></label>
        <input type="date" formControlName="date" class="input input-bordered w-full bg-[#0f172a] text-white" />
      </div>

      <div class="form-control w-full mb-3">
        <label class="label"><span class="label-text text-gray-300">Hora Preferida</span></label>
        <input type="time" formControlName="time" class="input input-bordered w-full bg-[#0f172a] text-white" />
      </div>

      <div class="form-control w-full mb-6">
        <label class="label"><span class="label-text text-gray-300">Motivo / Mensaje</span></label>
        <textarea formControlName="comment" class="textarea textarea-bordered h-24 bg-[#0f172a] text-white" placeholder="Hola, necesito ayuda con..."></textarea>
      </div>

      <div class="modal-action">
        <button type="button" class="btn btn-ghost" onclick="document.getElementById('booking_modal').close()">Cancelar</button>
        <button type="submit" class="btn btn-primary" [disabled]="bookingForm.invalid || loadingBooking()">
          @if (loadingBooking()) {
            <span class="loading loading-spinner"></span>
          }
          Confirmar Solicitud
        </button>
      </div>
    </form>
  </div>
  <form method="dialog" class="modal-backdrop">
    <button>close</button>
  </form>
</dialog>