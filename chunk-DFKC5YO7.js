import{Ja as c,Ya as l,cb as m,eb as p,g as n,j as s,k as u,n as h,r as o}from"./chunk-SBM4YC4I.js";var g=class i{authApi=o(p);authStore=o(m);router=o(l);currentUser=c(()=>this.authStore.user());constructor(){}login(t,r){let a=(t||"").trim();return!a||!r?n(()=>new Error("Email y contrase\xF1a son requeridos")):this.authApi.login({email:a,password:r}).pipe(u(e=>{this.authStore.setAuth(e),console.log("\u2705 Login exitoso mediante AuthService")}),s(e=>(console.error("\u274C Error en login:",e),n(()=>e))))}isAuthenticated(){return this.authStore.isAuthenticated()}getToken(){return this.authStore.token()}logout(){this.authStore.logout()}hasRole(t){return this.authStore.hasRole(t)}isAdmin(){return this.authStore.isAdmin()}static \u0275fac=function(r){return new(r||i)};static \u0275prov=h({token:i,factory:i.\u0275fac,providedIn:"root"})};export{g as a};
