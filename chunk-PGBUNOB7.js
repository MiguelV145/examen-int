import{a as te}from"./chunk-X3LP4BVU.js";import{a as Y}from"./chunk-B6QT5BOB.js";import"./chunk-N7LSAEK4.js";import{a as ie}from"./chunk-SIYDHOYB.js";import{h as ee}from"./chunk-O5TH4FWR.js";import"./chunk-ODAKQ5NQ.js";import{b as T,n as Z,p as Q}from"./chunk-G2VJRUEM.js";import{$b as X,C as M,Ca as H,E as G,K as j,Ma as B,Na as c,P as g,Pa as p,Pb as J,Qa as q,Qb as K,Ra as y,Sa as S,T as v,U as h,V as C,Vb as W,W as F,Xa as r,Ya as n,Za as _,ab as I,bb as w,da as A,eb as x,fb as m,h as z,k as U,lb as R,nb as a,o as O,oa as k,ob as b,p as V,pb as E,ra as d,w as N,yb as L,zb as P}from"./chunk-UHECLRXO.js";var D=class i{http=g(W);baseUrl=`${X.apiUrl}/api/users`;getUsers(){return this.http.get(this.baseUrl)}updateUserRoles(t,e){return this.http.put(`${this.baseUrl}/${t}/roles`,{roleNames:e})}deleteUser(t){return this.http.delete(`${this.baseUrl}/${t}`)}static \u0275fac=function(e){return new(e||i)};static \u0275prov=j({token:i,factory:i.\u0275fac,providedIn:"root"})};var le=(i,t)=>t.uid,de=(i,t)=>t.id;function se(i,t){if(i&1&&(r(0,"span",27),a(1),n()),i&2){let e=t.$implicit;R("bg-red-900/30",e==="ADMIN"||e==="ROLE_ADMIN")("text-red-400",e==="ADMIN"||e==="ROLE_ADMIN")("border-red-500/30",e==="ADMIN"||e==="ROLE_ADMIN")("bg-blue-900/30",e==="PROGRAMADOR"||e==="ROLE_PROGRAMADOR")("text-blue-400",e==="PROGRAMADOR"||e==="ROLE_PROGRAMADOR")("border-blue-500/30",e==="PROGRAMADOR"||e==="ROLE_PROGRAMADOR")("bg-gray-700/30",e==="USER"||e==="ROLE_USER")("text-gray-400",e==="USER"||e==="ROLE_USER")("border-gray-500/30",e==="USER"||e==="ROLE_USER"),d(),E(" ",e," ")}}function me(i,t){if(i&1&&(r(0,"div",8)(1,"span",25),a(2,"Roles actuales:"),n(),y(3,se,2,19,"span",26,q),n()),i&2){let e=m();d(3),S(e.authService.currentUser().roles)}}function ce(i,t){i&1&&(r(0,"div",9)(1,"span",28),a(2," \u26A0\uFE0F No se detectaron roles asignados "),n()())}function pe(i,t){if(i&1&&_(0,"img",13),i&2){let e,o=m();w("src",(e=o.authService.currentUser())==null?null:e.photoURL,k)}}function ue(i,t){if(i&1&&(r(0,"div",14),a(1),n()),i&2){let e,o=m();d(),E(" ",(e=o.authService.currentUser())==null||e.email==null||(e=e.email.charAt(0))==null?null:e.toUpperCase()," ")}}function _e(i,t){if(i&1&&(r(0,"div",39),_(1,"img",49),n()),i&2){let e=m().$implicit;d(),w("src",e.photoURL,k)}}function ge(i,t){if(i&1&&(r(0,"div",40),a(1),n()),i&2){let e=m().$implicit;d(),E(" ",e.email.charAt(0).toUpperCase()," ")}}function be(i,t){i&1&&(r(0,"div",43),a(1,"\u{1F6E1}\uFE0F ADMIN"),n())}function xe(i,t){i&1&&(r(0,"div",44),a(1,"\u{1F4BB} Dev"),n())}function Ee(i,t){i&1&&(r(0,"div",45),a(1,"User"),n())}function fe(i,t){i&1&&(r(0,"span",51),_(1,"span",53),a(2," Configurado "),n())}function ve(i,t){i&1&&(r(0,"span",52),a(1,"\u26A0\uFE0F Sin Horario"),n())}function he(i,t){if(i&1){let e=I();r(0,"button",50),x("click",function(){v(e);let l=m().$implicit,s=m(4);return h(s.openAvailabilityModal(l))}),c(1,fe,3,0,"span",51)(2,ve,2,0,"span",52),n()}if(i&2){let e=m().$implicit;d(),p(e.availability?1:2)}}function Ce(i,t){i&1&&(r(0,"span",47),a(1,"--"),n())}function Ae(i,t){i&1&&a(0,"\u2B07\uFE0F")}function ye(i,t){i&1&&a(0,"\u2B06\uFE0F")}function Se(i,t){if(i&1){let e=I();r(0,"div",48)(1,"div",54)(2,"button",55),x("click",function(){v(e);let l=m().$implicit,s=m(4);return h(s.toggleRole(l))}),c(3,Ae,1,0)(4,ye,1,0),n()(),r(5,"div",56)(6,"button",57),x("click",function(){v(e);let l=m().$implicit,s=m(4);return h(s.deleteUser(l))}),a(7,"\u{1F5D1}\uFE0F"),n()()()}if(i&2){let e=m().$implicit;d(),B("data-tip",e.roles!=null&&e.roles.includes("ROLE_PROGRAMADOR")?"Degradar":"Ascender"),d(2),p(e.roles!=null&&e.roles.includes("ROLE_PROGRAMADOR")?3:4)}}function we(i,t){if(i&1&&(r(0,"tr",36)(1,"td",37)(2,"div",38)(3,"div",11),c(4,_e,2,1,"div",39)(5,ge,2,1,"div",40),n(),r(6,"div")(7,"div",41),a(8),n(),r(9,"div",42),a(10),n()()()(),r(11,"td",33),c(12,be,2,0,"div",43)(13,xe,2,0,"div",44)(14,Ee,2,0,"div",45),n(),r(15,"td",33),c(16,he,3,1,"button",46)(17,Ce,2,0,"span",47),n(),r(18,"td",34),c(19,Se,8,2,"div",48),n()()),i&2){let e=t.$implicit;d(4),p(e.photoURL?4:5),d(4),b(e.displayName||"Sin nombre"),d(2),b(e.email),d(2),p(e.roles!=null&&e.roles.includes("ROLE_ADMIN")?12:e.roles!=null&&e.roles.includes("ROLE_PROGRAMADOR")?13:14),d(4),p(e.roles!=null&&e.roles.includes("ROLE_PROGRAMADOR")?16:17),d(3),p(e.roles!=null&&e.roles.includes("ROLE_ADMIN")?-1:19)}}function Re(i,t){if(i&1&&y(0,we,20,6,"tr",36,le),i&2){let e=m();S(e)}}function Te(i,t){i&1&&(r(0,"tr")(1,"td",58)(2,"div",59)(3,"div",60),C(),r(4,"svg",61),_(5,"path",62),n()(),F(),r(6,"div",33)(7,"p",63),a(8,"No se pudieron cargar los usuarios"),n(),r(9,"p",64),a(10," Posibles causas:"),_(11,"br"),a(12," \u2022 Tu usuario no tiene el rol ADMIN asignado en el backend"),_(13,"br"),a(14," \u2022 El token de sesi\xF3n expir\xF3"),_(15,"br"),a(16," \u2022 El backend no est\xE1 disponible"),_(17,"br")(18,"br"),r(19,"span",65),a(20,"Revisa la consola del navegador (F12) para m\xE1s detalles"),n()()()()()())}function De(i,t){i&1&&c(0,Re,2,0)(1,Te,21,0,"tr"),i&2&&p(t.length>0?0:1)}function Ue(i,t){if(i&1&&(r(0,"div",24)(1,"div",29)(2,"table",30)(3,"thead",31)(4,"tr")(5,"th",32),a(6,"Usuario"),n(),r(7,"th",33),a(8,"Rol"),n(),r(9,"th",33),a(10,"Horario"),n(),r(11,"th",34),a(12,"Acciones"),n()()(),r(13,"tbody",35),c(14,De,2,1),L(15,"async"),n()()()()),i&2){let e,o=m();d(14),p((e=P(15,1,o.users$))?14:-1,e)}}function Oe(i,t){i&1&&(r(0,"span",75),a(1,"\u23F3 Pendiente"),n())}function Ne(i,t){i&1&&(r(0,"span",76),a(1,"\u2705 Aprobada"),n())}function Me(i,t){i&1&&(r(0,"span",77),a(1,"\u274C Rechazada"),n())}function Fe(i,t){if(i&1&&(r(0,"tr",70)(1,"td",71),a(2),n(),r(3,"td",72),a(4),n(),r(5,"td")(6,"div",73)(7,"span",74),a(8),n(),r(9,"span",42),a(10),n()()(),r(11,"td",33),c(12,Oe,2,0,"span",75)(13,Ne,2,0,"span",76)(14,Me,2,0,"span",77),n(),r(15,"td",78),a(16),n()()),i&2){let e,o=t.$implicit;d(2),b(o.clientName),d(2),b(o.programmerName),d(4),b(o.date),d(2),b(o.time),d(2),p((e=o.status)==="pendiente"?12:e==="aprobada"?13:e==="rechazada"?14:-1),d(3),w("title",o.responseMsg),d(),E(" ",o.responseMsg||"Esperando respuesta..."," ")}}function ke(i,t){i&1&&(r(0,"tr")(1,"td",79),a(2,"No hay solicitudes registradas."),n()())}function Ie(i,t){i&1&&y(0,Fe,17,7,"tr",70,de,!1,ke,3,0,"tr"),i&2&&S(t)}function Le(i,t){if(i&1&&(r(0,"div",24)(1,"div",66)(2,"h3",67),a(3,"Supervisi\xF3n de Asesor\xEDas"),n(),r(4,"p",68),a(5,"Historial completo de solicitudes en la plataforma."),n()(),r(6,"div",29)(7,"table",30)(8,"thead",31)(9,"tr")(10,"th",32),a(11,"Cliente"),n(),r(12,"th"),a(13,"Programador"),n(),r(14,"th"),a(15,"Fecha/Hora"),n(),r(16,"th",33),a(17,"Estado"),n(),r(18,"th",69),a(19,"Respuesta"),n()()(),r(20,"tbody",35),c(21,Ie,3,1),L(22,"async"),n()()()()),i&2){let e,o=m();d(21),p((e=P(22,1,o.asesorias$))?21:-1,e)}}var ne=class i{authService=g(te);fb=g(Z);usersApi=g(D);asesoriasApi=g(ie);toastr=g(ee);refetchTrigger$=new z(void 0);users$=this.refetchTrigger$.pipe(G(()=>(console.log("\u{1F504} Cargando usuarios desde el backend..."),this.usersApi.getUsers())),O(t=>(console.log("\u2705 Usuarios obtenidos del backend:",t),t.map(e=>this.mapUser(e)))),N(t=>(console.error("\u274C Error al cargar usuarios:",t),console.error("\u274C Status:",t.status),console.error("\u274C Error body:",t.error),console.error("\u274C Headers:",t.headers),t.status===403?this.toastr.error("Tu usuario no tiene el rol ADMIN en el backend. El token est\xE1 correcto pero el rol no est\xE1 asignado.","Error 403 - Sin permisos",{timeOut:1e4}):t.status===401?this.toastr.error("Tu sesi\xF3n expir\xF3 o el token no es v\xE1lido. Intenta hacer logout y login de nuevo.","Error 401"):this.toastr.error(t.error?.message||"No se pudieron cargar los usuarios. Verifica la consola para m\xE1s detalles.",`Error ${t.status}`),U([]))),M({bufferSize:1,refCount:!0}));asesorias$=V([this.users$,this.asesoriasApi.getAllAsesorias().pipe(N(t=>(console.error("No se pudieron cargar asesorias.",t),U([]))))]).pipe(O(([t,e])=>this.mapAsesoriasForView(e,t)),M({bufferSize:1,refCount:!0}));loading=A(!1);activeTab=A("users");formUtils=Y;message=A("Panel de administraci\xF3n - Funcionalidad en construcci\xF3n. Conectar con backend cuando est\xE9 listo.");availabilityForm=this.fb.group({dias:["",T.required],startHour:["09:00",T.required],endHour:["17:00",T.required]});constructor(){}ngOnInit(){let t=this.authService.currentUser();console.log("\u{1F464} Usuario actual:",t),console.log("\u{1F511} Roles del usuario:",t?.roles),console.log("\u{1F4E7} Email:",t?.email);let e=t?.roles?.includes("ROLE_ADMIN");console.log("\u{1F6E1}\uFE0F \xBFTiene rol ADMIN?:",e);let o=this.authService.getToken();if(o)try{let l=JSON.parse(atob(o.split(".")[1]));console.log("\u{1F3AB} TOKEN JWT DECODIFICADO:",l),console.log("\u{1F3AB} Roles en el token:",l.roles||l.authorities||l.role),console.log("\u{1F3AB} Token completo (primeros 100 chars):",o.substring(0,100)+"...")}catch(l){console.error("\u274C Error al decodificar token:",l)}else console.error("\u274C No hay token en localStorage!");e||this.toastr.warning("Tu usuario no tiene el rol ADMIN asignado. Contacta al administrador del sistema.","Sin permisos",{timeOut:8e3}),this.refetchTrigger$.next()}switchTab(t){this.activeTab.set(t)}async toggleRole(t){if(!t.uid)return;let e=Number(t.uid),o=t.roles.includes("ROLE_PROGRAMADOR"),l=o?["ROLE_USER"]:["ROLE_PROGRAMADOR","ROLE_USER"],s=o?"Degradando":"Ascendiendo";console.log(`\u{1F504} ${s} rol de usuario ${e}:`,{from:t.roles,to:l}),this.toastr.info(`${s} a ${t.displayName||t.email}...`),this.usersApi.updateUserRoles(e,l).subscribe({next:u=>{console.log("\u2705 Rol actualizado:",u),this.toastr.success("Rol actualizado exitosamente","\xC9xito"),this.refetchTrigger$.next()},error:u=>{console.error("\u274C Error al cambiar rol:",u),console.error("\u274C Status:",u.status),console.error("\u274C Error body:",u.error);let f=u?.error?.message||"No se pudo actualizar el rol";this.toastr.error(f,"Error")}})}async deleteUser(t){if(!t.uid||!confirm(`\xBFEst\xE1s seguro de eliminar a ${t.displayName||t.email}?

Esta acci\xF3n no se puede deshacer.`))return;let o=Number(t.uid);this.usersApi.deleteUser(o).subscribe({next:()=>{this.toastr.success("Usuario eliminado exitosamente","\xC9xito"),this.refetchTrigger$.next()},error:l=>{let s=l?.error?.message||"No se pudo eliminar el usuario";this.toastr.error(s,"Error"),console.error("Error al eliminar usuario:",l)}})}openAvailabilityModal(t){}closeAvailabilityModal(){}async saveAvailability(){}async updateAsesoriaStatus(t,e){}mapUser(t){return{uid:String(t.id),email:t.email,roles:t.roles||[],displayName:t.username||t.email}}mapAsesoriasForView(t,e){let o=new Map(e.map(l=>[Number(l.uid),l]));return t.map(l=>{let s=l,u=s.programmer?.id??s.programmerId??0,f=s.client?.id??s.clientId??0,oe=s.programmer?.displayName||s.programmer?.username||this.resolveUserName(o,u,"Programador"),re=s.client?.username||this.resolveUserName(o,f,"Cliente"),$=this.resolveDateTime(s.startAt,s.date,s.time);return{id:s.id?.toString()||"",programmerId:u.toString(),programmerName:oe,clientId:f.toString(),clientName:re,date:$.date,time:$.time,comment:s.comment||s.topic||"",status:this.mapStatus(s.status),responseMsg:s.responseMsg||s.notes||void 0}})}resolveUserName(t,e,o){if(!e)return o;let l=t.get(e);return l?.displayName||l?.email||`${o} ${e}`}resolveDateTime(t,e,o){if(t){let l=new Date(t);if(!isNaN(l.getTime()))return{date:l.toLocaleDateString(),time:l.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}}return{date:e||"",time:o||""}}mapStatus(t){switch(t){case"PENDIENTE":case"PENDING":return"pendiente";case"CONFIRMADA":case"CONFIRMED":return"aprobada";case"RECHAZADA":case"CANCELADA":case"REJECTED":case"CANCELLED":case"EN_CURSO":case"COMPLETADA":default:return"rechazada"}}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=H({type:i,selectors:[["app-adminpage"]],decls:34,vars:37,consts:[[1,"pt-24","min-h-screen","bg-[#0f172a]","text-gray-200","font-sans","p-4","lg:p-8","pb-20","relative"],[1,"fixed","inset-0","pointer-events-none"],[1,"absolute","top-[-10%]","left-[-10%]","w-[500px]","h-[500px]","bg-blue-600/10","rounded-full","blur-[120px]"],[1,"absolute","bottom-[-10%]","right-[-10%]","w-[500px]","h-[500px]","bg-purple-600/10","rounded-full","blur-[120px]"],[1,"max-w-7xl","mx-auto","mb-10","flex","flex-col","md:flex-row","justify-between","items-center","gap-6","relative","z-10","animate-fade-in-down"],[1,"text-center","md:text-left"],[1,"text-4xl","md:text-5xl","font-black","text-white","tracking-tight","mb-2"],[1,"text-gray-400","font-medium","text-lg"],[1,"mt-3","flex","flex-wrap","gap-2"],[1,"mt-3"],[1,"flex","items-center","gap-4","bg-[#1e293b]/60","backdrop-blur-xl","px-6","py-3","rounded-2xl","shadow-xl","border","border-white/5","hover:border-cyan-500/30","transition-all","duration-300","group"],[1,"avatar","placeholder"],[1,"w-12","rounded-full","ring-2","ring-[#0f172a]","group-hover:ring-cyan-500","transition-all","shadow-lg"],["alt","Admin",3,"src"],[1,"bg-gradient-to-br","from-cyan-500","to-blue-600","text-white","w-full","h-full","flex","items-center","justify-center","font-bold","text-xl"],[1,"text-left"],[1,"font-bold","text-white","text-base","leading-tight"],[1,"text-[10px]","font-bold","text-cyan-400","tracking-wider","uppercase","bg-cyan-900/20","px-2","py-0.5","rounded","border","border-cyan-500/20"],[1,"max-w-7xl","mx-auto","mb-8","relative","z-10"],["role","tablist",1,"flex","p-1","gap-1","bg-[#1e293b]/80","backdrop-blur-md","rounded-xl","max-w-md","mx-auto","md:mx-0","border","border-white/5","shadow-lg"],["role","tab",1,"flex-1","py-2.5","px-4","rounded-lg","text-sm","font-bold","transition-all","duration-300","flex","justify-center","items-center","gap-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],[1,"max-w-7xl","mx-auto","card","bg-[#1e293b]/60","backdrop-blur-xl","border","border-white/5","shadow-2xl","overflow-hidden","rounded-3xl","animate-fade-in","relative","z-10"],[1,"text-xs","text-gray-500","font-semibold"],[1,"border",3,"bg-red-900/30","text-red-400","border-red-500/30","bg-blue-900/30","text-blue-400","border-blue-500/30","bg-gray-700/30","text-gray-400","border-gray-500/30"],[1,"border"],[1,"text-xs","font-bold","px-3","py-1.5","rounded-lg","bg-yellow-900/30","text-yellow-400","border","border-yellow-500/30"],[1,"overflow-x-auto"],[1,"table","w-full","align-middle"],[1,"bg-[#0f172a]/50","text-gray-400","uppercase","text-[10px]","font-bold","tracking-wider","border-b","border-white/5"],[1,"pl-8","py-5"],[1,"text-center"],[1,"text-right","pr-8"],[1,"divide-y","divide-white/5"],[1,"hover:bg-white/5","transition-colors","group"],[1,"pl-8","py-4"],[1,"flex","items-center","gap-4"],[1,"w-10","h-10","rounded-full","ring-2","ring-white/10","group-hover:ring-cyan-500","transition-all"],[1,"bg-gradient-to-tr","from-gray-700","to-gray-600","text-white","ring-2","ring-white/10","w-10","h-10","rounded-full","flex","items-center","justify-center","font-bold","text-sm","shadow-inner"],[1,"font-bold","text-gray-200","group-hover:text-cyan-400","transition-colors"],[1,"text-xs","text-gray-500","font-mono"],[1,"badge","badge-error","gap-1","text-red-200","font-bold","bg-red-500/10","border-red-500/20","text-xs","py-3"],[1,"badge","badge-info","gap-1","text-cyan-200","font-bold","bg-cyan-500/10","border-cyan-500/20","text-xs","py-3"],[1,"badge","badge-ghost","text-gray-400","border-white/10","text-xs","py-3"],[1,"btn","btn-xs","btn-ghost","border","border-white/10","hover:border-cyan-500","hover:bg-cyan-500/10","hover:text-cyan-400","transition-all","group/btn","h-8","px-3","rounded-lg","font-normal"],[1,"text-xs","text-gray-600","font-mono","select-none"],[1,"flex","justify-end","gap-1","opacity-60","group-hover:opacity-100","transition-opacity"],[3,"src"],[1,"btn","btn-xs","btn-ghost","border","border-white/10","hover:border-cyan-500","hover:bg-cyan-500/10","hover:text-cyan-400","transition-all","group/btn","h-8","px-3","rounded-lg","font-normal",3,"click"],[1,"text-emerald-400","font-medium","flex","items-center","gap-2","text-xs"],[1,"text-amber-400","font-medium","flex","items-center","gap-1","text-xs"],[1,"w-1.5","h-1.5","rounded-full","bg-emerald-400","animate-pulse"],[1,"tooltip","tooltip-left"],[1,"btn","btn-sm","btn-square","btn-ghost","hover:bg-white/10","text-gray-400","hover:text-white",3,"click"],["data-tip","Eliminar",1,"tooltip","tooltip-left"],[1,"btn","btn-sm","btn-square","btn-ghost","text-red-400","hover:bg-red-500/10","hover:text-red-300",3,"click"],["colspan","4",1,"text-center","py-16"],[1,"flex","flex-col","items-center","gap-4"],[1,"w-20","h-20","rounded-full","bg-yellow-500/10","flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-10","w-10","text-yellow-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],[1,"text-lg","font-bold","text-gray-300","mb-2"],[1,"text-sm","text-gray-500","max-w-md"],[1,"text-cyan-400","font-semibold"],[1,"p-6","border-b","border-white/5","bg-white/[0.02]"],[1,"font-bold","text-white","text-xl"],[1,"text-xs","text-gray-500","mt-1"],[1,"pr-8"],[1,"hover:bg-white/5","transition-colors"],[1,"pl-8","py-4","font-bold","text-white"],[1,"font-medium","text-cyan-400"],[1,"flex","flex-col"],[1,"font-bold","text-gray-300","text-sm"],[1,"badge","badge-warning","bg-amber-500/10","text-amber-300","border-amber-500/20","gap-1","font-bold","text-xs","py-3","animate-pulse"],[1,"badge","badge-success","bg-emerald-500/10","text-emerald-300","border-emerald-500/20","gap-1","font-bold","text-xs","py-3"],[1,"badge","badge-error","bg-red-500/10","text-red-300","border-red-500/20","gap-1","font-bold","text-xs","py-3"],[1,"pr-8","text-sm","italic","opacity-70","max-w-[200px]","truncate",3,"title"],["colspan","5",1,"text-center","py-24","opacity-30","text-gray-400","font-medium","text-lg"]],template:function(e,o){if(e&1&&(r(0,"div",0)(1,"div",1),_(2,"div",2)(3,"div",3),n(),r(4,"div",4)(5,"div",5)(6,"h1",6),a(7," Panel de Control "),n(),r(8,"p",7),a(9,"Administraci\xF3n integral del sistema"),n(),c(10,me,5,0,"div",8)(11,ce,3,0,"div",9),n(),r(12,"div",10)(13,"div",11)(14,"div",12),c(15,pe,1,1,"img",13)(16,ue,2,1,"div",14),n()(),r(17,"div",15)(18,"p",16),a(19),n(),r(20,"span",17),a(21,"Super Admin"),n()()()(),r(22,"div",18)(23,"div",19)(24,"button",20),x("click",function(){return o.switchTab("users")}),C(),r(25,"svg",21),_(26,"path",22),n(),a(27," Usuarios "),n(),F(),r(28,"button",20),x("click",function(){return o.switchTab("asesorias")}),C(),r(29,"svg",21),_(30,"path",23),n(),a(31," Asesor\xEDas "),n()()(),c(32,Ue,16,3,"div",24),c(33,Le,23,3,"div",24),n()),e&2){let l,s,u;d(10),p((l=o.authService.currentUser())!=null&&l.roles&&o.authService.currentUser().roles.length>0?10:11),d(5),p((s=o.authService.currentUser())!=null&&s.photoURL?15:16),d(4),b(((u=o.authService.currentUser())==null?null:u.displayName)||"Administrador"),d(5),R("bg-gradient-to-r",o.activeTab()==="users")("from-cyan-600",o.activeTab()==="users")("to-blue-600",o.activeTab()==="users")("text-white",o.activeTab()==="users")("shadow-lg",o.activeTab()==="users")("text-gray-400",o.activeTab()!=="users")("hover:bg-white/5",o.activeTab()!=="users")("hover:text-white",o.activeTab()!=="users"),d(4),R("bg-gradient-to-r",o.activeTab()==="asesorias")("from-purple-600",o.activeTab()==="asesorias")("to-pink-600",o.activeTab()==="asesorias")("text-white",o.activeTab()==="asesorias")("shadow-lg",o.activeTab()==="asesorias")("text-gray-400",o.activeTab()!=="asesorias")("hover:bg-white/5",o.activeTab()!=="asesorias")("hover:text-white",o.activeTab()!=="asesorias"),d(4),p(o.activeTab()==="users"?32:-1),d(),p(o.activeTab()==="asesorias"?33:-1)}},dependencies:[K,Q,J],encapsulation:2,changeDetection:0})};export{ne as Adminpage};
