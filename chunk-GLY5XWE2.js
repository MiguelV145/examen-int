import{a as R}from"./chunk-UGCZ5MT7.js";import{b as h,k as z,l as L,m as N}from"./chunk-KCHDJH2V.js";import{$,Aa as _,Ba as v,D as E,Ga as U,Ha as D,L as S,N as r,Na as V,Oa as I,U as M,aa as m,ca as s,ea as T,f as C,fa as A,ka as i,la as e,ma as u,pa as F,qa as f,r as y,t as b,ta as x,u as g,ua as l,v as w,w as P,xa as k,za as a}from"./chunk-M7J3DORS.js";var j=(t,d)=>d.uid,B=(t,d)=>d.id;function q(t,d){if(t&1&&u(0,"img",11),t&2){let o,n=l();f("src",(o=n.authService.currentUser())==null?null:o.photoURL,S)}}function O(t,d){if(t&1&&(i(0,"div",12),a(1),e()),t&2){let o,n=l();r(),v(" ",(o=n.authService.currentUser())==null||o.email==null||(o=o.email.charAt(0))==null?null:o.toUpperCase()," ")}}function G(t,d){if(t&1&&(i(0,"div",33),u(1,"img",43),e()),t&2){let o=l().$implicit;r(),f("src",o.photoURL,S)}}function J(t,d){if(t&1&&(i(0,"div",34),a(1),e()),t&2){let o=l().$implicit;r(),v(" ",o.email.charAt(0).toUpperCase()," ")}}function K(t,d){t&1&&(i(0,"div",37),a(1,"\u{1F6E1}\uFE0F Admin"),e())}function Q(t,d){t&1&&(i(0,"div",38),a(1,"\u{1F4BB} Dev"),e())}function W(t,d){t&1&&(i(0,"div",39),a(1,"User"),e())}function X(t,d){t&1&&(i(0,"span",45),u(1,"span",47),a(2," Configurado "),e())}function Y(t,d){t&1&&(i(0,"span",46),a(1,"\u26A0\uFE0F Sin Horario"),e())}function Z(t,d){if(t&1){let o=F();i(0,"button",44),x("click",function(){b(o);let c=l().$implicit,p=l(3);return g(p.openAvailabilityModal(c))}),m(1,X,3,0,"span",45)(2,Y,2,0,"span",46),e()}if(t&2){let o=l().$implicit;r(),s(o.availability?1:2)}}function tt(t,d){t&1&&(i(0,"span",41),a(1,"--"),e())}function et(t,d){t&1&&a(0,"\u2B07\uFE0F")}function it(t,d){t&1&&a(0,"\u2B06\uFE0F")}function nt(t,d){if(t&1){let o=F();i(0,"div",42)(1,"div",48)(2,"button",49),x("click",function(){b(o);let c=l().$implicit,p=l(3);return g(p.toggleRole(c))}),m(3,et,1,0)(4,it,1,0),e()(),i(5,"div",50)(6,"button",51),x("click",function(){b(o);let c=l().$implicit,p=l(3);return g(p.deleteUser(c))}),a(7,"\u{1F5D1}\uFE0F"),e()()()}if(t&2){let o=l().$implicit;r(),$("data-tip",o.role==="Programador"?"Degradar":"Ascender"),r(2),s(o.role==="Programador"?3:4)}}function ot(t,d){if(t&1&&(i(0,"tr",30)(1,"td",31)(2,"div",32)(3,"div",9),m(4,G,2,1,"div",33)(5,J,2,1,"div",34),e(),i(6,"div")(7,"div",35),a(8),e(),i(9,"div",36),a(10),e()()()(),i(11,"td",27),m(12,K,2,0,"div",37)(13,Q,2,0,"div",38)(14,W,2,0,"div",39),e(),i(15,"td",27),m(16,Z,3,1,"button",40)(17,tt,2,0,"span",41),e(),i(18,"td",28),m(19,nt,8,2,"div",42),e()()),t&2){let o,n=d.$implicit;r(4),s(n.photoURL?4:5),r(4),_(n.displayName||"Sin nombre"),r(2),_(n.email),r(2),s((o=n.role)==="admin"?12:o==="Programador"?13:14),r(4),s(n.role==="Programador"?16:17),r(3),s(n.role!=="admin"?19:-1)}}function at(t,d){t&1&&T(0,ot,20,6,"tr",30,j),t&2&&A(d)}function dt(t,d){if(t&1&&(i(0,"div",22)(1,"div",23)(2,"table",24)(3,"thead",25)(4,"tr")(5,"th",26),a(6,"Usuario"),e(),i(7,"th",27),a(8,"Rol"),e(),i(9,"th",27),a(10,"Horario"),e(),i(11,"th",28),a(12,"Acciones"),e()()(),i(13,"tbody",29),m(14,at,2,0),U(15,"async"),e()()()()),t&2){let o,n=l();r(14),s((o=D(15,1,n.users$))?14:-1,o)}}function rt(t,d){t&1&&(i(0,"span",61),a(1,"\u23F3 Pendiente"),e())}function lt(t,d){t&1&&(i(0,"span",62),a(1,"\u2705 Aprobada"),e())}function mt(t,d){t&1&&(i(0,"span",63),a(1,"\u274C Rechazada"),e())}function st(t,d){if(t&1&&(i(0,"tr",56)(1,"td",57),a(2),e(),i(3,"td",58),a(4),e(),i(5,"td")(6,"div",59)(7,"span",60),a(8),e(),i(9,"span",36),a(10),e()()(),i(11,"td",27),m(12,rt,2,0,"span",61)(13,lt,2,0,"span",62)(14,mt,2,0,"span",63),e(),i(15,"td",64),a(16),e()()),t&2){let o,n=d.$implicit;r(2),_(n.clientName),r(2),_(n.programmerName),r(4),_(n.date),r(2),_(n.time),r(2),s((o=n.status)==="pendiente"?12:o==="aprobada"?13:o==="rechazada"?14:-1),r(3),f("title",n.responseMsg),r(),v(" ",n.responseMsg||"Esperando respuesta..."," ")}}function ct(t,d){t&1&&(i(0,"tr")(1,"td",65),a(2,"No hay solicitudes registradas."),e()())}function pt(t,d){t&1&&T(0,st,17,7,"tr",56,B,!1,ct,3,0,"tr"),t&2&&A(d)}function _t(t,d){if(t&1&&(i(0,"div",22)(1,"div",52)(2,"h3",53),a(3,"Supervisi\xF3n de Asesor\xEDas"),e(),i(4,"p",54),a(5,"Historial completo de solicitudes en la plataforma."),e()(),i(6,"div",23)(7,"table",24)(8,"thead",25)(9,"tr")(10,"th",26),a(11,"Cliente"),e(),i(12,"th"),a(13,"Programador"),e(),i(14,"th"),a(15,"Fecha/Hora"),e(),i(16,"th",27),a(17,"Estado"),e(),i(18,"th",55),a(19,"Respuesta"),e()()(),i(20,"tbody",29),m(21,pt,3,1),U(22,"async"),e()()()()),t&2){let o,n=l();r(21),s((o=D(22,1,n.asesorias$))?21:-1,o)}}var H=class t{authService=y(R);fb=y(z);users$=C([]);asesorias$=C([]);loading=E(!1);activeTab=E("users");formUtils=N;message=E("Panel de administraci\xF3n - Funcionalidad en construcci\xF3n. Conectar con backend cuando est\xE9 listo.");availabilityForm=this.fb.group({dias:["",h.required],startHour:["09:00",h.required],endHour:["17:00",h.required]});constructor(){}switchTab(d){this.activeTab.set(d)}async toggleRole(d){}async deleteUser(d){}openAvailabilityModal(d){}closeAvailabilityModal(){}async saveAvailability(){}async updateAsesoriaStatus(d,o){}static \u0275fac=function(o){return new(o||t)};static \u0275cmp=M({type:t,selectors:[["app-adminpage"]],decls:32,vars:36,consts:[[1,"pt-24","min-h-screen","bg-[#0f172a]","text-gray-200","font-sans","p-4","lg:p-8","pb-20","relative"],[1,"fixed","inset-0","pointer-events-none"],[1,"absolute","top-[-10%]","left-[-10%]","w-[500px]","h-[500px]","bg-blue-600/10","rounded-full","blur-[120px]"],[1,"absolute","bottom-[-10%]","right-[-10%]","w-[500px]","h-[500px]","bg-purple-600/10","rounded-full","blur-[120px]"],[1,"max-w-7xl","mx-auto","mb-10","flex","flex-col","md:flex-row","justify-between","items-center","gap-6","relative","z-10","animate-fade-in-down"],[1,"text-center","md:text-left"],[1,"text-4xl","md:text-5xl","font-black","text-white","tracking-tight","mb-2"],[1,"text-gray-400","font-medium","text-lg"],[1,"flex","items-center","gap-4","bg-[#1e293b]/60","backdrop-blur-xl","px-6","py-3","rounded-2xl","shadow-xl","border","border-white/5","hover:border-cyan-500/30","transition-all","duration-300","group"],[1,"avatar","placeholder"],[1,"w-12","rounded-full","ring-2","ring-[#0f172a]","group-hover:ring-cyan-500","transition-all","shadow-lg"],["alt","Admin",3,"src"],[1,"bg-gradient-to-br","from-cyan-500","to-blue-600","text-white","w-full","h-full","flex","items-center","justify-center","font-bold","text-xl"],[1,"text-left"],[1,"font-bold","text-white","text-base","leading-tight"],[1,"text-[10px]","font-bold","text-cyan-400","tracking-wider","uppercase","bg-cyan-900/20","px-2","py-0.5","rounded","border","border-cyan-500/20"],[1,"max-w-7xl","mx-auto","mb-8","relative","z-10"],["role","tablist",1,"flex","p-1","gap-1","bg-[#1e293b]/80","backdrop-blur-md","rounded-xl","max-w-md","mx-auto","md:mx-0","border","border-white/5","shadow-lg"],["role","tab",1,"flex-1","py-2.5","px-4","rounded-lg","text-sm","font-bold","transition-all","duration-300","flex","justify-center","items-center","gap-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],[1,"max-w-7xl","mx-auto","card","bg-[#1e293b]/60","backdrop-blur-xl","border","border-white/5","shadow-2xl","overflow-hidden","rounded-3xl","animate-fade-in","relative","z-10"],[1,"overflow-x-auto"],[1,"table","w-full","align-middle"],[1,"bg-[#0f172a]/50","text-gray-400","uppercase","text-[10px]","font-bold","tracking-wider","border-b","border-white/5"],[1,"pl-8","py-5"],[1,"text-center"],[1,"text-right","pr-8"],[1,"divide-y","divide-white/5"],[1,"hover:bg-white/5","transition-colors","group"],[1,"pl-8","py-4"],[1,"flex","items-center","gap-4"],[1,"w-10","h-10","rounded-full","ring-2","ring-white/10","group-hover:ring-cyan-500","transition-all"],[1,"bg-gradient-to-tr","from-gray-700","to-gray-600","text-white","ring-2","ring-white/10","w-10","h-10","rounded-full","flex","items-center","justify-center","font-bold","text-sm","shadow-inner"],[1,"font-bold","text-gray-200","group-hover:text-cyan-400","transition-colors"],[1,"text-xs","text-gray-500","font-mono"],[1,"badge","badge-error","gap-1","text-red-200","font-bold","bg-red-500/10","border-red-500/20","text-xs","py-3"],[1,"badge","badge-info","gap-1","text-cyan-200","font-bold","bg-cyan-500/10","border-cyan-500/20","text-xs","py-3"],[1,"badge","badge-ghost","text-gray-400","border-white/10","text-xs","py-3"],[1,"btn","btn-xs","btn-ghost","border","border-white/10","hover:border-cyan-500","hover:bg-cyan-500/10","hover:text-cyan-400","transition-all","group/btn","h-8","px-3","rounded-lg","font-normal"],[1,"text-xs","text-gray-600","font-mono","select-none"],[1,"flex","justify-end","gap-1","opacity-60","group-hover:opacity-100","transition-opacity"],[3,"src"],[1,"btn","btn-xs","btn-ghost","border","border-white/10","hover:border-cyan-500","hover:bg-cyan-500/10","hover:text-cyan-400","transition-all","group/btn","h-8","px-3","rounded-lg","font-normal",3,"click"],[1,"text-emerald-400","font-medium","flex","items-center","gap-2","text-xs"],[1,"text-amber-400","font-medium","flex","items-center","gap-1","text-xs"],[1,"w-1.5","h-1.5","rounded-full","bg-emerald-400","animate-pulse"],[1,"tooltip","tooltip-left"],[1,"btn","btn-sm","btn-square","btn-ghost","hover:bg-white/10","text-gray-400","hover:text-white",3,"click"],["data-tip","Eliminar",1,"tooltip","tooltip-left"],[1,"btn","btn-sm","btn-square","btn-ghost","text-red-400","hover:bg-red-500/10","hover:text-red-300",3,"click"],[1,"p-6","border-b","border-white/5","bg-white/[0.02]"],[1,"font-bold","text-white","text-xl"],[1,"text-xs","text-gray-500","mt-1"],[1,"pr-8"],[1,"hover:bg-white/5","transition-colors"],[1,"pl-8","py-4","font-bold","text-white"],[1,"font-medium","text-cyan-400"],[1,"flex","flex-col"],[1,"font-bold","text-gray-300","text-sm"],[1,"badge","badge-warning","bg-amber-500/10","text-amber-300","border-amber-500/20","gap-1","font-bold","text-xs","py-3","animate-pulse"],[1,"badge","badge-success","bg-emerald-500/10","text-emerald-300","border-emerald-500/20","gap-1","font-bold","text-xs","py-3"],[1,"badge","badge-error","bg-red-500/10","text-red-300","border-red-500/20","gap-1","font-bold","text-xs","py-3"],[1,"pr-8","text-sm","italic","opacity-70","max-w-[200px]","truncate",3,"title"],["colspan","5",1,"text-center","py-24","opacity-30","text-gray-400","font-medium","text-lg"]],template:function(o,n){if(o&1&&(i(0,"div",0)(1,"div",1),u(2,"div",2)(3,"div",3),e(),i(4,"div",4)(5,"div",5)(6,"h1",6),a(7," Panel de Control "),e(),i(8,"p",7),a(9,"Administraci\xF3n integral del sistema"),e()(),i(10,"div",8)(11,"div",9)(12,"div",10),m(13,q,1,1,"img",11)(14,O,2,1,"div",12),e()(),i(15,"div",13)(16,"p",14),a(17),e(),i(18,"span",15),a(19,"Super Admin"),e()()()(),i(20,"div",16)(21,"div",17)(22,"button",18),x("click",function(){return n.switchTab("users")}),w(),i(23,"svg",19),u(24,"path",20),e(),a(25," Usuarios "),e(),P(),i(26,"button",18),x("click",function(){return n.switchTab("asesorias")}),w(),i(27,"svg",19),u(28,"path",21),e(),a(29," Asesor\xEDas "),e()()(),m(30,dt,16,3,"div",22),m(31,_t,23,3,"div",22),e()),o&2){let c,p;r(13),s((c=n.authService.currentUser())!=null&&c.photoURL?13:14),r(4),_(((p=n.authService.currentUser())==null?null:p.displayName)||"Administrador"),r(5),k("bg-gradient-to-r",n.activeTab()==="users")("from-cyan-600",n.activeTab()==="users")("to-blue-600",n.activeTab()==="users")("text-white",n.activeTab()==="users")("shadow-lg",n.activeTab()==="users")("text-gray-400",n.activeTab()!=="users")("hover:bg-white/5",n.activeTab()!=="users")("hover:text-white",n.activeTab()!=="users"),r(4),k("bg-gradient-to-r",n.activeTab()==="asesorias")("from-purple-600",n.activeTab()==="asesorias")("to-pink-600",n.activeTab()==="asesorias")("text-white",n.activeTab()==="asesorias")("shadow-lg",n.activeTab()==="asesorias")("text-gray-400",n.activeTab()!=="asesorias")("hover:bg-white/5",n.activeTab()!=="asesorias")("hover:text-white",n.activeTab()!=="asesorias"),r(4),s(n.activeTab()==="users"?30:-1),r(),s(n.activeTab()==="asesorias"?31:-1)}},dependencies:[I,L,V],encapsulation:2,changeDetection:0})};export{H as Adminpage};
